webpackJsonp([5],{1004:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{loadedScripts:e.get("loadedScripts")}}n.d(t,"a",function(){return m});var r=n(1),l=n.n(r),c=n(908),u=(n(17),n(37)),d=(n.n(u),n(98)),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state=a.getInitialState(),a.loadAce=a.loadAce.bind(a),a.initializeAce=a.initializeAce.bind(a),a.isAceLoaded=a.isAceLoaded.bind(a),a.onAceValueChanged=a.onAceValueChanged.bind(a),a.setModeAndTheme=a.setModeAndTheme.bind(a),a.onFocus=a.onFocus.bind(a),a.onBlur=a.onBlur.bind(a),a.moveCursorAndFocus=a.moveCursorAndFocus.bind(a),a.editorId=n.i(d.a)(),a}return a(t,e),p(t,[{key:"loadAce",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(this.isAceLoaded())return void this.initializeAce();n.i(c.b)()}},{key:"getInitialState",value:function(){return{isFocused:!1}}},{key:"setModeAndTheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;e.aceConfig&&(window.ace.config.setModuleUrl(e.aceConfig.getIn(["mode","name"]),e.aceConfig.getIn(["mode","url"])),window.ace.config.setModuleUrl(e.aceConfig.getIn(["theme","name"]),e.aceConfig.getIn(["theme","url"])),this.ace&&(this.ace.session.setMode(e.aceConfig.getIn(["mode","name"])),this.ace.setTheme(e.aceConfig.getIn(["theme","name"]))))}},{key:"initializeAce",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(window.ace){var n=t.options;this.ace=window.ace.edit("ace-editor-"+this.editorId,n),this.ace.session.setUseSoftTabs(!1),this.ace.on("change",this.onAceValueChanged),this.ace.on("focus",this.onFocus),this.ace.on("blur",this.onBlur),t.code&&this.ace.setValue(t.code,this.props.cursorAtEnd?1:-1),this.ace.commands.addCommand({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-Shift-Enter",mac:"Command-Shift-Enter"},exec:function(t){e.props.onEnter&&e.props.onEnter()}}),this.moveCursorAndFocus(t),this.props.setRef&&this.props.setRef(this.ace),this.setModeAndTheme()}}},{key:"moveCursorAndFocus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;e.initialCursorPosition&&(this.ace.moveCursorToPosition(e.initialCursorPosition),e.preventAutoFocus||this.ace.focus())}},{key:"onAceValueChanged",value:function(e){if("insert"==e.action&&e.lines&&1==e.lines.length&&e.lines[0].match(/(â€œ|â€|â€˜|â€™)/)&&e.start&&e.end)return this.ace.session.replace(new window.ace.Range(e.start.row,e.start.column,e.end.row,e.end.column),e.lines[0].match(/(â€œ|â€)/)?'"':"'"),void this.ace.moveCursorTo(e.start.row,e.start.column);this.props.onChange&&this.props.onChange({code:this.ace.getValue()})}},{key:"onFocus",value:function(e){this.props.onChange&&this.props.onChange({isEditorFocused:!0})}},{key:"onBlur",value:function(e){this.props.onChange&&this.props.onChange({isEditorFocused:!1})}},{key:"componentDidMount",value:function(){this.loadAce()}},{key:"componentWillUnmount",value:function(){this.ace&&(this.ace.destroy(),this.ace=null,this.editorId=null)}},{key:"isAceLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.loadedScripts&&e.loadedScripts.getIn(["ace","hasLoaded"])}},{key:"componentWillReceiveProps",value:function(e){!this.isAceLoaded(this.props)&&this.isAceLoaded(e)&&this.initializeAce(e),e.aceConfig&&(!this.props.aceConfig||this.props.aceConfig&&this.props.aceConfig.getIn(["mode","name"])!=e.aceConfig.getIn(["mode","name"]))&&this.ace&&this.setModeAndTheme(e),e.aceConfig||this.ace.getSession().setMode(null),this.ace&&void 0!==e.code&&e.code!==this.ace.getValue()&&(this.ace.setValue(e.code,e.cursorAtEnd?1:-1),e.newCursor&&this.ace.moveCursorToPosition(e.newCursor)),this.props.initialCursorPosition!=e.initialCursorPosition&&this.moveCursorAndFocus(e),e.options&&this.props.options&&this.props.options.maxLines!=e.options.maxLines&&this.ace.setOptions({maxLines:e.options.maxLines})}},{key:"focus",value:function(){this.ace&&this.ace.focus()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"code-editor-ace"},l.a.createElement("div",{id:"ace-editor-"+this.editorId,ref:function(t){return e.textareaNode=t},className:"cl-ace-editor"}))}}]),t}(l.a.PureComponent),m=n.i(u.connect)(s,{},null,{withRef:!0})(h)},1006:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser"),discussions:e.get("discussions")}}n.d(t,"a",function(){return E});var r=n(1),l=n.n(r),c=n(949),u=n.n(c),d=n(37),p=(n.n(d),n(15)),h=(n.n(p),n(326)),m=(n.n(h),n(38)),f=n(323),g=n(97),v=n(59),y=(n.n(v),n(39)),b=(n.n(y),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),k=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onRatingChange=n.onRatingChange.bind(n),n.onToggleChoiceSelect=n.onToggleChoiceSelect.bind(n),n.onReviewChange=n.onReviewChange.bind(n),n.onSubmitDiscussionFeedback=n.onSubmitDiscussionFeedback.bind(n),n.onEditDiscussionFeedbackClick=n.onEditDiscussionFeedbackClick.bind(n),n.getInitialState=n.getInitialState.bind(n),n.scrollToFeedbackForm=n.scrollToFeedbackForm.bind(n),n.fetchFeedback=n.fetchFeedback.bind(n),n.getFeedbackPrompt=n.getFeedbackPrompt.bind(n),n.state=n.getInitialState(e),n}return a(t,e),b(t,[{key:"getFeedbackPrompt",value:function(e){var t=[],i=e.discussions&&e.discussions.get(e.discussionId);return i&&(t=n.i(y.fromJS)(i.get("feedbackPrompts")?i.get("feedbackPrompts"):[]).toJS()),t&&t.forEach(function(t){var n=t.eid,i=t.prompt.choices;if("4223a782ede74c1aac692f405b11e16b"==n||"cb269d4f5b114e5892dade3b78984049"==n){var o=i.indexOf("Better Audio");e.videoHack&&-1==o?t.prompt.choices.splice(1,0,"Better Audio"):e.videoHack||-1==o||t.prompt.choices.splice(o,1)}if("bc70b0c814f647929b51870d4da5dfd8"==n||"5acf55580236443e966cc4cbf021cbcc"==n){-1!=t.prompt.prompt.indexOf("Write any other feedback you have on this")&&e.videoHack?t.prompt.prompt="If you could change one thing about this video, what would it be?":t.prompt.prompt="Write any other feedback you have on this tutorial"}}),t}},{key:"getInitialState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getFeedbackPrompt(e),o={showFeedbackForm:!n&&(t&&t.showFeedbackForm||e.showFeedbackForm||e.triggerModal||!1),submittedFeedbackForm:!n&&(t&&t.submittedFeedbackForm||!1),feedbackPrompts:i};return this.fetchFeedback(o),o}},{key:"fetchFeedback",value:function(){0==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state).feedbackPrompts.length&&this.props.currentLoggedInUser&&this.props.getDiscussionFeedback(this.props.discussionId,this.props.displayedPlaylistId)}},{key:"componentWillReceiveProps",value:function(e){this.props.discussionId==e.discussionId&&this.props.showFeedbackForm==e.showFeedbackForm||this.setState(this.getInitialState(e,this.state,this.props.discussionId!=e.discussionId));var t=this.getFeedbackPrompt(this.props),n=this.getFeedbackPrompt(e);(0==t.length&&0!=n.length||this.props.videoHack!=e.videoHack)&&this.setState({feedbackPrompts:n})}},{key:"onRatingChange",value:function(e,t){var n=this,i=Object.assign(this.state.feedbackPrompts[t],{response:e});this.setState({feedbackPrompts:this.state.feedbackPrompts.slice(0,t).concat([i]).concat(this.state.feedbackPrompts.slice(t+1))},function(e){return n.onSubmitDiscussionFeedback(e,!0)})}},{key:"onToggleChoiceSelect",value:function(e,t){var n=this.state.feedbackPrompts[t].prompt.choices[e],i=this.state.feedbackPrompts[t].response;i||(i=[]),-1==i.indexOf(n)?i.push(n):i.splice(i.indexOf(n),1);var o=Object.assign(this.state.feedbackPrompts[t],{response:i});this.setState({feedbackPrompts:this.state.feedbackPrompts.slice(0,t).concat([o]).concat(this.state.feedbackPrompts.slice(t+1))})}},{key:"onReviewChange",value:function(e,t){var n=Object.assign(this.state.feedbackPrompts[t],{response:e.target.value});this.setState({feedbackPrompts:this.state.feedbackPrompts.slice(0,t).concat([n]).concat(this.state.feedbackPrompts.slice(t+1))})}},{key:"onSubmitDiscussionFeedback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.props.submitDiscussionFeedback(this.props.discussionId,this.state.feedbackPrompts),t||this.setState({submittedFeedbackForm:!0}),this.props.onSaveNotify&&!t&&this.props.onSaveNotify()}},{key:"onEditDiscussionFeedbackClick",value:function(){this.fetchFeedback(),this.setState({showFeedbackForm:!0,submittedFeedbackForm:!1})}},{key:"componentDidMount",value:function(){this.scrollToFeedbackForm()}},{key:"componentDidUpdate",value:function(){this.scrollToFeedbackForm()}},{key:"scrollToFeedbackForm",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.discussions.get(this.props.discussionId);if(!t)return null;var n=this.state.feedbackPrompts&&this.state.feedbackPrompts.filter(function(e){return"default_rating"==e.type&&null!=e.response&&parseFloat(e.response)>=0});n=n&&n[0]?n[0].response:null;var i=n||t.getIn(["rating","myRating"],null),o=this.state.feedbackPrompts.map(function(t,n){var i=t.type,o=null,a=null,s=null;if("standard_rating"!=i&&"default_rating"!=i||(o=l.a.createElement(u.a,{onChange:function(t){return e.onRatingChange(t,n)},className:"rating-box",value:t.response,size:30})),"multiple_choice_review"==i){var r=t.prompt.choices.map(function(i,o){var a=t.response&&-1!=t.response.indexOf(i);return l.a.createElement("div",{className:a?"choice active":"choice",onClick:function(){return e.onToggleChoiceSelect(o,n)}},i)});a=l.a.createElement("div",{className:"options-box"},r)}return"standard_review"!=i&&"default_review"!=i||(s=l.a.createElement("textarea",{rows:"5",maxLength:"1000",className:"review-box",placeholder:t.prompt.placeholder,value:t.response,onChange:function(t){return e.onReviewChange(t,n)}})),l.a.createElement("div",{className:"question-prompt"},l.a.createElement("div",{className:"question"},t.prompt.prompt),o,a,s)}),a=l.a.createElement(h.Element,{name:"feedbackForm",className:"feedback-form",ref:"feedbackForm",id:"feedbackForm"},o.length>0?o:l.a.createElement("div",{className:"loader-div extra-padding"},l.a.createElement(g.a,null),l.a.createElement("div",{className:"loading-text"},"Loading Reviewsâ€¦")),o.length>0?l.a.createElement("button",{className:"action-button large dark-blue submit-button",onClick:this.onSubmitDiscussionFeedback},"Submit"):null,o.length>0?l.a.createElement("div",{className:"label with-margin"},"CommonLounge contributors rely on your ratings and reviews to understand which tutorials to improve next.",l.a.createElement("br",null),l.a.createElement(p.Link,{to:"/improve"},"Want to help us improve a tutorial?")):null,t.get("isLastPlaylistItem")?l.a.createElement("div",{className:"last-playlist-item"},l.a.createElement("div",{className:"congrats"},"Congrats on finishing the course!"),l.a.createElement("div",{className:"party-popper-emoji"},"ðŸŽ‰"),l.a.createElement("div",{className:"review"},"Would you like to leave a review for the course?"),l.a.createElement("button",{className:"thin-button",onClick:function(){return p.browserHistory.push("/discussion/"+e.props.displayedPlaylistDiscussionId+"/?review=true")}},"Review the course â†’")):null),s=l.a.createElement("div",{className:"edit-rating",onClick:this.onEditDiscussionFeedbackClick},l.a.createElement(u.a,{className:"inline-rating-box",edit:!1,value:i}),l.a.createElement("div",{className:"thin-button"},"Edit your review")),r=l.a.createElement(f.b,{className:"give-rating",onClick:this.onEditDiscussionFeedbackClick},l.a.createElement(u.a,{className:"inline-rating-box",edit:!1,value:0}),l.a.createElement("div",{className:"thin-button"},"Leave a Review")),c=l.a.createElement("div",{className:"feedback-form-confirmation"},l.a.createElement("div",{className:"label large bold dark-gray"},"Thanks for submitting your review."),s,this.props.triggerModal?l.a.createElement("button",{className:"action-button large dark-blue submit-button",onClick:this.props.onSubmit},"Close"):null);return l.a.createElement("div",{className:"feedback-section"},this.state.showFeedbackForm?this.state.submittedFeedbackForm?c:a:i?s:r)}}]),t}(l.a.PureComponent),E=n.i(d.connect)(s,{getDiscussionFeedback:m.u,submitDiscussionFeedback:m.v})(k)},1008:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var s=n(37),r=(n.n(s),n(1)),l=n.n(r),c=n(890),u=n(204),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(e){var t=e.getIn(["users",e.get("currentLoggedInUser")]);if(t){var n=t.getIn(["plan","status"]),i=t.getIn(["plan","type"]),o="paypal"===t.getIn(["plan","provider"]),a=t.getIn(["plan","details","frequency"],"");return{user:t,plan:t.get("plan"),membershipStatus:n,isMemberShipActive:"active"==n,membershipLevel:i,displayedMembershipLevel:i&&i.charAt(0).toUpperCase()+i.slice(1),cancellationDate:t.getIn(["plan","cancelOn"])?new Date(t.getIn(["plan","cancelOn"])):null,endDate:t.getIn(["plan","details","expirationDate"])?new Date(t.getIn(["plan","details","expirationDate"])):null,isFutureStartDate:t.getIn(["plan","details","isFutureStartDate"])?new Date(t.getIn(["plan","details","isFutureStartDate"])):null,ppStatus:t.getIn(["plan","details","ppStatus"]),isPaypal:o,isPromo:"promo_plan"===t.getIn(["plan","provider"]),isManual:"manual_payment"===t.getIn(["plan","provider"]),defaultSource:o?"PayPal account":t.getIn(["defaultSource","last4"])?t.getIn(["defaultSource","brand"])+" ending in "+t.getIn(["defaultSource","last4"]):t.getIn(["defaultSource","cardNo"])?t.getIn(["defaultSource","cardNo"]):null,nextBillingDate:t&&t.getIn(["nextBillingDate"]),trialEnd:t.getIn(["plan","trialEnd"])?new Date(t.getIn(["plan","trialEnd"])):null,isInTrialPeriod:t.getIn(["plan","isInTrial"],!1),paymentProviderStatus:t.getIn(["paymentProviderStatus"]),frequency:a,frequencyStr:a+"ly"}}return{}}var r=function(t){function s(){return i(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return a(s,t),p(s,[{key:"render",value:function(){if(!e)return!1;var t="",i=this.props,o=i.membershipStatus,a=i.isMemberShipActive,s=i.displayedMembershipLevel,r=i.cancellationDate,p=i.endDate,h=i.isPaypal,m=i.isPromo,f=i.isManual,g=i.defaultSource,v=i.nextBillingDate,y=i.trialEnd,b=i.isInTrialPeriod,k=i.frequency,E=i.frequencyStr,w=i.ppStatus,C=(u.a.get("price",{frequency:k,currencyType:"USD"}),"/payment");return this.props.user&&this.props.plan&&(C="/payment/update",a?t=f?"user_cancelled"==w?"You've cancelled your "+s+" membership, and your membership privileges will end on "+n.i(c.b)(r)+".":b?"Your trial for the "+s+" membership is ongoing. Once your trial ends on "+n.i(c.b)(y)+", you will have access to CommonLounge "+s+" until "+n.i(c.b)(p)+".":"You are currently a "+s+" member. Your membership is valid until "+n.i(c.b)(p)+".":r?"You've cancelled your "+s+" membership, and your membership privileges will end on "+n.i(c.b)(r)+".":m?"Congratulations! You've received a promotional "+s+" membership. This will expire on: "+n.i(c.b)(p)+".":b?"Your trial for the "+s+" membership is ongoing. Your "+E+" subscription will begin on "+n.i(c.b)(y)+".":"You are currently a "+s+" member. Your "+E+" membership automatically renews at the end of your billing cycle"+(v?", on "+n.i(c.b)(v)+".":"."):"expired"==o?(C="/payment/reinstate",t=f?"Your "+s+" membership expired on "+n.i(c.b)(r)+".":"Your promotional "+s+" membership expired on "+n.i(c.b)(p)+"."):"unpaid"==o?(C="/payment/unpaid",t=["We couldn't charge your ",h?"PayPal account":l.a.createElement("span",{className:"label large bold"},g||"payment method")," and your "+s+" membership expired on "+(r&&n.i(c.b)(r))+". Please update your payment method below to reinstate your membership privileges."]):"user_cancelled"==o&&(C="/payment/reinstate",t=r>y?"You cancelled your "+s+" membership on "+n.i(c.b)(r):b?"You cancelled your trial for "+s+" membership on "+n.i(c.b)(r)+". You trial is still valid till "+n.i(c.b)(y)+".":"Your trial expired on "+n.i(c.b)(y))),l.a.createElement(e,d({},this.props,{paymentStatusStr:t,paymentUrl:C}))}}]),s}(l.a.Component);return n.i(s.connect)(t)(r)}},1009:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),r=n.n(s),l=n(935),c=n(912),u=n(908),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={secondsRemaining:Math.round(e.secondsRemaining)},n.interval=setInterval(n.tick.bind(n),1e3),n}return a(t,e),d(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"tick",value:function(){this.setState({secondsRemaining:this.state.secondsRemaining-1}),this.state.secondsRemaining<=0&&(this.props.onTimeout(),clearInterval(this.interval))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"count-down-digit","data-time":this.state.secondsRemaining},0==this.state.secondsRemaining?"":this.state.secondsRemaining))}}]),t}(r.a.PureComponent),h=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.captureCamera=a.captureCamera.bind(a),a.startRecordingTimer=a.startRecordingTimer.bind(a),a.startRecording=a.startRecording.bind(a),a.stopRecording=a.stopRecording.bind(a),a.stopRecordingCallback=a.stopRecordingCallback.bind(a),a.state={isRecording:!1,hasRecordedAnswerOnce:!1,recordingTimerDisplayed:!1},a.recorder=null,n.i(u.a)(a.videoPlayerOnLoad,{namespace:"RecordRTC",urls:[{url:"https://www.WebRTC-Experiment.com/RecordRTC.js",defer:!0}]}),a}return a(t,e),d(t,[{key:"componentDidMount",value:function(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia}},{key:"captureCamera",value:function(e){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(function(t){e(t,self=this)}.bind(this)).catch(function(e){console.error(e)})}},{key:"stopRecordingCallback",value:function(){this.refs.video&&(this.refs.video.src=this.refs.video.srcObject=null,this.refs.video.muted=!1,this.refs.video.volume=1,this.refs.video.src=URL.createObjectURL(this.recorder.getBlob())),this.recorder.camera.stop(),this.recorder.destroy(),this.recorder=null}},{key:"startRecordingTimer",value:function(){this.setState({recordingTimerDisplayed:!0})}},{key:"startRecording",value:function(){this.props.isStaticDisplay||this.props.isCreationMode||(this.captureCamera(function(e){self.refs.video.muted=!0,self.refs.video.volume=0,self.refs.video.srcObject=e,self.recorder=RecordRTC(e,{type:"video"}),self.recorder.startRecording(),self.recorder.camera=e}),this.setState({isRecording:!this.state.isRecording,hasRecordedAnswerOnce:!0,recordingTimerDisplayed:!1}))}},{key:"componentWillUnmount",value:function(){this.stopRecording()}},{key:"stopRecording",value:function(){this.props.isStaticDisplay||this.props.isCreationMode||(this.recorder&&this.recorder.stopRecording(this.stopRecordingCallback),this.setState({isRecording:!this.state.isRecording}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"video-prompt-container"},r.a.createElement("div",{className:"input-label"},"Prompt"),r.a.createElement("div",{className:"video-prompt-node"},this.props.isCreationMode?r.a.createElement(l.a,{editorState:this.props.editorState,onEditorChange:this.props.onEditorChange,placeholder:"Imagine you're in a meeting with the Head of Marketing for Acme Corp and are selling our Alterx 360 Marketing Automation Software...",initialHTML:this.props.initialHTML}):r.a.createElement(c.a,{className:"cl-video-node",allowSectionCards:!1,returnRawNodes:!0,html:this.props.html,skipProgressiveLoading:!0})),!this.props.isCreationMode&&r.a.createElement("div",{className:"video-webcam-container"},this.state.recordingTimerDisplayed?r.a.createElement(p,{secondsRemaining:3,onTimeout:this.startRecording}):r.a.createElement("div",null,r.a.createElement("div",{className:"video-container"},r.a.createElement("video",{className:"video-webcam",autoPlay:"true",ref:"video"})),this.state.isRecording?r.a.createElement("div",{className:"bold-button",onClick:this.stopRecording},"End Recording"):r.a.createElement("div",{className:this.state.hasRecordedAnswerOnce?"bold-button secondary":"bold-button",onClick:this.startRecordingTimer},this.state.hasRecordedAnswerOnce?"Discard and record again":"Start Recording"))))}}]),t}(r.a.PureComponent);t.a=h},1033:function(e,t,n){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},1034:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),r=n.n(s),l=n(59),c=n.n(l),u=n(203),d=n.n(u),p=n(907),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){if(e.isModalOpen&&!this.props.isModalOpen){document.querySelector("meta[name=viewport]").setAttribute("content","width=device-width, initial-scale=1, user-scalable=yes")}if(!e.isModalOpen&&this.props.isModalOpen){document.querySelector("meta[name=viewport]").setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no")}}},{key:"render",value:function(){var e=this.props.loadImage(this.props.src)?this.props.src:this.props.placeHolder;return r.a.createElement(c.a,{isOpen:this.props.isModalOpen,onRequestClose:this.props.onRequestClose,className:"modal-content image-modal-content",overlayClassName:"modal-overlay"},r.a.createElement(d.a,{transitionName:"modal",transitionAppear:!0,transitionAppearTimeout:500},r.a.createElement("div",{className:"close-button",onClick:this.props.onRequestClose}),r.a.createElement("img",{className:"image",src:e})))}}]),t}(r.a.PureComponent);t.a=n.i(p.b)(m)},1035:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),r=n.n(s),l=n(1050),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.timeout=e.timeout,n.annul=null,n.state={ready:window.MathJax&&window.MathJax.ready},n}return a(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;if(this.state.ready)this.typeset();else{var t=this.props.check;this.annul=setInterval(function(){window.MathJax&&window.MathJax.isReady?(e.setState({ready:!0}),clearInterval(e.annul)):(e.timeout<0&&clearInterval(e.annul),e.timeout-=t)},t)}}},{key:"shouldComponentUpdate",value:function(e,t){return e.children!==this.props.children||e.inline!==this.props.inline||t.ready!==this.state.ready}},{key:"componentDidUpdate",value:function(e){var t=e.inline!==this.props.inline;this.typeset(t)}},{key:"componentWillUnmount",value:function(){clearInterval(this.annul),this.clear()}},{key:"setScriptText",value:function(e){var t=this.props.inline;return this.script||(this.script=document.createElement("script"),this.script.type="math/tex; "+(t?"":"mode=display"),this.node.appendChild(this.script)),"text"in this.script?this.script.text=e:this.script.textContent=e,this.script}},{key:"clear",value:function(){var e=window.MathJax;if(this.script&&e&&e.isReady){var t=e.Hub.getJaxFor(this.script);t&&t.Remove()}}},{key:"typeset",value:function(e){var t=this,i=window.MathJax,o=this.props,a=o.children,s=o.onRender,r=a;if(e&&this.clear(),!e&&this.script)i.Hub.Queue(function(){var e=i.Hub.getJaxFor(t.script);if(e)e.Text(r,s);else{var o=t.setScriptText(r);n.i(l.a)(i,o,s)}});else{var c=this.setScriptText(r);i.Hub.Queue(function(){return n.i(l.a)(i,c,s)})}}},{key:"render",value:function(){var e=this;return this.state.ready?r.a.createElement("span",{ref:function(t){e.node=t}}):null}}]),t}(s.Component);u.defaultProps={inline:!1,onRender:function(){},timeout:1e4,check:50},t.a=u},1037:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentUser:e.get("currentLoggedInUser"),users:e.get("users")}}n.d(t,"a",function(){return v});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(38)),d=n(940),p=n.n(d),h=n(58),m=n(17),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasCopiedLink:!1},n.logEvent=n.logEvent.bind(n),n.handleCopyClick=n.handleCopyClick.bind(n),n.getCurrentUrl=n.getCurrentUrl.bind(n),n}return a(t,e),f(t,[{key:"openPopup",value:function(e,t){this.logEvent(t),window.isApp?n.i(h.k)(null,e):window.open(e,"Share","height=640, width=640, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no")}},{key:"logEvent",value:function(e){this.props.logEvent({type:"share",payload:{obj:this.props.objId,obj_type:this.props.objType,sub_type:e}})}},{key:"handleCopyClick",value:function(){this.logEvent("link"),this.setState({hasCopiedLink:!0})}},{key:"getCurrentUrl",value:function(e){return e=e?e+"-":"",this.props.currentUser&&!this.props.referralCode?""+m.k+this.props.url+"?ref="+e+"user-share-"+this.props.currentUser:""+m.k+this.props.url}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"social-sharing","data-location":this.props.location},"referral-page"!=this.props.location&&l.a.createElement("div",{className:"section-heading"},this.props.prompt?"":"Share"),this.props.prompt?l.a.createElement("div",{className:"text"},l.a.createElement("p",null),l.a.createElement("p",null,"Hey ",l.a.createElement("strong",null,this.props.users.get(this.props.currentUser).get("firstName"),"!")),l.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.prompt}}),l.a.createElement("p",null)):null,l.a.createElement("div",{className:"social-sharing-tools"},l.a.createElement("div",{className:"link tool"},l.a.createElement(p.a,{"data-clipboard-text":this.getCurrentUrl("link"),onSuccess:this.handleCopyClick},l.a.createElement("span",{className:"link-icon icon"})),l.a.createElement("span",{className:"label"},this.state.hasCopiedLink?"Copied":"Copy Link")),l.a.createElement("div",{className:"messenger tool"},l.a.createElement("span",{className:"messenger-icon icon",onClick:function(){return e.openPopup("https://www.facebook.com/dialog/send?app_id="+window.ai+"&display=popup&link="+e.getCurrentUrl("messenger")+"&redirect_uri="+window.site+e.props.url,"messenger")}}),l.a.createElement("span",{className:"label"},"Messenger")),l.a.createElement("div",{className:"facebook tool"},l.a.createElement("span",{className:"facebook-icon icon",onClick:function(){return e.openPopup("https://www.facebook.com/dialog/share?app_id="+window.ai+"&display=popup&href="+e.getCurrentUrl("facebook")+"&redirect_uri="+window.site+e.props.url,"facebook")}}),l.a.createElement("span",{className:"label"},"Facebook")),l.a.createElement("div",{className:"twitter tool"},l.a.createElement("span",{className:"twitter-icon icon",onClick:function(){return e.openPopup("https://twitter.com/intent/tweet?url="+e.getCurrentUrl("twitter")+"&via=commonlounge&text="+encodeURIComponent(e.props.title),"twitter")}}),l.a.createElement("span",{className:"label"},"Twitter"))))}}]),t}(l.a.PureComponent),v=n.i(c.connect)(s,{logEvent:u.c})(g)},1038:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(984),a=n(908),s=n(131),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t){i(this,e);var n=[],a=!0,s=!1,r=void 0;try{for(var l,c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;n.push(new o.a(u))}}catch(e){s=!0,r=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw r}}this.blocks=n,this.getNumBlocks=this.getNumBlocks.bind(this),this.getAtIndex=this.getAtIndex.bind(this),this.findVideoDuration=this.findVideoDuration.bind(this),this.findBlockIndex=this.findBlockIndex.bind(this),this.findBlockAtTime=this.findBlockAtTime.bind(this),this.findOverlaidBlocksAtTime=this.findOverlaidBlocksAtTime.bind(this),this.findFirstSlideEnd=this.findFirstSlideEnd.bind(this),this.findSlideIndex=this.findSlideIndex.bind(this),this.findBlockWithName=this.findBlockWithName.bind(this),this.findImages=this.findImages.bind(this)}return r(e,[{key:"getNumBlocks",value:function(){return this.blocks.length}},{key:"getAtIndex",value:function(e){return e>=this.getNumBlocks()?null:this.blocks[e]}},{key:"findVideoDuration",value:function(){var e=this.getAtIndex(this.getNumBlocks()-1);return e?e.getTimeStamp()+(e.getDuration()||1e3):0}},{key:"findBlockIndex",value:function(e){for(var t=this.getNumBlocks()-1,n=0;n<this.getNumBlocks();n++){if(this.getAtIndex(n).getTimeStamp()>e){t=n>0?n-1:0;break}}return t}},{key:"findBlockAtTime",value:function(e,t){for(var n=null,i=0;i<this.getNumBlocks();i++){var o=this.getAtIndex(i);if(t<o.getTimeStamp()&&e>=o.getTimeStamp()){n=i;break}}return null!=n?this.getAtIndex(n):null}},{key:"findOverlaidBlocksAtTime",value:function(e){for(var t=[],n=0;n<this.getNumBlocks();n++){var i=this.getAtIndex(n);["branch","hotspot"].indexOf(i.getContentType())>-1&&e>=i.getTimeStamp()&&e<i.getTimeStamp()+i.getDuration()&&t.push(i)}return t}},{key:"findFirstSlideEnd",value:function(){for(var e=this.getNumBlocks()-1,t=0;t<this.getNumBlocks();t++){var n=this.getAtIndex(t);if(0!=t&&"clear-slide"==n.getOperationType()){e=t-1;break}}return e}},{key:"findSlideIndex",value:function(e){for(var t=this.findBlockIndex(e),n=0,i=t;i>0;i--){if("clear-slide"==this.getAtIndex(i).getOperationType()){n=i;break}}return n}},{key:"findBlockWithName",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t;n<this.getNumBlocks();n++){var i=this.getAtIndex(n);if(i.getProperty("name")==e)return i}return null}},{key:"findImages",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var o,a=this.blocks[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if("editor"==s.getContentType()){var r=s.getContent();if(r){var l=r.content;if(l&&-1!=l.indexOf("<img")){var c=document.createElement("div");c.innerHTML=l;var u=Array.from(c.getElementsByTagName("img")),d=u.filter(function(e){return e.src}).map(function(e){return e.src});e=e.concat(d)}}}}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}return e}},{key:"handleCodeBlockScriptLoading",value:function(e){if(e&&0!=e.size){var t=!1,i={},o=!0,r=!1,l=void 0;try{for(var c,u=this.blocks[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d=c.value;if(d.isCodeBlock()){t=!0;var p=d.getContent().content.config;if(p){var h=n.i(s.f)({text:p}),m=e.getIn(["codeblock",h]);if(m){var f=m&&m.getIn(["init_values",m.get("default_language").toString(),"mode_config"]);i[f.getIn(["mode","name"])]=f.getIn(["mode","url"]),i[f.getIn(["theme","name"])]=f.getIn(["theme","url"])}}}}}catch(e){r=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(r)throw l}}if(t){n.i(a.b)();for(var g in i)if(i.hasOwnProperty(g)){var v={namespace:g,urls:[{url:i[g],defer:!0}]};n.i(a.a)(null,v)}}}}}]),e}();t.a=l},1044:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=n(1130);t.Motion=i(o);var a=n(1131);t.StaggeredMotion=i(a);var s=n(1132);t.TransitionMotion=i(s);var r=n(1135);t.spring=i(r);var l=n(1033);t.presets=i(l);var c=n(948);t.stripStyle=i(c);var u=n(1134);t.reorderKeys=i(u)},1047:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser")}}n.d(t,"a",function(){return C});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(39)),d=(n.n(u),n(132)),p=n.n(d),h=n(1044),m=(n.n(h),n(892)),f=(n(133),n(323)),g=n(15),v=(n.n(g),n(38)),y=n(330),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),k=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.calculateBarStyle=n.calculateBarStyle.bind(n),n}return a(t,e),b(t,[{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e,this.props.option)}},{key:"calculateBarStyle",value:function(e,t,n){return n?t?{background:"linear-gradient(to right, #a0ddfd "+e+"%, transparent "+e+"%)"}:{background:"linear-gradient(to right, #F5F5F5 "+e+"%, transparent "+e+"%)"}:{}}},{key:"render",value:function(){var e=this,t=this.props.isWinner?"winner":"",i=this.props.usersVoted.slice(0,3).map(function(t){return l.a.createElement(g.Link,{to:"/profile/"+t},l.a.createElement(y.b,{userId:t,offsetLeft:23,offsetTop:-45,className:"avatar-image",size:"30",name:e.props.users.get(t).get("displayName"),src:e.props.users.get(t).get("avatarUrl"),key:t}))});return l.a.createElement("div",{className:"poll-option-row"},l.a.createElement(h.Motion,{defaultStyle:{x:0},style:{x:n.i(h.spring)(this.props.percentVote)}},function(n){return l.a.createElement("div",{className:e.props.isResult?"result poll-option "+t:"poll-option "+t,"data-percent":Math.round(n.x),style:e.calculateBarStyle(Math.round(n.x),e.props.isWinner,e.props.isResult),onClick:e.onClick},e.props.isResult?l.a.createElement("span",{className:"result-percent"},e.props.percentVote,"%"):null,l.a.createElement("span",{className:"option-text"},e.props.optionText),e.props.hasVoted?l.a.createElement("span",{className:"voted-checkmark"}):null)}),this.props.isResult?l.a.createElement("div",{className:"avatar-images"},i):null)}}]),t}(l.a.PureComponent),E=n.i(f.a)(k),w=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.togglePollOptionVote=n.togglePollOptionVote.bind(n),n}return a(t,e),b(t,[{key:"togglePollOptionVote",value:function(e,t){var n=this.props.discussion.get("typeInfo");this.props.togglePollOptionVote(this.props.discussion.get("eid"),n.get("eid"),t.get("eid"))}},{key:"render",value:function(){var e=this,t=this.props.discussion.get("typeInfo"),i="LIVE",o=t.get("dtEnd")?new Date(t.get("dtEnd")):null,a=new Date;o&&a>o&&(i="ENDED");var s=t.get("hasVoted"),r=t.get("participantsCount"),c=this.props.currentLoggedInUser&&(s||"ENDED"==i||!this.props.discussion.get("canContribute")),d=0;t.getIn(["options"],n.i(u.List)()).forEach(function(e){return d=e.get("votesCount")>d?e.get("votesCount"):d});var h=t.getIn(["options"],n.i(u.List)()).map(function(t){return l.a.createElement(E,{optionText:t.get("option"),hasVoted:t.get("hasVoted"),usersVoted:t.get("usersVoted"),isWinner:d==t.get("votesCount")&&"ENDED"==i,isResult:c,to:"/discussion/"+e.props.discussion.get("eid")+"/",percentVote:r>0?Math.round(100*t.get("votesCount")/r):0,onClick:c?null:e.togglePollOptionVote,option:t})});return l.a.createElement("div",{className:"poll-section"},l.a.createElement("div",{className:"poll-options"},h),l.a.createElement("div",{className:"poll-footer"},l.a.createElement("span",{className:"has-separator"},r," ",p()("participant",r)),"LIVE"==i?o?l.a.createElement("span",{className:"has-separator"},"Ends in ",l.a.createElement(m.a,{date:o})):null:l.a.createElement("span",{className:"has-separator"},"Final results")))}}]),t}(l.a.PureComponent),C=n.i(c.connect)(s,{togglePollOptionVote:v.E})(w)},1048:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),r=n.n(s),l=n(39),c=(n.n(l),n(893)),u=n.n(c),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return a(t,e),d(t,[{key:"onClick",value:function(e){this.props.onClick(e,this.props.info.get("href"))}},{key:"render",value:function(){var e=this.props.info.toJS(),t="sidebar-label multi discussion-title zoom-on-hover zoom-to-normal";return"h2"==e.type&&(t+=" indented-1"),"editHistory"==e.type&&(t+=" edit-history"),e.href==this.props.currentActiveSection&&(t+=" active"),r.a.createElement("li",{id:""+e.href,className:t,onClick:this.onClick},"editHistory"==e.type?[r.a.createElement("span",null,r.a.createElement(u.a,{date:e.dtEdited})," by ",e.authorName," ","suggested"==e.status?r.a.createElement("span",{className:"label large"}," â€¢ Suggested"):"current"==e.status?r.a.createElement("span",{className:"label bold large"}," â€¢ Current"):""),r.a.createElement("div",null,r.a.createElement("span",{className:"additions"}," ",e.numAdditions," ++"),r.a.createElement("span",{className:"deletions"}," ",e.numDeletions," --"))]:e.display)}}]),t}(r.a.PureComponent),h=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.onClickDiscussion=n.onClickDiscussion.bind(n),n.getToc=n.getToc.bind(n),n}return a(t,e),d(t,[{key:"getToc",value:function(){var e=this;if(!this.props.discussion)return null;var t=[];if(this.props.showEditHistory)t=this.props.discussion.getIn(["editHistory","history"],n.i(l.List)()).map(function(t,i){return n.i(l.fromJS)({dtEdited:t.get("dtEdited"),authorName:e.props.users.getIn([t.get("author"),"displayName"]),numAdditions:t.get("numAdditions"),numDeletions:t.get("numDeletions"),status:t.get("status"),href:t.get("dtEdited"),type:"editHistory"})});else{t=this.props.discussion.get("toc");var i=this.props.discussion.getIn(["typeInfo","items","toc"]);i&&t&&(t=t.concat(i))}return t}},{key:"onClick",value:function(e,t){this.props.onClick(e,t)}},{key:"onClickDiscussion",value:function(e){this.props.onClick(e,"")}},{key:"render",value:function(){var e=this,t=this.getToc();return t&&t.size>0||this.props.playlistDiscussionId?r.a.createElement("div",null,this.props.playlistDiscussionId?r.a.createElement("div",{className:"sidebar-row current-discussion-row"},r.a.createElement("div",{className:"related-discussion zoom-on-hover zoom-to-normal "},r.a.createElement("div",{className:"sidebar-label multi discussion-title",onClick:this.onClickDiscussion},this.props.discussion.getIn(["name"],"")))):r.a.createElement("div",{className:"section-heading extra-padding-bottom"},this.props.showEditHistory?"Revisions":"Table of contents"),t&&t.size>0?r.a.createElement("div",{className:this.props.playlistDiscussionId?"toc-container with-left-border":"toc-container"},r.a.createElement("ol",{className:"toc"},t.map(function(t,n){return r.a.createElement(p,{onClick:e.onClick,info:t,currentActiveSection:e.props.currentActiveSection})}))):null):null}}]),t}(r.a.PureComponent);t.a=h},1050:function(e,t,n){"use strict";function i(e){e.Hub.Queue(function(){var t=e.Hub.elementScripts;e.Hub.elementScripts=function(){return a};try{return e.Hub.Process(null,function(){s.forEach(function(e){return e()}),a=[],s=[],r=!1})}catch(e){throw e}finally{e.Hub.elementScripts=t}})}function o(e,t,n){a.push(t),s.push(n),r||(r=!0,setTimeout(function(){return i(e)},0))}t.a=o;var a=[],s=[],r=!1},1057:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),c=i(l),u=n(53),d=i(u),p=n(991),h=i(p),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateOffset=function(e){var t=e.inherited,i=e.offset;n.channel.update(function(e){e.inherited=t+i})},n.channel=new h.default({inherited:0,offset:0,node:null}),n}return s(t,e),r(t,[{key:"getChildContext",value:function(){return{"sticky-channel":this.channel}}},{key:"componentWillMount",value:function(){var e=this.context["sticky-channel"];e&&e.subscribe(this.updateOffset)}},{key:"componentDidMount",value:function(){var e=d.default.findDOMNode(this);this.channel.update(function(t){t.node=e})}},{key:"componentWillUnmount",value:function(){this.channel.update(function(e){e.node=null});var e=this.context["sticky-channel"];e&&e.unsubscribe(this.updateOffset)}},{key:"render",value:function(){return c.default.createElement("div",this.props,this.props.children)}}]),t}(c.default.Component);m.contextTypes={"sticky-channel":c.default.PropTypes.any},m.childContextTypes={"sticky-channel":c.default.PropTypes.any},t.default=m,e.exports=t.default},1058:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),d=i(u),p=n(53),h=i(p),m=function(e){function t(e){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateContext=function(e){var t=e.inherited,i=e.node;n.containerNode=i,n.setState({containerOffset:t,distanceFromBottom:n.getDistanceFromBottom()})},n.recomputeState=function(){if(!n.props.isDisabled){var e=n.isSticky(),t=n.getHeight(),i=n.getWidth(),o=n.getXOffset(),a=n.getDistanceFromBottom(),s=n.state.isSticky!==e;n.setState({isSticky:e,height:t,width:i,xOffset:o,distanceFromBottom:a}),s&&(n.channel&&n.channel.update(function(t){t.offset=e?n.state.height:0}),n.props.onStickyStateChange(e))}},n.state={},n}return r(t,e),c(t,[{key:"componentWillMount",value:function(){this.channel=this.context["sticky-channel"],this.channel.subscribe(this.updateContext)}},{key:"componentDidMount",value:function(){this.on(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.recomputeState),this.recomputeState()}},{key:"componentWillReceiveProps",value:function(){this.recomputeState()}},{key:"componentWillUnmount",value:function(){this.off(["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],this.recomputeState),this.channel.unsubscribe(this.updateContext)}},{key:"getXOffset",value:function(){return this.refs.placeholder.getBoundingClientRect().left}},{key:"getWidth",value:function(){return this.refs.placeholder.getBoundingClientRect().width}},{key:"getHeight",value:function(){return h.default.findDOMNode(this.refs.children).getBoundingClientRect().height}},{key:"getDistanceFromTop",value:function(){return this.refs.placeholder.getBoundingClientRect().top}},{key:"getDistanceFromBottom",value:function(){return this.containerNode?this.containerNode.getBoundingClientRect().bottom:0}},{key:"isSticky",value:function(){if(!this.props.isActive)return!1;var e=this.getDistanceFromTop(),t=this.getDistanceFromBottom(),n=this.state.containerOffset-this.props.topOffset,i=this.state.containerOffset+this.props.bottomOffset;return e<=n&&t>=i}},{key:"on",value:function(e,t){e.forEach(function(e){window.addEventListener(e,t)})}},{key:"off",value:function(e,t){e.forEach(function(e){window.removeEventListener(e,t)})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this,i=Object.keys(this.props);if(Object.keys(e).length!=i.length)return!0;if(!i.every(function(t){return e.hasOwnProperty(t)&&e[t]===n.props[t]}))return!0;var o=this.state;if(t.isSticky!==o.isSticky)return!0;if(o.isSticky){if(t.height!==o.height)return!0;if(t.width!==o.width)return!0;if(t.xOffset!==o.xOffset)return!0;if(t.containerOffset!==o.containerOffset)return!0;if(t.distanceFromBottom!==o.distanceFromBottom)return!0}return!1}},{key:"render",value:function(){var e={paddingBottom:0},t=this.props.className,n=l({},{transform:"translateZ(0)"},this.props.style);if(this.state.isSticky){var i={position:"fixed",top:this.state.containerOffset,left:this.state.xOffset,width:this.state.width},a=this.state.distanceFromBottom-this.state.height-this.props.bottomOffset;this.state.containerOffset>a&&(i.top=a),e.paddingBottom=this.state.height,t+=" "+this.props.stickyClassName,n=l({},n,i,this.props.stickyStyle)}var s=this.props,r=(s.topOffset,s.isActive,s.stickyClassName,s.stickyStyle,s.bottomOffset,s.onStickyStateChange,o(s,["topOffset","isActive","stickyClassName","stickyStyle","bottomOffset","onStickyStateChange"]));return d.default.createElement("div",null,d.default.createElement("div",{ref:"placeholder",style:e}),d.default.createElement("div",l({},r,{ref:"children",className:t,style:n}),this.props.children))}}]),t}(d.default.Component);m.propTypes={isActive:d.default.PropTypes.bool,className:d.default.PropTypes.string,style:d.default.PropTypes.object,stickyClassName:d.default.PropTypes.string,stickyStyle:d.default.PropTypes.object,topOffset:d.default.PropTypes.number,bottomOffset:d.default.PropTypes.number,onStickyStateChange:d.default.PropTypes.func},m.defaultProps={isActive:!0,className:"",style:{},stickyClassName:"sticky",stickyStyle:{},topOffset:0,bottomOffset:0,onStickyStateChange:function(){}},m.contextTypes={"sticky-channel":d.default.PropTypes.any},t.default=m,e.exports=t.default},1059:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentLoggedInUser:e.get("currentLoggedInUser"),users:e.get("users"),discussions:e.get("discussions"),pricingInfo:e.get("pricingInfo"),experiments:e.get("experiments")}}n.d(t,"a",function(){return b});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(323)),p=n(39),h=(n.n(p),n(204)),m=n(38),f=(n(340),n(132)),g=(n.n(f),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),v=n.i(d.a)("button",d.c),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEnrollWithProClick=n.onEnrollWithProClick.bind(n),n}return a(t,e),g(t,[{key:"onEnrollWithProClick",value:function(){this.props.fetchPixelInformation("click.course_enroll_with_pro"),u.browserHistory.push("/upgrade")}},{key:"render",value:function(){var e=this,t=(h.a.get("defaultFrequency"),this.props.discussions.getIn([this.props.discussionId]));if(!t)return null;var i=(t.getIn(["typeInfo","type"]),this.props.currentLoggedInUser),o=(this.props.users.getIn([this.props.currentLoggedInUser,"plan","isPromo"],!1),t.getIn(["typeInfo","items","discussions"],n.i(p.List)()).filter(function(t){return e.props.discussions.getIn([t,"isPremium"],!1)}).size),a=t.getIn(["typeInfo","items","discussions"],n.i(p.List)()).size-o,s="active"==this.props.users.getIn([i,"plan","status"]);t.getIn(["typeInfo","stats","projectCount"],0),t.getIn(["typeInfo","stats","quizCount"],0),h.a.get("symbol");return l.a.createElement("div",{className:"course-section course-enrollment-section"},this.props.onSubscribeClick?l.a.createElement(v,{className:"action-button blue large centered block no-max-width very-very-wide zoom-on-hover zoom-to-normal",onClick:this.props.onSubscribeClick,to:"/discussion/"+this.props.discussionId+"?action=playlist-subscribe",entityId:this.props.discussionId,action:"playlist-subscribe"},s||0==a?"Get Started":"Get Started for Free"):null,this.props.onUnSubscribeClick?l.a.createElement("div",{className:"action-button large centered block no-max-width very-very-wide gray with-padding zoom-on-hover zoom-to-normal",onClick:this.props.onUnSubscribeClick},"Enrolled"):null)}}]),t}(l.a.PureComponent),b=n.i(c.connect)(s,{fetchPixelInformation:m.a})(y)},1060:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{discussions:e.get("discussions")}}n.d(t,"a",function(){return v});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(949)),d=n.n(u),p=n(132),h=n.n(p),m=n(15),f=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),g=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),f(t,[{key:"render",value:function(){var e=this.props.discussions.getIn([this.props.discussionId]);if(!e)return null;var t=(e.getIn(["typeInfo","prerequisites"],null),e.getIn(["rating","avgRating"])),n=e.getIn(["typeInfo","subscribersCount"],0),i=e.getIn(["hasPremiumItems"]),o=n>99,a=e.getIn(["typeInfo","stats","videoCount"]),s=e.getIn(["typeInfo","stats","questionCount"]),r=e.getIn(["typeInfo","stats","projectCount"],0),c=e.getIn(["typeInfo","stats","tutorialCount"]);return l.a.createElement("div",{className:"course-section","data-location":this.props.location},l.a.createElement("div",{className:"course-info"},"sidebar"==this.props.location?l.a.createElement("div",{className:"course-name"},e.get("name")):null,o||t?l.a.createElement("div",{className:"course-rating-row"},t?l.a.createElement(d.a,{className:"inline-rating-box",edit:!1,value:t+.25}):null,o?l.a.createElement("span",null,l.a.createElement("strong",null,n)," students enrolled"):null):null,l.a.createElement("div",{className:"course-stats"},l.a.createElement("div",{className:"label with-bottom-padding"},"This course consists of:"),a>0&&l.a.createElement("div",{className:"videos course-stat"},l.a.createElement("strong",null,a," Interactive")," ",h()("Video",a)),s>0&&l.a.createElement("div",{className:"quizzes course-stat"},l.a.createElement("strong",null,s)," ",h()("Exercise",s)),c>0&&l.a.createElement("div",{className:"tutorials course-stat"},l.a.createElement("strong",null,c)," ",h()("Tutorial",c)),r>0&&l.a.createElement("div",{className:"projects course-stat"},l.a.createElement("strong",null,r)," ",h()("Project",r)),i?l.a.createElement("div",{className:"certificate course-stat"},"Certificate of Completion"):null),"sidebar"==this.props.location&&l.a.createElement("div",{className:"course-toc"},l.a.createElement("div",{className:"sidebar-row current-discussion-row"},l.a.createElement("a",{href:"#overview",className:"zoom-on-hover zoom-to-normal no-decoration"},"Overview")),l.a.createElement("div",{className:"sidebar-row current-discussion-row"},l.a.createElement("a",{href:"#syllabus",className:"zoom-on-hover zoom-to-normal no-decoration"},"Syllabus")),l.a.createElement("div",{className:"sidebar-row current-discussion-row"},l.a.createElement("a",{href:"#faqs",className:"zoom-on-hover zoom-to-normal no-decoration"},"FAQs")))))}}]),t}(l.a.PureComponent),v=n.i(c.connect)(s)(g)},1064:function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100px";return e||(e=0),e<51?{background:"#00ab6b",borderRadius:"0 "+t+" "+t+" 0",right:0}:{background:"#E1E1E1",borderRadius:t+" 0 0 "+t,left:0}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100px";return e||(e=0),e<51?{background:"#E1E1E1",borderRadius:"0 "+t+" "+t+" 0",right:0,transform:"rotate("+360/(100/e)+"deg)"}:{background:"#00ab6b",borderRadius:t+" 0 0 "+t,left:0,transform:"rotate("+360/(100/e)+"deg)",transformOrigin:"100% 50%"}}function a(e){return e||(e=0),e>50?{background:"#00ab6b"}:{}}t.b=i,t.c=o,t.a=a},1087:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n,i,o;e.addEventListener("input",function(e){n=1,i=e.target.value,i!=o&&t(e),o=i}),e.addEventListener("change",function(e){n||t(e)})}var r=n(1),l=n.n(r),c=n(32),u=n(328),d=n(131),p=n(17),h=n(1089),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRef=n.setRef.bind(n),n.calculateMarkers=n.calculateMarkers.bind(n),n.handleInitialState=n.handleInitialState.bind(n),n.state=n.handleInitialState({returnState:!0}),n}return a(t,e),m(t,[{key:"handleInitialState",value:function(e){var t=e.props,n=void 0===t?this.props:t,i=e.returnState,o=void 0!==i&&i,a=n.toc?{markers:this.calculateMarkers(n.toc)}:{markers:null};if(o)return a;this.setState(a)}},{key:"calculateMarkers",value:function(e){if(!e)return null;var t=[],n=null;return e.forEach(function(e,i){var o=e.get("timestamp"),a=e.get("type");if(!(o<100)){if("question"==a)n&&o-n.get("timestamp")<6e3&&"h1"==n.type&&t.pop();else if("h1"==a){if(n&&o-n.get("timestamp")<6e3)return}else if("h2"==a)return;n=e,t.push(e)}}),t}},{key:"componentWillReceiveProps",value:function(e){this.props.toc!=e.toc&&this.handleInitialState({props:e})}},{key:"componentDidMount",value:function(){h.a.setup(this.slider,{});s(this.slider,this.props.onAudioTimeChange)}},{key:"setRef",value:function(e,t){this[e]=t,this.props.setRef(e,t)}},{key:"render",value:function(){var e=this,t=(this.props.toc,this.state.markers);return l.a.createElement("div",{className:"progress",ref:function(t){return e.setRef("progress",t)}},l.a.createElement("input",{type:"range",min:"0",max:""+(this.props.duration||100),step:"0.01",value:this.props.currentAudioTime,className:"audio-slider",onMouseDown:this.props.onAudioMouseDown,onMouseUp:this.props.onAudioMouseUp,onTouchStart:this.props.onAudioMouseDown,onTouchEnd:this.props.onAudioMouseUp,ref:function(t){return e.setRef("slider",t)},style:{"--value":this.props.audioPct+"%"},list:"numbers"}),l.a.createElement("datalist",{id:"numbers"},t&&t.map(function(t){return l.a.createElement("option",null,n.i(u.a)(e.props.externalToInternalTime(t.get("timestamp")),1))})),l.a.createElement("progress",{className:"progress__buffer",min:"0",max:"100",value:"0",role:"progressbar","aria-hidden":"true"},"% buffered"),!p.a&&!n.i(c.e)()&&!p.h&&t&&l.a.createElement("div",{className:"markers"},t.map(function(t){var i=n.i(u.b)(e.props.externalToInternalTime(t.get("timestamp")),2),o=e.props.duration?i/e.props.duration:0;return l.a.createElement("div",{className:"marker "+("question"==t.get("type")?"question":"slide"),style:{left:o*e.props.sliderClientWidth+"px"},onClick:function(t){return e.props.onAudioTimeChange(t,i)}},"question"==t.get("type")?"":"â€¢")})),l.a.createElement("span",{className:"tooltip",ref:function(t){return e.setRef("sliderTooltip",t)}},this.props.getFormattedTime(this.props.currentAudioTime)))}}]),t}(l.a.PureComponent),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={play:!1,showAudioMenu:!1,speed:e.speed||1,currentAudioTime:0,sliderClientWidth:0,showMobileAudioControls:!0},n.startAudioPoller=n.startAudioPoller.bind(n),n.togglePlayViaPlayer=n.togglePlayViaPlayer.bind(n),n.play=n.play.bind(n),n.pause=n.pause.bind(n),n.clearAudioPoller=n.clearAudioPoller.bind(n),n.onTimeUpdate=n.onTimeUpdate.bind(n),n.getExternalCurrentTime=n.getExternalCurrentTime.bind(n),n.setExternalCurrentTime=n.setExternalCurrentTime.bind(n),n.toggleFullScreen=n.toggleFullScreen.bind(n),n.modifySpeed=n.modifySpeed.bind(n),n.toggleAudioMenu=n.toggleAudioMenu.bind(n),n.onAudioTimeChange=n.onAudioTimeChange.bind(n),n.onAudioMouseDown=n.onAudioMouseDown.bind(n),n.onAudioMouseUp=n.onAudioMouseUp.bind(n),n.handleClickOutsideAudioMenu=n.handleClickOutsideAudioMenu.bind(n),n.toggleMobileAudioControls=n.toggleMobileAudioControls.bind(n),n.externalToInternalTime=n.externalToInternalTime.bind(n),n.getSliderClientWidth=n.getSliderClientWidth.bind(n),n.handleSliderTooltip=n.handleSliderTooltip.bind(n),n.onResize=n.onResize.bind(n),n.setRef=n.setRef.bind(n),n.moveDeltaTime=n.moveDeltaTime.bind(n),n.forward=n.forward.bind(n),n.onForwardClick=n.onForwardClick.bind(n),n.getDuration=n.getDuration.bind(n),n.rewind=n.rewind.bind(n),n.onRewindClick=n.onRewindClick.bind(n),n.handleReady=n.handleReady.bind(n),n.handleWaiting=n.handleWaiting.bind(n),n.updateCurrentTime=n.updateCurrentTime.bind(n),n.getFormattedTime=n.getFormattedTime.bind(n),n.handleInitialSpeed=n.handleInitialSpeed.bind(n),n.lastTimeUpdate=0,n.isSeeking=!1,n.isMounted=!1,n.lastSeekingTime=null,n.isInitialSpeedSet=!1,n}return a(t,e),m(t,[{key:"getFormattedNumber",value:function(e){return 0==e?"00":e<10?"0"+e:e}},{key:"getFormattedTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getDuration(),t=parseInt(e/60),n=parseInt(e%60);return e?this.getFormattedNumber(t)+":"+this.getFormattedNumber(n):"00:00"}},{key:"onAudioMouseDown",value:function(e){this.isSeeking=!0,this.isPlayingBeforeSeeking=this.state.play,this.sliderTooltip&&n.i(d.c)(this.sliderTooltip,"show"),this.state.play&&this.pause()}},{key:"handleInitialSpeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(this.isMounted&&!this.isInitialSpeedSet){var t=e.speed;this.modifySpeed(t,!0),this.isInitialSpeedSet=!0}}},{key:"onAudioMouseUp",value:function(e){this.isSeeking=!1,this.sliderTooltip&&n.i(d.a)(this.sliderTooltip,"show"),this.onAudioTimeChange(e,this.lastSeekingTime),this.isPlayingBeforeSeeking&&this.play({showMobileAudioControls:!0})}},{key:"onAudioTimeChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=t||e.target.value,this.lastSeekingTime=t,this.isSeeking||(this.audio.currentTime=t),this.onTimeUpdate(e,t,!this.isSeeking,!this.isSeeking,!0)}},{key:"moveDeltaTime",value:function(e){this.audio.currentTime=Math.min(Math.max(0,this.audio.currentTime+e),this.getDuration())}},{key:"onForwardClick",value:function(){this.forward(10)}},{key:"onRewindClick",value:function(){this.rewind(10)}},{key:"forward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.moveDeltaTime(e)}},{key:"rewind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.moveDeltaTime(-1*e)}},{key:"startAudioPoller",value:function(){this.animationFrameId||(this.animationFrameId=n.i(c.h)(this.onTimeUpdate))}},{key:"clearAudioPoller",value:function(){this.animationFrameId&&(n.i(c.i)(this.animationFrameId),this.animationFrameId=null)}},{key:"getExternalCurrentTime",value:function(){return 1e3*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.audio.currentTime)}},{key:"externalToInternalTime",value:function(e){return e/1e3}},{key:"getDuration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.duration?this.externalToInternalTime(e.duration):0}},{key:"setExternalCurrentTime",value:function(e){this.audio.currentTime=e/1e3}},{key:"getSliderClientWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.progress)return null;var t=this.state.sliderClientWidth;return t&&!e||(t=this.progress.clientWidth,this.setState({sliderClientWidth:t})),t}},{key:"onResize",value:function(){this.getSliderClientWidth(!0)}},{key:"handleSliderTooltip",value:function(e,t){if(!this.sliderTooltip)return null;var n=this.getSliderClientWidth();if(n){var i=t/this.slider.max,o=n*i;this.sliderTooltip.style.left=Math.max(0,o)+"px"}}},{key:"updateCurrentTime",value:function(e,t){this.setState({currentAudioTime:t}),this.handleSliderTooltip(e,t)}},{key:"onTimeUpdate",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.play,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.audio&&(a||!this.isSeeking)){t=t||this.audio.currentTime;var s=Date.now(),r=this.getExternalCurrentTime(t);(s-this.lastTimeUpdate>20||0==r||o)&&(this.lastTimeUpdate=s,this.props.onTimeUpdate&&this.props.onTimeUpdate(r)),this.updateCurrentTime(e,t),i&&(this.animationFrameId=n.i(c.h)(this.onTimeUpdate))}}},{key:"handleWaiting",value:function(){var e=this;this.isLoading=!0,setTimeout(function(){e.isLoading&&e.setState({isLoading:!0})},50)}},{key:"handleReady",value:function(){var e=this;this.isLoading=!1,setTimeout(function(){e.isLoading||e.setState({isLoading:!1})},50)}},{key:"componentDidMount",value:function(){var e=this;this.isMounted=!0,this.handleInitialSpeed(),this.audio.addEventListener("timeupdate",this.onTimeUpdate),this.audio.addEventListener("seeking",function(){e.props.onSeekStart&&e.props.onSeekStart(e.getExternalCurrentTime())}),this.audio.addEventListener("seeked",function(){e.props.onSeekStop&&e.props.onSeekStop(e.getExternalCurrentTime())}),this.audio.addEventListener("stalled",this.handleWaiting),this.audio.addEventListener("waiting",this.handleWaiting),this.audio.addEventListener("playing",this.handleReady),document.addEventListener("mousedown",this.handleClickOutsideAudioMenu),document.addEventListener("touchstart",this.handleClickOutsideAudioMenu),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutsideAudioMenu),document.removeEventListener("touchstart",this.handleClickOutsideAudioMenu),window.removeEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(e){this.props.isFullScreenActive!=e.isFullScreenActive&&this.onResize(),this.props.audio!=e.audio&&(this.isInitialSpeedSet=!1,this.handleInitialSpeed(e))}},{key:"togglePlayViaPlayer",value:function(){this.state.play?this.pause({triggeredViaListener:!0}):this.play({triggeredViaListener:!0})}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerAnimation,n=void 0===t||t,i=e.showMobileAudioControls,o=void 0!==i&&i;this.audio&&(this.setState({play:!0,showMobileAudioControls:o}),this.startAudioPoller(),this.audio.play(),this.props.onPlay&&this.props.onPlay({triggerAnimation:n,isSeeking:this.isSeeking}))}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerAnimation,n=void 0===t||t;this.setState({play:!1,showMobileAudioControls:!0}),this.clearAudioPoller(),this.audio.pause(),this.props.onPause&&this.props.onPause({triggerAnimation:n,isSeeking:this.isSeeking})}},{key:"toggleAudioMenu",value:function(){this.setState({showAudioMenu:!this.state.showAudioMenu})}},{key:"modifySpeed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState({speed:e,showAudioMenu:!1}),this.audio.playbackRate=e,this.audio.defaultPlaybackRate=e,t||this.props.editProfile&&this.props.editProfile({videoPlaybackSpeed:String(e)})}},{key:"toggleFullScreen",value:function(){this.props.toggleFullScreen()}},{key:"handleClickOutsideAudioMenu",value:function(e){this.refs.audioMenu&&!this.refs.audioMenu.contains(e.target)&&this.refs.audioMenuButton&&!this.refs.audioMenuButton.contains(e.target)&&this.setState({showAudioMenu:!1})}},{key:"toggleMobileAudioControls",value:function(){this.setState({showMobileAudioControls:!this.state.showMobileAudioControls})}},{key:"setRef",value:function(e,t){this[e]=t,"progress"==e&&this.getSliderClientWidth()}},{key:"render",value:function(){var e=this,t=this.getDuration(),i=t?this.state.currentAudioTime/t:0,o=n.i(u.b)(100*i,2),a=l.a.createElement("button",{type:"button",className:"control","data-plyr":"play","aria-label":"Play",onClick:this.togglePlayViaPlayer},this.state.play?[l.a.createElement("svg",{focusable:"false"},l.a.createElement("path",{d:"M6 1H3c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1zm6 0c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1h-3z"})),l.a.createElement("span",{className:"tooltip"},"Pause (k)")]:[l.a.createElement("svg",{focusable:"false"},l.a.createElement("path",{d:"M15.562 8.1L3.87.225c-.818-.562-1.87 0-1.87.9v15.75c0 .9 1.052 1.462 1.87.9L15.563 9.9c.584-.45.584-1.35 0-1.8z"})),l.a.createElement("span",{className:"tooltip"},"Play (k)")]),s=l.a.createElement(f,{duration:t,currentAudioTime:this.state.currentAudioTime,toc:this.props.toc,audioPct:o,getFormattedTime:this.getFormattedTime,onAudioMouseDown:this.onAudioMouseDown,onAudioMouseUp:this.onAudioMouseUp,onAudioTimeChange:this.onAudioTimeChange,setRef:this.setRef,externalToInternalTime:this.externalToInternalTime,sliderClientWidth:this.state.sliderClientWidth}),r=l.a.createElement("div",{style:{height:"10%"},onClick:this.toggleMobileAudioControls},l.a.createElement("div",{className:"mobile-progress-bar",style:{background:"linear-gradient(to right, #4a90e2 "+o+"%, transparent "+o+"%)"}})),c=(l.a.createElement("div",{className:"time",ref:"timeLabel"},this.getFormattedTime()),l.a.createElement("div",{className:"time",ref:"timeLabel"},this.getFormattedTime(this.state.currentAudioTime)+" / "+this.getFormattedTime())),d=l.a.createElement("div",{className:"menu"},l.a.createElement("button",{"aria-expanded":this.state.showAudioMenu,type:"button",className:"control",onClick:this.toggleAudioMenu,ref:"audioMenuButton"},l.a.createElement("svg",{focusable:"false",width:"100%",height:"100%"},l.a.createElement("path",{d:"M16.135 7.784a2 2 0 0 1-1.23-2.969c.322-.536.225-.998-.094-1.316l-.31-.31c-.318-.318-.78-.415-1.316-.094a2 2 0 0 1-2.969-1.23C10.065 1.258 9.669 1 9.219 1h-.438c-.45 0-.845.258-.997.865a2 2 0 0 1-2.969 1.23c-.536-.322-.999-.225-1.317.093l-.31.31c-.318.318-.415.781-.093 1.317a2 2 0 0 1-1.23 2.969C1.26 7.935 1 8.33 1 8.781v.438c0 .45.258.845.865.997a2 2 0 0 1 1.23 2.969c-.322.536-.225.998.094 1.316l.31.31c.319.319.782.415 1.316.094a2 2 0 0 1 2.969 1.23c.151.607.547.865.997.865h.438c.45 0 .845-.258.997-.865a2 2 0 0 1 2.969-1.23c.535.321.997.225 1.316-.094l.31-.31c.318-.318.415-.781.094-1.316a2 2 0 0 1 1.23-2.969c.607-.151.865-.547.865-.997v-.438c0-.451-.26-.846-.865-.997zM9 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"}))),this.state.showAudioMenu&&l.a.createElement("div",{className:"menu__container",ref:"audioMenu"},l.a.createElement("div",null,l.a.createElement("span",{className:"label large bold speed-label"},"Speed"),l.a.createElement("div",{role:"menu"},[.5,.75,1,1.25,1.5,1.75,2].map(function(t){return l.a.createElement("button",{type:"button",role:"menuitemradio",className:"control","aria-checked":e.state.speed==t,value:t,onClick:function(){return e.modifySpeed(t)}},l.a.createElement("span",null,1==t?"Normal":t))}))))),h=l.a.createElement("button",{type:"button",className:"control","data-plyr":"captions",onClick:this.props.toggleSubtitles},this.props.showSubtitles?[l.a.createElement("svg",{role:"presentation",focusable:"false"},l.a.createElement("path",{d:"M1,1 C0.4,1 0,1.4 0,2 L0,13 C0,13.6 0.4,14 1,14 L5.6,14 L8.3,16.7 C8.5,16.9 8.7,17 9,17 C9.3,17 9.5,16.9 9.7,16.7 L12.4,14 L17,14 C17.6,14 18,13.6 18,13 L18,2 C18,1.4 17.6,1 17,1 L1,1 Z M5.52,11.15 C7.51,11.15 8.53,9.83 8.8,8.74 L7.51,8.35 C7.32,9.01 6.73,9.8 5.52,9.8 C4.38,9.8 3.32,8.97 3.32,7.46 C3.32,5.85 4.44,5.09 5.5,5.09 C6.73,5.09 7.28,5.84 7.45,6.52 L8.75,6.11 C8.47,4.96 7.46,3.76 5.5,3.76 C3.6,3.76 1.89,5.2 1.89,7.46 C1.89,9.72 3.54,11.15 5.52,11.15 Z M13.09,11.15 C15.08,11.15 16.1,9.83 16.37,8.74 L15.08,8.35 C14.89,9.01 14.3,9.8 13.09,9.8 C11.95,9.8 10.89,8.97 10.89,7.46 C10.89,5.85 12.01,5.09 13.07,5.09 C14.3,5.09 14.85,5.84 15.02,6.52 L16.32,6.11 C16.04,4.96 15.03,3.76 13.07,3.76 C11.17,3.76 9.46,5.2 9.46,7.46 C9.46,9.72 11.11,11.15 13.09,11.15 Z",fillRule:"evenodd"})),l.a.createElement("span",{className:"tooltip"},"Disable captions (c)")]:[l.a.createElement("svg",{role:"presentation",focusable:"false"},l.a.createElement("path",{d:"M1,1 C0.4,1 0,1.4 0,2 L0,13 C0,13.6 0.4,14 1,14 L5.6,14 L8.3,16.7 C8.5,16.9 8.7,17 9,17 C9.3,17 9.5,16.9 9.7,16.7 L12.4,14 L17,14 C17.6,14 18,13.6 18,13 L18,2 C18,1.4 17.6,1 17,1 L1,1 Z M5.52,11.15 C7.51,11.15 8.53,9.83 8.8,8.74 L7.51,8.35 C7.32,9.01 6.73,9.8 5.52,9.8 C4.38,9.8 3.32,8.97 3.32,7.46 C3.32,5.85 4.44,5.09 5.5,5.09 C6.73,5.09 7.28,5.84 7.45,6.52 L8.75,6.11 C8.47,4.96 7.46,3.76 5.5,3.76 C3.6,3.76 1.89,5.2 1.89,7.46 C1.89,9.72 3.54,11.15 5.52,11.15 Z M13.09,11.15 C15.08,11.15 16.1,9.83 16.37,8.74 L15.08,8.35 C14.89,9.01 14.3,9.8 13.09,9.8 C11.95,9.8 10.89,8.97 10.89,7.46 C10.89,5.85 12.01,5.09 13.07,5.09 C14.3,5.09 14.85,5.84 15.02,6.52 L16.32,6.11 C16.04,4.96 15.03,3.76 13.07,3.76 C11.17,3.76 9.46,5.2 9.46,7.46 C9.46,9.72 11.11,11.15 13.09,11.15 Z",fillRule:"evenodd",fillOpacity:".5"})),l.a.createElement("span",{className:"tooltip"},"Enable captions (c)")]),m=l.a.createElement("button",{type:"button",className:"control",onClick:this.onRewindClick},l.a.createElement("svg",{role:"presentation",focusable:"false"},l.a.createElement("polygon",{points:"10.125 1 0 9 10.125 17 10.125 10.8285714 18 17 18 1 10.125 7.17142857"})),l.a.createElement("span",{className:"tooltip"},"Rewind (10s)")),g=l.a.createElement("button",{type:"button",className:"control",onClick:this.onForwardClick},l.a.createElement("svg",{role:"presentation",focusable:"false"},l.a.createElement("polygon",{points:"7.875 7.17142857 0 1 0 17 7.875 10.8285714 7.875 17 18 9 7.875 1"})),l.a.createElement("span",{className:"tooltip"},"Forward (10s)")),v=this.props.isFullScreenEnabled&&l.a.createElement("button",{type:"button",className:"control","data-plyr":"fullscreen",onClick:this.toggleFullScreen},this.props.isFullScreenActive?[l.a.createElement("svg",{role:"presentation",focusable:"false"},l.a.createElement("path",{d:"M1 12h3.6l-4 4L2 17.4l4-4V17h2v-7H1zM16 .6l-4 4V1h-2v7h7V6h-3.6l4-4z"})),l.a.createElement("span",{className:"tooltip"},"Exit fullscreen (f)")]:[l.a.createElement("svg",{role:"presentation",focusable:"false"},l.a.createElement("path",{d:"M10 3h3.6l-4 4L11 8.4l4-4V8h2V1h-7zM7 9.6l-4 4V10H1v7h7v-2H4.4l4-4z"})),l.a.createElement("span",{className:"tooltip"},"Enter fullscreen (f)")]),y=l.a.createElement("div",{className:"spacer"});return l.a.createElement("div",{className:"cl-audio",ref:"audioWrapper"},l.a.createElement("audio",{src:this.props.audio,ref:function(t){e.audio=t},className:"audio-player "+this.props.additionalClassName,preload:"auto"}),l.a.createElement("div",{className:"audio "+(this.state.isLoading?"loading":"")},p.a?this.state.showMobileAudioControls||this.isSeeking||!this.props.isFullScreenActive?[l.a.createElement("div",{className:"controls"},a,c,y,m,g,d,h,v),l.a.createElement("div",{className:"controls"},s)]:r:l.a.createElement("div",{className:"controls"},a,s,c,d,h,v)))}}]),t}(l.a.PureComponent);t.a=g},1088:function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{customIdInfo:e.get("customIdInfo")}}n.d(t,"a",function(){return S});var l=n(1),c=n.n(l),u=n(37),d=(n.n(u),n(1004)),p=n(131),h=n(328),m=n(982),f=n(331),g=n(17),v=n(32),y=n(39),b=(n.n(y),n(345)),k=n(994),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),C=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.options={highlightActiveLine:!0,showPrintMargin:!1,highlightSelectedWord:!0,minLines:1,maxLines:parseInt(e.maxLines||40),animatedScroll:!0},n}return s(t,e),w(t,[{key:"shouldComponentUpdate",value:function(e){return!n.i(k.a)(this.props,e)}},{key:"componentWillReceiveProps",value:function(e){this.props.maxLines!=e.maxLines&&(this.options=E({},this.options,{maxLines:parseInt(e.maxLines||this.options.maxLines)}))}},{key:"render",value:function(){return c.a.createElement(d.a,{code:this.props.codeStr,aceConfig:this.props.aceConfig,options:this.options,setRef:this.props.setAceRef,ref:"aceRef",cursorAtEnd:!0,newCursor:this.props.cursor,preventAutoFocus:this.props.preventAutoFocus})}}]),t}(c.a.Component),I=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleInitialState=n.handleInitialState.bind(n),n.getCodeLines=n.getCodeLines.bind(n),n.getCodeLinesStartingHelper=n.getCodeLinesStartingHelper.bind(n),n.getCodeLinesHelper=n.getCodeLinesHelper.bind(n),n.getCodeLinesAsString=n.getCodeLinesAsString.bind(n),n.getCode=n.getCode.bind(n),n.onClick=n.onClick.bind(n),n.onResume=n.onResume.bind(n),n.getAnimateProperties=n.getAnimateProperties.bind(n),n.handleModifications=n.handleModifications.bind(n),n.handleHighlights=n.handleHighlights.bind(n),n.handleScroll=n.handleScroll.bind(n),n.extractBlockId=n.extractBlockId.bind(n),n.handleCursor=n.handleCursor.bind(n),n.handleNumbering=n.handleNumbering.bind(n),n.setAceRef=n.setAceRef.bind(n),n.handleInitialState(n.props),n}return s(t,e),w(t,[{key:"handleInitialState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.extractBlockId(e),this.markerMap={},this.state={},this.lastScrollData=null}},{key:"handleModifications",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;e.highlight&&this.handleHighlights(e.highlight),e.scrollData&&this.handleScroll(e),this.handleCursor(e),this.handleNumbering(e)}},{key:"handleCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(this.ace){this.getAnimateProperties(e)?this.ace.getHighlightGutterLine()||(this.ace.renderer.$cursorLayer.element.style.opacity=1,this.ace.setHighlightGutterLine(!0)):this.ace.getHighlightGutterLine()&&(this.ace.renderer.$cursorLayer.element.style.opacity=0,this.ace.setHighlightGutterLine(!1))}}},{key:"handleNumbering",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.ace&&(e.isNumbered?(this.ace.renderer.getShowGutter()||this.ace.renderer.setShowGutter(!0),this.ace.setOption("highlightActiveLine",!0)):(this.ace.renderer.getShowGutter()&&this.ace.renderer.setShowGutter(!1),this.ace.setOption("highlightActiveLine",!1)))}},{key:"componentDidMount",value:function(){this.handleModifications(),this.props.setRef&&this.props.setRef(this,this.props.blockName)}},{key:"componentWillUnmount",value:function(){this.props.setRef&&this.props.setRef(null,this.props.blockName)}},{key:"componentDidUpdate",value:function(e,t){e.highlight!=this.props.highlight&&this.handleHighlights(this.props.highlight),e.scrollData!=this.props.scrollData&&this.handleScroll(),this.getAnimateProperties(e)!=this.getAnimateProperties()&&this.handleCursor(),e.isNumbered!=this.props.isNumbered&&this.handleNumbering()}},{key:"handleScroll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(this.ace){var n=t.scrollData;if(!(n=n?n.toJS():null)||!this.lastScrollData||this.lastScrollData.targetLine!=n.targetLine){var i=parseInt(n?n.targetLine||0:0),o=!(!n||!n.animate),a=function(){e.ace.scrollToLine(i,!1,o,function(){return{}}),e.lastScrollData=n};setTimeout(a,0)}}}},{key:"handleHighlights",value:function(e){if(this.ace){e=e?e.toJS():[];var t=this.ace.getSession(),o={},a=!0,s=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;if(u.range){var d=[u.range.from.line,u.range.from.character,u.range.to.line,u.range.to.character].filter(h.c).map(function(e){return parseInt(e)});if(4==d.length){o[u.name]=!0;var p=this.markerMap[u.name];if(p){if(!this.props.staticDisplay)continue;if(n.i(y.fromJS)(d).equals(n.i(y.fromJS)(p.range)))continue;t.removeMarker(p.id),delete this.markerMap[u.name]}var m=new(Function.prototype.bind.apply(ace.Range,[null].concat(i(d)))),f=t.addMarker(m,"code-highlight-ace","text",!0);this.markerMap[u.name]={id:f,range:d}}}}}catch(e){s=!0,r=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw r}}for(var g in this.markerMap)this.markerMap.hasOwnProperty(g)&&(o[g]||(t.removeMarker(this.markerMap[g].id),delete this.markerMap[g]))}}},{key:"componentWillReceiveProps",value:function(e){this.props.blockName!=e.blockName&&this.handleInitialState(e),!this.props.isPlaying&&e.isPlaying&&e.animate&&this.onResume(),this.props.highlight!=e.highlight&&this.handleHighlights(e.highlight),this.props.scrollData!=e.scrollData&&this.handleScroll(e),this.props.content&&e.content&&this.props.content.config!=e.content.config&&this.extractBlockId(e)}},{key:"extractBlockId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!e.content)return null;e.content.config&&(this.codeBlockId=n.i(p.f)({text:e.content.config}))}},{key:"getCodeLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=[].concat(i(this.getCodeLinesHelper(e)));if(!this.getAnimateProperties(e))return{lines:t};t=[].concat(i(this.getCodeLinesStartingHelper(e)));for(var n=this.getAnimateProperties(e),o=n.type,a=(n.speed,this.getAnimateOperations(e)),s=a.length,r=0;r<a.length;r++){if(a[r].timestamp>e.time){s=r;break}}for(var l={},c=0;c<s;c++){var u=a[c];if("char"==o){var d=u.index[0],p=u.index[1],h=t[u.index[0]]||"";"insert"==u.operation?"\n"==u.text?(t.splice(d+1,0,h.slice(p)),h=h.slice(0,p),l={row:d+1,column:0}):(h=h.slice(0,p)+u.text+h.slice(p),l={row:d,column:p+u.text.length}):"\n"==u.text?(h+=t[d+1]||"",t.splice(d+1,1),l={row:d,column:h.length}):(h=h.slice(0,p)+h.slice(p+u.text.length),l={row:d,column:p}),t[d]=h}else if("insert"==u.operation)t.splice(u.index,0,u.text),l={row:u.index,column:u.text.length};else{t.splice(u.index,1);var m=Math.max(u.index-1,0);l={row:m,column:t[m].length}}}return{lines:t,cursor:l}}},{key:"getCodeLinesHelper",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).content.lines||[]}},{key:"getCodeLinesStartingHelper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.initialContent&&e.initialContent.lines||[]}},{key:"getCodeLinesAsString",value:function(e){var t=e.props,n=this.getCodeLines(t),i=n.lines,o=n.cursor;return i?{codeStr:i.join("\n"),cursor:o}:null}},{key:"getCode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return this.getCodeLinesAsString(e)}},{key:"onClick",value:function(e){if(this.props.staticDisplay||!this.props.isExecutable)return e.stopPropagation(),void e.preventDefault();n.i(b.a)(e.target),this.bodyScrollPos={scrollTop:document.body.scrollTop},this.initialCursorPosition=this.ace.getCursorPosition(),this.setState({isInEditCodeMode:!0,savedCode:this.ace.getValue()}),this.ace.setReadOnly(!1),this.props.onToggleEditCodeMode&&this.props.onToggleEditCodeMode(!0),this.props.pause()}},{key:"onResume",value:function(e){this.setState({isInEditCodeMode:!1,shouldResumePostAnimation:!0}),this.props.onToggleEditCodeMode&&this.props.onToggleEditCodeMode(!1),this.props.play(),n.i(v.e)()&&this.bodyScrollPos&&(document.body.scrollTop=this.bodyScrollPos.scrollTop),this.bodyScrollPos=null}},{key:"setAceRef",value:function(e){this.ace=e,this.ace.setReadOnly(!0),n.i(v.e)()&&(this.ace.container.style.pointerEvents="none"),this.handleModifications()}},{key:"shouldComponentUpdate",value:function(e,t){return!n.i(k.a)(this.props,e)||!n.i(k.a)(this.state,t)}},{key:"getAnimateProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.preventAnimation?null:e.animate}},{key:"getAnimateOperations",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).animateOperations}},{key:"render",value:function(){if(!this.props.content)return null;var e=this.props.customIdInfo&&this.props.customIdInfo.getIn(["codeblock",this.codeBlockId]),t=this.props.isExecutable?e&&e.getIn(["init_values",e.get("default_language").toString(),"mode_config"]):null,i=this.getCode();return c.a.createElement("div",{className:this.props.className},this.state.isInEditCodeMode?c.a.createElement(f.a,{contentClass:"active-code-container",onClick:this.onResume,bottomCloseClass:"label blue centered-text dnr-video-overlay-codeblock-resume-button",bottomCloseText:"Resume Video",bodyClass:g.a&&"distraction-free-2"},c.a.createElement(m.a,{initialCode:this.state.savedCode,codeBlockId:this.codeBlockId,additionalHeight:0,rendered:!0,initialCursorPosition:this.initialCursorPosition,preventFullScreen:!0,hideTryItNow:!0,preventAutoFocus:n.i(v.e)()})):c.a.createElement("div",{onMouseDown:this.onClick,className:"code-editor"},this.props.isExecutable&&c.a.createElement("div",{className:"try-it-now"},c.a.createElement("span",{className:"click-target",onClick:this.onClick},"Click code to run ðŸ‘‡")),c.a.createElement(C,{codeStr:i&&i.codeStr?i.codeStr:void 0,aceConfig:t,cursor:i&&i.cursor?i.cursor:void 0,setAceRef:this.setAceRef,maxLines:this.props.maxLines})))}}]),t}(c.a.Component),S=n.i(u.connect)(r,{logGenericClick:b.a},null,{withRef:!0})(I)},1089:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function r(e,t){if(e&&t){var n=new Event(t);e.dispatchEvent(n)}}function l(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function c(e,t){if(1>t){var n=l(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var u={addCSS:!0,thumbWidth:15,watch:!0},d=function(e){return null!=e?e.constructor:null},p=function(e,t){return!!(e&&t&&e instanceof t)},h=function(e){return null==e},m=function(e){return d(e)===Object},f=function(e){return d(e)===Number&&!Number.isNaN(e)},g=function(e){return d(e)===String},v=function(e){return d(e)===Boolean},y=function(e){return d(e)===Function},b=function(e){return Array.isArray(e)},k=function(e){return p(e,NodeList)},E=function(e){return p(e,Element)},w=function(e){return p(e,Event)},C=function(e){return h(e)||(g(e)||b(e)||k(e))&&!e.length||m(e)&&!Object.keys(e).length},I={nullOrUndefined:h,object:m,number:f,string:g,boolean:v,function:y,array:b,nodeList:k,element:E,event:w,empty:C},S=function(){function e(t,n){i(this,e),I.element(t)?this.element=t:I.string(t)&&(this.element=document.querySelector(t)),I.element(this.element)&&I.empty(this.element.rangeTouch)&&(this.config=Object.assign({},u,n),this.init())}return a(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[n](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(t){if(!e.enabled||!I.event(t))return null;var n,i=t.target,o=t.changedTouches[0],a=parseFloat(i.getAttribute("min"))||0,s=parseFloat(i.getAttribute("max"))||100,r=parseFloat(i.getAttribute("step"))||1,l=i.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(n=100/l.width*(o.clientX-l.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*u:50<n&&(n+=2*(n-50)*u),a+c(n/100*(s-a),r)}},{key:"set",value:function(t){e.enabled&&I.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),r(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;if(I.empty(t)||I.string(t)?i=Array.from(document.querySelectorAll(I.string(t)?t:'input[type="range"]')):I.element(t)?i=[t]:I.nodeList(t)?i=Array.from(t):I.array(t)&&(i=t.filter(I.element)),I.empty(i))return null;var o=Object.assign({},u,n);return I.string(t)&&o.watch&&new MutationObserver(function(n){Array.from(n).forEach(function(n){Array.from(n.addedNodes).forEach(function(n){I.element(n)&&s(n,t)&&new e(n,o)})})}).observe(document.body,{childList:!0,subtree:!0}),i.map(function(t){return new e(t,n)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();t.a=S},1090:function(e,t,n){"use strict";function i(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.children,i=[],o=0;o<t.children.length;o++){var a=n[o];if(a.classList&&a.classList.contains("code")){for(var s="",r=!1,l=0;l<a.children.length;l++){var c=a.children[l];c.classList.contains("custom-code-ref")?r=!0:s+=c.textContent.replace(new RegExp("Â ","g")," ")+"\n"}i.push({code:s,preamble:r,language:a.getAttribute("data-language")})}}return i}function o(e,t){if(!e)return null;var n=document.createElement("div");n.innerHTML=e;for(var i=n.children,o=0,a=0;a<n.children.length;a++){var s=i[a];if(s.classList&&s.classList.contains("code")){var r=t[o],l=r.code.split("\n"),c=0;r.preamble&&(c=1);for(var u=c;u<s.children.length;u++){s.children[u].innerHTML=l[u-c]}o++}}return n.innerHTML}function a(e,t){var n=o(e,t);m[e]={status:"finished",val:n},s(e)}function s(e){u.a.dispatch(n.i(d.p)(["codeHighlightedText",e],m[e].val))}function r(e){if(!h||p.c||!e)return null;if(!(m[e]||-1==e.indexOf('class="code"')&&-1==e.indexOf("class='code'"))){m[e]={status:"pending"};var t=i(e);return h.postMessage({codeBlocks:t,text:e}),null}}t.a=r;var l=n(1092),c=n.n(l),u=n(137),d=n(38),p=n(17),h=null,m={};try{h=new Worker(window.URL.createObjectURL(new Blob([c.a]))),h.onmessage=function(e){var t=e.data;a(t.text,t.blockArr)}}catch(e){}},1092:function(e,t){e.exports="//Does Code Highlighting in a worker process\n//Given an array of strings, it will return a dictionary from that string to the code highlighted\n//version of that string.\nonmessage = function onmessage(event) {\n\timportScripts('https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js');\n\timportScripts('https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/swift.min.js');\n\n\tvar _event$data = event.data,\n\t    codeBlocks = _event$data.codeBlocks,\n\t    text = _event$data.text;\n\n\n\tvar blockArr = [];\n\n\tfor (var j = 0; j < codeBlocks.length; j++) {\n\t\tvar block = codeBlocks[j];\n\n\t\tvar b = null;\n\n\t\tif (block.language) b = self.hljs.highlightAuto(block.code, [block.language]);else b = self.hljs.highlightAuto(block.code);\n\n\t\tblockArr.push({ code: b.value, preamble: block.preamble });\n\t}\n\n\tpostMessage({ text: text, blockArr: blockArr });\n};"},1121:function(e,t,n){(function(t){(function(){var n,i,o,a,s,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-s)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},a=n(),r=1e9*t.uptime(),s=a-r):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,n(139))},1130:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(979),s=i(a),r=n(948),l=i(r),c=n(981),u=i(c),d=n(977),p=i(d),h=n(978),m=i(h),f=n(980),g=i(f),v=n(1),y=i(v),b=n(31),k=i(b),E=n(202),w=i(E),C=w.default({propTypes:{defaultStyle:k.default.objectOf(k.default.number),style:k.default.objectOf(k.default.oneOfType([k.default.number,k.default.object])).isRequired,children:k.default.func.isRequired,onRest:k.default.func},getInitialState:function(){var e=this.props,t=e.defaultStyle,n=e.style,i=t||l.default(n),o=s.default(i);return{currentStyle:i,currentVelocity:o,lastIdealStyle:i,lastIdealVelocity:o}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(e){var t=!1,n=this.state,i=n.currentStyle,a=n.currentVelocity,s=n.lastIdealStyle,r=n.lastIdealVelocity;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var c=e[l];"number"==typeof c&&(t||(t=!0,i=o({},i),a=o({},a),s=o({},s),r=o({},r)),i[l]=c,a[l]=0,s[l]=c,r[l]=0)}t&&this.setState({currentStyle:i,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:r})},startAnimationIfNecessary:function(){var e=this;this.animationID=m.default(function(t){var n=e.props.style;if(g.default(e.state.currentStyle,n,e.state.currentVelocity))return e.wasAnimating&&e.props.onRest&&e.props.onRest(),e.animationID=null,e.wasAnimating=!1,void(e.accumulatedTime=0);e.wasAnimating=!0;var i=t||p.default(),o=i-e.prevTime;if(e.prevTime=i,e.accumulatedTime=e.accumulatedTime+o,e.accumulatedTime>1e3/60*10&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();var a=(e.accumulatedTime-Math.floor(e.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),s=Math.floor(e.accumulatedTime/(1e3/60)),r={},l={},c={},d={};for(var h in n)if(Object.prototype.hasOwnProperty.call(n,h)){var m=n[h];if("number"==typeof m)c[h]=m,d[h]=0,r[h]=m,l[h]=0;else{for(var f=e.state.lastIdealStyle[h],v=e.state.lastIdealVelocity[h],y=0;y<s;y++){var b=u.default(1e3/60/1e3,f,v,m.val,m.stiffness,m.damping,m.precision);f=b[0],v=b[1]}var k=u.default(1e3/60/1e3,f,v,m.val,m.stiffness,m.damping,m.precision),E=k[0],w=k[1];c[h]=f+(E-f)*a,d[h]=v+(w-v)*a,r[h]=f,l[h]=v}}e.animationID=null,e.accumulatedTime-=s*(1e3/60),e.setState({currentStyle:c,currentVelocity:d,lastIdealStyle:r,lastIdealVelocity:l}),e.unreadPropStyle=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=p.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=p.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(m.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyle);return e&&y.default.Children.only(e)}});t.default=C,e.exports=t.default},1131:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){for(var i=0;i<e.length;i++)if(!v.default(e[i],t[i],n[i]))return!1;return!0}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=n(979),r=i(s),l=n(948),c=i(l),u=n(981),d=i(u),p=n(977),h=i(p),m=n(978),f=i(m),g=n(980),v=i(g),y=n(1),b=i(y),k=n(31),E=i(k),w=n(202),C=i(w),I=C.default({propTypes:{defaultStyles:E.default.arrayOf(E.default.objectOf(E.default.number)),styles:E.default.func.isRequired,children:E.default.func.isRequired},getInitialState:function(){var e=this.props,t=e.defaultStyles,n=e.styles,i=t||n().map(c.default),o=i.map(function(e){return r.default(e)});return{currentStyles:i,currentVelocities:o,lastIdealStyles:i,lastIdealVelocities:o}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=this.state,n=t.currentStyles,i=t.currentVelocities,o=t.lastIdealStyles,s=t.lastIdealVelocities,r=!1,l=0;l<e.length;l++){var c=e[l],u=!1;for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var p=c[d];"number"==typeof p&&(u||(u=!0,r=!0,n[l]=a({},n[l]),i[l]=a({},i[l]),o[l]=a({},o[l]),s[l]=a({},s[l])),n[l][d]=p,i[l][d]=0,o[l][d]=p,s[l][d]=0)}}r&&this.setState({currentStyles:n,currentVelocities:i,lastIdealStyles:o,lastIdealVelocities:s})},startAnimationIfNecessary:function(){var e=this;this.animationID=f.default(function(t){var n=e.props.styles(e.state.lastIdealStyles);if(o(e.state.currentStyles,n,e.state.currentVelocities))return e.animationID=null,void(e.accumulatedTime=0);var i=t||h.default(),a=i-e.prevTime;if(e.prevTime=i,e.accumulatedTime=e.accumulatedTime+a,e.accumulatedTime>1e3/60*10&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();for(var s=(e.accumulatedTime-Math.floor(e.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),r=Math.floor(e.accumulatedTime/(1e3/60)),l=[],c=[],u=[],p=[],m=0;m<n.length;m++){var f=n[m],g={},v={},y={},b={};for(var k in f)if(Object.prototype.hasOwnProperty.call(f,k)){var E=f[k];if("number"==typeof E)g[k]=E,v[k]=0,y[k]=E,b[k]=0;else{for(var w=e.state.lastIdealStyles[m][k],C=e.state.lastIdealVelocities[m][k],I=0;I<r;I++){var S=d.default(1e3/60/1e3,w,C,E.val,E.stiffness,E.damping,E.precision);w=S[0],C=S[1]}var N=d.default(1e3/60/1e3,w,C,E.val,E.stiffness,E.damping,E.precision),P=N[0],O=N[1];g[k]=w+(P-w)*s,v[k]=C+(O-C)*s,y[k]=w,b[k]=C}}u[m]=g,p[m]=v,l[m]=y,c[m]=b}e.animationID=null,e.accumulatedTime-=r*(1e3/60),e.setState({currentStyles:u,currentVelocities:p,lastIdealStyles:l,lastIdealVelocities:c}),e.unreadPropStyles=null,e.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=h.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=h.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(f.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=this.props.children(this.state.currentStyles);return e&&b.default.Children.only(e)}});t.default=I,e.exports=t.default},1132:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var i=t;return null==i?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var o=0;o<i.length;o++)if(i[o].key===e.key)return{key:i[o].key,data:i[o].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function a(e,t,n,i){if(i.length!==t.length)return!1;for(var o=0;o<i.length;o++)if(i[o].key!==t[o].key)return!1;for(var o=0;o<i.length;o++)if(!E.default(e[o],t[o].style,n[o]))return!1;return!0}function s(e,t,n,i,o,a,s,r,l){for(var u=f.default(i,o,function(e,i){var o=t(i);return null==o?(n({key:i.key,data:i.data}),null):E.default(a[e],o,s[e])?(n({key:i.key,data:i.data}),null):{key:i.key,data:i.data,style:o}}),d=[],p=[],h=[],m=[],g=0;g<u.length;g++){for(var v=u[g],y=null,b=0;b<i.length;b++)if(i[b].key===v.key){y=b;break}if(null==y){var k=e(v);d[g]=k,h[g]=k;var w=c.default(v.style);p[g]=w,m[g]=w}else d[g]=a[y],h[g]=r[y],p[g]=s[y],m[g]=l[y]}return[u,d,p,h,m]}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=n(979),c=i(l),u=n(948),d=i(u),p=n(981),h=i(p),m=n(1133),f=i(m),g=n(977),v=i(g),y=n(978),b=i(y),k=n(980),E=i(k),w=n(1),C=i(w),I=n(31),S=i(I),N=n(202),P=i(N),O=P.default({propTypes:{defaultStyles:S.default.arrayOf(S.default.shape({key:S.default.string.isRequired,data:S.default.any,style:S.default.objectOf(S.default.number).isRequired})),styles:S.default.oneOfType([S.default.func,S.default.arrayOf(S.default.shape({key:S.default.string.isRequired,data:S.default.any,style:S.default.objectOf(S.default.oneOfType([S.default.number,S.default.object])).isRequired}))]).isRequired,children:S.default.func.isRequired,willEnter:S.default.func,willLeave:S.default.func,didLeave:S.default.func},getDefaultProps:function(){return{willEnter:function(e){return d.default(e.style)},willLeave:function(){return null},didLeave:function(){}}},getInitialState:function(){var e=this.props,t=e.defaultStyles,n=e.styles,i=e.willEnter,o=e.willLeave,a=e.didLeave,r="function"==typeof n?n(t):n,l=void 0;l=null==t?r:t.map(function(e){for(var t=0;t<r.length;t++)if(r[t].key===e.key)return r[t];return e});var u=null==t?r.map(function(e){return d.default(e.style)}):t.map(function(e){return d.default(e.style)}),p=null==t?r.map(function(e){return c.default(e.style)}):t.map(function(e){return c.default(e.style)}),h=s(i,o,a,l,r,u,p,u,p),m=h[0];return{currentStyles:h[1],currentVelocities:h[2],lastIdealStyles:h[3],lastIdealVelocities:h[4],mergedPropsStyles:m}},unmounting:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(e){for(var t=s(this.props.willEnter,this.props.willLeave,this.props.didLeave,this.state.mergedPropsStyles,e,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),n=t[0],i=t[1],o=t[2],a=t[3],l=t[4],c=0;c<e.length;c++){var u=e[c].style,d=!1;for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var h=u[p];"number"==typeof h&&(d||(d=!0,i[c]=r({},i[c]),o[c]=r({},o[c]),a[c]=r({},a[c]),l[c]=r({},l[c]),n[c]={key:n[c].key,data:n[c].data,style:r({},n[c].style)}),i[c][p]=h,o[c][p]=0,a[c][p]=h,l[c][p]=0,n[c].style[p]=h)}}this.setState({currentStyles:i,currentVelocities:o,mergedPropsStyles:n,lastIdealStyles:a,lastIdealVelocities:l})},startAnimationIfNecessary:function(){var e=this;this.unmounting||(this.animationID=b.default(function(t){if(!e.unmounting){var n=e.props.styles,i="function"==typeof n?n(o(e.state.mergedPropsStyles,e.unreadPropStyles,e.state.lastIdealStyles)):n;if(a(e.state.currentStyles,i,e.state.currentVelocities,e.state.mergedPropsStyles))return e.animationID=null,void(e.accumulatedTime=0);var r=t||v.default(),l=r-e.prevTime;if(e.prevTime=r,e.accumulatedTime=e.accumulatedTime+l,e.accumulatedTime>1e3/60*10&&(e.accumulatedTime=0),0===e.accumulatedTime)return e.animationID=null,void e.startAnimationIfNecessary();for(var c=(e.accumulatedTime-Math.floor(e.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),u=Math.floor(e.accumulatedTime/(1e3/60)),d=s(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,i,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),p=d[0],m=d[1],f=d[2],g=d[3],y=d[4],b=0;b<p.length;b++){var k=p[b].style,E={},w={},C={},I={};for(var S in k)if(Object.prototype.hasOwnProperty.call(k,S)){var N=k[S];if("number"==typeof N)E[S]=N,w[S]=0,C[S]=N,I[S]=0;else{for(var P=g[b][S],O=y[b][S],x=0;x<u;x++){var T=h.default(1e3/60/1e3,P,O,N.val,N.stiffness,N.damping,N.precision);P=T[0],O=T[1]}var _=h.default(1e3/60/1e3,P,O,N.val,N.stiffness,N.damping,N.precision),L=_[0],M=_[1];E[S]=P+(L-P)*c,w[S]=O+(M-O)*c,C[S]=P,I[S]=O}}g[b]=C,y[b]=I,m[b]=E,f[b]=w}e.animationID=null,e.accumulatedTime-=u*(1e3/60),e.setState({currentStyles:m,currentVelocities:f,lastIdealStyles:g,lastIdealVelocities:y,mergedPropsStyles:p}),e.unreadPropStyles=null,e.startAnimationIfNecessary()}}))},componentDidMount:function(){this.prevTime=v.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=v.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){this.unmounting=!0,null!=this.animationID&&(b.default.cancel(this.animationID),this.animationID=null)},render:function(){var e=o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&C.default.Children.only(t)}});t.default=O,e.exports=t.default},1133:function(e,t,n){"use strict";function i(e,t,n){for(var i={},o=0;o<e.length;o++)i[e[o].key]=o;for(var a={},o=0;o<t.length;o++)a[t[o].key]=o;for(var s=[],o=0;o<t.length;o++)s[o]=t[o];for(var o=0;o<e.length;o++)if(!Object.prototype.hasOwnProperty.call(a,e[o].key)){var r=n(o,e[o]);null!=r&&s.push(r)}return s.sort(function(e,n){var o=a[e.key],s=a[n.key],r=i[e.key],l=i[n.key];if(null!=o&&null!=s)return a[e.key]-a[n.key];if(null!=r&&null!=l)return i[e.key]-i[n.key];if(null!=o){for(var c=0;c<t.length;c++){var u=t[c].key;if(Object.prototype.hasOwnProperty.call(i,u)){if(o<a[u]&&l>i[u])return-1;if(o>a[u]&&l<i[u])return 1}}return 1}for(var c=0;c<t.length;c++){var u=t[c].key;if(Object.prototype.hasOwnProperty.call(i,u)){if(s<a[u]&&r>i[u])return 1;if(s>a[u]&&r<i[u])return-1}}return-1})}t.__esModule=!0,t.default=i,e.exports=t.default},1134:function(e,t,n){"use strict";function i(){}t.__esModule=!0,t.default=i;e.exports=t.default},1135:function(e,t,n){"use strict";function i(e,t){return o({},r,t,{val:e})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=i;var a=n(1033),s=function(e){return e&&e.__esModule?e:{default:e}}(a),r=o({},s.default.noWobble,{precision:.01});e.exports=t.default},1148:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{allowedPaymentMethods:e.get("allowedPaymentMethods")}}n.d(t,"a",function(){return y});var r=n(1),l=n.n(r),c=n(15),u=(n.n(c),n(326)),d=(n.n(u),n(940)),p=n.n(d),h=n(37),m=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={label:"Copy link"},n.onClick=n.onClick.bind(n),n.resetState=n.resetState.bind(n),n}return a(t,e),m(t,[{key:"onClick",value:function(e){this.setState({label:"Copied"}),window.setTimeout(this.resetState,3e3)}},{key:"resetState",value:function(){this.setState({label:"Copy Link"})}},{key:"render",value:function(){return l.a.createElement(p.a,{className:"faq-share-botton","data-clipboard-text":"https://commonlounge.com/upgrade#"+this.props.name,onSuccess:this.onClick},this.state.label)}}]),t}(l.a.PureComponent),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isExpanded:!1},n}return a(t,e),m(t,[{key:"render",value:function(){var e=this;return l.a.createElement(u.Element,{name:this.props.hash,className:this.state.isExpanded?"faq":"faq compact"},l.a.createElement("div",{className:"question",onClick:function(){return e.setState({isExpanded:!e.state.isExpanded})}},l.a.createElement("span",{className:"expand-button"},this.state.isExpanded?"-":"+"),this.props.questionCopy," ",l.a.createElement(f,{name:this.props.hash})),this.props.answerHtml)}}]),t}(l.a.PureComponent),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),m(t,[{key:"render",value:function(){var e=this.props.allowedPaymentMethods&&this.props.allowedPaymentMethods.get("manual");return l.a.createElement("div",null,l.a.createElement("div",{className:"heading"},"Frequently Asked Questions"),l.a.createElement(u.Element,{name:"faqs",className:"faqs"},l.a.createElement(g,{hash:"what-are-pro-courses",questionCopy:"Why join Pro?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"CommonLounge has over 40+ courses on various topics with over 900 tutorials."),l.a.createElement("p",null,"Over 20+ of these courses also include:",l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("strong",null,"Quizzes:")," These make you work through interesting problems that solidify your learnings and (sometimes) stretch you."),l.a.createElement("li",null,l.a.createElement("strong",null,"Real world projects:")," These let you work with tools used in the industry, and experts give you feedback on every submission."),l.a.createElement("li",null,l.a.createElement("strong",null,"Certificate of Completion:")," After completing this course, you receive an official Certificate of Completion which includes details about your quiz scores and completed projects. More details ",l.a.createElement("a",{href:"https://www.commonlounge.com/discussion/febdc0e42b97486bac9fcb40990ca21a/main",target:""},"here"),"."))),l.a.createElement("p",null,"This is the best way to dive deeper into a topic and get hands-on experience and practice. Students often tell us that subscribing to Pro is a no-brainer since their understanding of the material improves substantially. To get access to these courses, you need to have a ",l.a.createElement("a",{href:"https://www.commonlounge.com/upgrade",target:""},"Pro subscription"),"."))}),l.a.createElement(g,{hash:"access-to-all-courses",questionCopy:"Do I get access to a specific course with Pro, or all courses?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"Once you subscribe to Pro, you get access to ",l.a.createElement("strong",null,"ALL")," the courses on the platform, not just a specific one. As long as you stay subscribed, you can enroll in as many courses as you'd like!"))}),l.a.createElement(g,{hash:"access-to-new-courses",questionCopy:"Will I get access to new Pro courses that are added after I subscribe?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"Absolutely! This is one of the best perks of being a Pro member. We are constantly expanding our catalog of courses and as a Pro member, you are always the first to get access to all of them. You can find out what's in the works with our ",l.a.createElement("a",{href:"https://trello.com/b/amwGCcGZ/commonlounge-courses-roadmap",target:"_blank"},"Courses Roadmap.")))}),l.a.createElement(g,{hash:"why-is-pro-so-cheap",questionCopy:"How is the Pro subscription so cheap compared to other platforms?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"We believe that ",l.a.createElement("strong",null,"cost should not be a barrier in learning.")," and we hope to bring our content to as many students as possible. Hence, we work really hard to offer high-quality premium content that takes multiple months to create at incredibly low prices. If you don't believe us, just check out any of the free portions of our courses â€” they are 100% free and will convince you of the value of a Pro subscription."),l.a.createElement("p",null,"Our courses are created and reviewed by industry experts â€” people who have worked at places like Facebook and Microsoft and who have graduated from top global universities like Massachusetts Institute of Technology and Indian Institute of Technology."))}),l.a.createElement(g,{hash:"how-do-certificates-work",questionCopy:"How do certificates work?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"Certificates are available to current Pro members for courses that have projects and/or quizzes. More details ",l.a.createElement("a",{href:"https://www.commonlounge.com/discussion/febdc0e42b97486bac9fcb40990ca21a/main"},"here"),"."))}),l.a.createElement(g,{hash:"what-does-a-pro-subscription-mean",questionCopy:"What does a subscription to Pro mean?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"A Pro subscription gives you access to all of the Pro courses and features on the platform as long as you stay subscribed. Your subscription will automatically renew every month or year depending on how you chose to subscribe. If you cancel your subscription, you will lose access to all of the Pro courses / features, however your certificates will always remain valid for life and be accessible via the permanent link printed on them."),l.a.createElement("p",null,"There's no minimum time period you have to be subscribed for â€” you can stay subscribed as long as you're getting value out of our courses. The subscription works the same way as it does for products such as Netflix, Spotify, Saavn, etc."),e&&l.a.createElement("p",null,"You can buy a one-time payment pass for CommonLounge Pro by using Indian Debit / Credit cards or Indian Net Banking and Wallets. You will be charged in INR. You can keep topping up your access by buying as many one-time passes as you'd like."))}),l.a.createElement(g,{hash:"how-does-the-free-trial-work",questionCopy:"How does the free trial work?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"After you enter in your card details or PayPal information and start your trial, you get 7 days to use Pro without getting charged. You can cancel your trial at any time by going to the ",l.a.createElement("a",{href:"https://www.commonlounge.com/profile/settings"},"Settings")," page. After 7 days, your subscription will begin and you will automatically be charged either every month or every year, depending on the payment frequency you picked."),e&&l.a.createElement("p",null,"If you buy a one-time payment pass, we guarantee 7-day money back guarantee instead. You are charged when you buy the pass, but if for some reason you're unhappy with your CommonLounge Pro experience, you can request a 100% refund within the next 7 days. No questions asked. Simply click cancel on the ",l.a.createElement(c.Link,{to:"/profile/settings"},"settings page"),"."))}),l.a.createElement(g,{hash:"ask-employer-to-expense-my-pro-membership",questionCopy:"Can I ask my employer to expense my Pro membership?",answerHtml:l.a.createElement("div",{className:"answer"},"Many employers have a generous per-person budget (usually around $1000/employee per year) for continual learning and professional development of their employees and are happy to pay for CommonLounge subscriptions. At the end of your purchase, please email us at ",l.a.createElement("a",{href:"mailto:hello@commonlounge.com"},"hello@commonlounge.com")," if you need a receipt to file an expense report.")}),l.a.createElement(g,{hash:"do-the-prices-change-over-time",questionCopy:"Do the prices change over time?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"Once you've subscribed, you lock in your price as long as you stay subscribed. Since we're currently offering early adopter pricing, it is likely that our prices will only increase over time. If you cancel in the future and then wish to re-subscribe, you will have to pay the increased price if the price has indeed increased."))}),l.a.createElement(g,{hash:"cancel-membership-in-the-middle",questionCopy:"What if I want to cancel my Pro subscription in the middle?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"You can cancel your Pro subscription at any time by going to the ",l.a.createElement("a",{href:"https://www.commonlounge.com/profile/settings"},"Settings")," page."),l.a.createElement("p",null,"After your 7-day trial period, your card is charged every month or every year, depending on your payment plan. If you cancel your membership, your subscription will not be renewed the following month or year."),l.a.createElement("p",null,"For example, let's say you're on a monthly plan and midway through a month, you decide to cancel. You will not be refunded for the rest of that month and will retain your access to the Pro plan until the end of the month. After that, your payment method won't be charged again and you will lose access to Pro. The exact same thing happens for yearly plans as well."),e&&l.a.createElement("p",null,"One-time payment passes via Indian Payment portals do not auto-renew â€” thus, they are not a subscription and there's no need to cancel them."))}),l.a.createElement(g,{hash:"different-prices-monthly-yearly",questionCopy:"Why do I see different prices if I elect to pay monthly vs. yearly?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,'If you sign up for a yearly plan, we offer a significant discount off our monthly price (often as much as 40%) to thank you for your commitment. On the "Pricing" page, we show you an effective monthly price, i.e. the yearly price divided by 12, so that you can easily compare against the monthly option. An Annual Pro subscription is by far the best value option amongst all of our promotions at any time.'))}),l.a.createElement(g,{hash:"card-payment-not-going-through",questionCopy:"Why is my card payment not going through?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"We accept any debit or credit card as long as they can be used for online purchases and for international transactions. We also accept PayPal as a payment option. If your payment is being rejected, it is likely that international transactions are not enabled on your card."),l.a.createElement("p",null,"Check ",l.a.createElement("a",{href:"https://www.commonlounge.com/payment-help/"},"here")," for additional information and next steps regarding this."),e&&l.a.createElement("p",null,l.a.createElement("strong",null,"For users from India, we also support all local Indian Debit/Credit cards, Net Banking and RuPay wallet if you buy a one-time CommonLounge Pro pass.")))}),l.a.createElement(g,{hash:"more-questions",questionCopy:"More questions?",answerHtml:l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"Please feel free to email us at ",l.a.createElement("a",{href:"mailto:hello@commonlounge.com"},"hello@commonlounge.com")))})))}}]),t}(l.a.PureComponent),y=n.i(h.connect)(s)(v)},1269:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(1),l=n.n(r),c=n(59),u=n.n(c),d=n(826),p=n(17),h=n(32),m=n(357),f=n(907),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={open:!1},n.toggleModal=n.toggleModal.bind(n),n.onStatusUpdate=n.onStatusUpdate.bind(n),n}return s(t,e),g(t,[{key:"componentDidUpdate",value:function(e){e.open!=this.state.open&&(this.state.open&&!this.props.isInlineDisplay?n.i(h.e)()?n.i(m.a)(this.refs.overlay):document.body.style.overflow="hidden":n.i(h.e)()?n.i(m.b)(this.refs.overlay):document.body.style.overflow="auto")}},{key:"onStatusUpdate",value:function(e){e&&this.toggleModal()}},{key:"toggleModal",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){if(!this.props.video)return null;if(!this.props.hasVideo&&!this.props.video.get("hasVideo"))return null;var e=this.props.isInlineDisplay,t=l.a.createElement(d.CLVideoPlayerContainer,i({onStatusUpdate:this.onStatusUpdate,audio:this.props.video.getIn(["videoInfo","video","audioUrl"],null),blocks:this.props.video.getIn(["videoInfo","video","outputConfig"],null),toc:this.props.video.getIn(["videoInfo","video","additionalOutputData","tableOfContents"],null),videoId:this.props.video.getIn(["videoInfo","video","eid"],null),videoClass:(e?"":"video-in-modal")+" "+(p.i?"":"full-screen-disabled"),autoplay:!0,forceAutoplay:!0},"onStatusUpdate",this.onStatusUpdate)),n=this.props.placeholderImg?this.props.placeholderImg.replace(f.d,""):null;return l.a.createElement("div",{className:"video-outline-thumb-wrapper"},(e&&!this.state.open||!e)&&l.a.createElement("div",{className:(e?"video-outline-thumb":"video-outline-thumb-modal")+" play",onClick:this.toggleModal,style:this.props.placeholderImg?{backgroundImage:'url("'+n+'")',backgroundSize:"cover"}:{}},l.a.createElement("div",{className:"play"})),e?this.state.open?t:null:l.a.createElement(u.a,{isOpen:this.state.open,overlayClassName:"modal-overlay black",onRequestClose:this.toggleModal,ref:"overlay",className:"modal-video-content"},l.a.createElement("div",{className:"modal-video-content-inner"},p.a&&l.a.createElement("button",{className:"button close-button-custom",onClick:this.toggleModal}),t)))}}]),t}(l.a.PureComponent);t.a=v},1298:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u});var s=n(1),r=n.n(s),l=n(15),c=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"continue-where-you-left-off-section"},r.a.createElement("div",{className:"label uppercase dark-blue"},this.props.isUpNextFirstItem?"First item for you:":"Next item for you:"),r.a.createElement("div",{className:"split-section"},r.a.createElement("div",{className:"left-section"},r.a.createElement("div",{className:"title"},r.a.createElement(l.Link,{to:"/discussion/"+this.props.upNextDiscussionId,className:"no-decoration"},this.props.name))),r.a.createElement("div",{className:"right-section"},r.a.createElement(l.Link,{to:"/discussion/"+this.props.upNextDiscussionId,className:"no-decoration"},r.a.createElement("button",{className:"action-button blue large very-very-wide no-max-width"},this.props.isUpNextFirstItem?"Start":"Continue"," ",this.props.isPath?"path":"course"," â†’")))))}}]),t}(r.a.PureComponent)},1300:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users"),discussions:e.get("discussions"),currentLoggedInUser:e.get("currentLoggedInUser"),experiments:e.get("experiments")}}n.d(t,"a",function(){return N});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(132)),d=n.n(u),p=(n(892),n(323)),h=n(15),m=(n.n(h),n(38)),f=n(97),g=n(1006),v=n(912),y=(n(340),n(17)),b=n(131),k=n(39),E=(n.n(k),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),w=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),E(t,[{key:"render",value:function(){return l.a.createElement("div",{className:this.props.isSubscribed?"action-button very-wide subscribed":"action-button wide subscribe",onClick:this.props.onClick},l.a.createElement("span",{className:"button-section"},this.props.isSubscribed?"Enrolled":"Enroll"),this.props.subscribersCount>10?l.a.createElement("span",{className:"button-section"},this.props.subscribersCount):null)}}]),t}(l.a.PureComponent),C=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),E(t,[{key:"render",value:function(){return l.a.createElement("span",{className:"checkbox",onClick:this.props.onClick})}}]),t}(l.a.PureComponent),I=(n.i(p.a)(w,p.c),n.i(p.a)(C,p.e)),S=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleToggleSubscribe=n.handleToggleSubscribe.bind(n),n.handleToggleCompleted=n.handleToggleCompleted.bind(n),n.updateSubscription=n.updateSubscription.bind(n),n.getHasSubscribed=n.getHasSubscribed.bind(n),n.getPlaylistId=n.getPlaylistId.bind(n),n.toggleSectionCollapse=n.toggleSectionCollapse.bind(n),n.toggleSectionDescriptionCollapse=n.toggleSectionDescriptionCollapse.bind(n),n.state={uncollapsedSectionsIndices:[0],uncollapsedSectionDescriptionIndices:[0]},n}return a(t,e),E(t,[{key:"toggleSectionCollapse",value:function(e){var t=this.state.uncollapsedSectionsIndices.indexOf(e);-1==t?this.setState({uncollapsedSectionsIndices:this.state.uncollapsedSectionsIndices.concat([e])}):this.setState({uncollapsedSectionsIndices:this.state.uncollapsedSectionsIndices.slice(0,t).concat(this.state.uncollapsedSectionsIndices.slice(t+1))})}},{key:"toggleSectionDescriptionCollapse",value:function(e){var t=this.state.uncollapsedSectionDescriptionIndices.indexOf(e);-1==t?this.setState({uncollapsedSectionDescriptionIndices:this.state.uncollapsedSectionDescriptionIndices.concat([e])}):this.setState({uncollapsedSectionDescriptionIndices:this.state.uncollapsedSectionDescriptionIndices.slice(0,t).concat(this.state.uncollapsedSectionDescriptionIndices.slice(t+1))})}},{key:"getHasSubscribed",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).discussion.getIn(["typeInfo","subscription","hasSubscribed"],!1)}},{key:"getPlaylistId",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).discussion.getIn(["typeInfo","eid"],!1)}},{key:"handleToggleSubscribe",value:function(){var e=this.getHasSubscribed();this.updateSubscription(!e,[])}},{key:"updateSubscription",value:function(e,t){t.length>0&&-1==t[0].value&&(t=[{value:0},{value:1},{value:2},{value:3},{value:4},{value:5},{value:6}]),this.props.updateDiscussionSubscription(this.props.discussion.get("eid"),e,t.map(function(e){return e.value}))}},{key:"handleToggleCompleted",value:function(e){this.props.toggleDiscussionCompleted(e,this.props.discussion.get("eid"),!1)}},{key:"convertPlaylistItemsToPlaylistSections",value:function(e){var t=[],n={content:null,items:[]};if(0==e.length)return t;var i=0;for("playlist_section"==e[i].type&&(n.content=e[i].playlistSection,i+=1);i<e.length;i++)"playlist_section"==e[i].type?(t.push(n),n={content:e[i].playlistSection,items:[]}):n.items.push(e[i].eid);return t.push(n),t}},{key:"render",value:function(){var e=this,t=this.props.discussion.get("typeInfo");if(!t)return null;for(var i=this.props.discussion.getIn(["rating","isRateable"],!1),o=this.props.discussion.hasIn(["typeInfo","subscription","hasSubscribed"]),a=this.getHasSubscribed(),s=this.props.discussion.getIn(["textStats","playlistitemCount"],0),r=s,c=t.getIn(["items","discussions"],n.i(k.List)()).size,u=0,p=(t.get("subscribersCount"),this.convertPlaylistItemsToPlaylistSections(t.getIn(["items","ordering"],n.i(k.List)()).toJS())),m=[],E=0,w=null,C=!1,S=this.props.disallowMarkingAsComplete,N=0;N<p.length;N++)!function(t){var i=p[t],o=i.items.map(function(t){var n=e.props.discussions.get(t),i=n?n.getIn(["timeToRead"],null):null;if(!n)return null;u+=n.get("hasCompleted")?1:0,w||n.get("hasCompleted")||(w=t,C=!(u>0));var o=n.get("canView"),a=n.get("isPremium"),s=n.get("displayType");return s=n.get("hasVideo")?"video":s,l.a.createElement("li",{className:n.get("hasCompleted")?"done":""},o?S?l.a.createElement(h.Link,{to:"/discussion/"+n.get("eid")}," ",l.a.createElement("span",{className:"checkbox"})," "):l.a.createElement(I,{onClick:function(){return e.handleToggleCompleted(t)},to:"/discussion/"+e.props.discussion.get("eid"),allowLurker:!0}):l.a.createElement(h.Link,{to:"/upgrade",className:"lock"}),l.a.createElement("div",{className:"link"},l.a.createElement(h.Link,{to:"/discussion/"+t},n.get("name"))),!a&&l.a.createElement("div",{className:"label"},"Free"),s&&l.a.createElement("div",{title:""+s,className:"type-icon "+s.toLowerCase()}),i&&l.a.createElement("div",{className:"label"},i," ",d()("min",i)))}),a=-1==e.state.uncollapsedSectionsIndices.indexOf(t),s=i.content,r=-1==e.state.uncollapsedSectionDescriptionIndices.indexOf(t),c=y.a&&n.i(b.l)(i.content)>75,f=r&&c,g=l.a.createElement("div",null,i.content&&l.a.createElement("div",null,l.a.createElement(v.a,{className:"playlist-section-content text "+(f?"collapsed-6 ":""),html:s,onClick:function(){return e.toggleSectionDescriptionCollapse(t)}}),c&&l.a.createElement("div",{className:"label large blue playlist-section-read-more",onClick:function(){return e.toggleSectionDescriptionCollapse(t)}},r?"Read More...":"Collapse")),l.a.createElement("ul",{className:"checklist"},p.length>1&&l.a.createElement("button",{className:"show-all "+(a?"":"reversed"),onClick:function(){return e.toggleSectionCollapse(t)}},a?"View section ("+i.items.length+" items)":"Collapse section"),!a&&o));m.push(g),E+=i.items.length}(N);return l.a.createElement("div",{className:"playlist-section"},l.a.createElement("div",{className:"user-content-syllabus separator"},"Syllabus"),m,r>c?l.a.createElement("span",{className:"loader-span extra-padding-left"},l.a.createElement(f.a,null)):null,o?l.a.createElement("div",{className:"playlist-options-box inside-metadata"},a&&l.a.createElement("div",{className:"compact-progress-section"},l.a.createElement("span",{className:"progress-line label"},u," out of ",s," ",d()("item",s)," completed.")),i?l.a.createElement("div",{className:"feedback-section-wrapper"},l.a.createElement(g.a,{discussionId:this.props.discussion.get("eid"),displayedPlaylistId:this.getPlaylistId()})):null,w?l.a.createElement("div",{className:"split-section"},l.a.createElement("div",{className:"next-section",onClick:function(){return h.browserHistory.push("/discussion/"+w)}},l.a.createElement("div",{className:"next-label"},C?"Start this course":"Next up for you"),l.a.createElement("div",{className:"label"},this.props.discussions.getIn([w,"name"],null)))):null):null)}}]),t}(l.a.PureComponent);S.contextTypes={location:l.a.PropTypes.object};var N=n.i(c.connect)(s,{toggleDiscussionCompleted:m.t,updateDiscussionSubscription:m.M},null,{withRef:!0})(S)},1307:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{discussions:e.get("discussions")}}n.d(t,"a",function(){return h});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),p=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),d(t,[{key:"render",value:function(){var e=this;return this.props.upNextDiscussionId?l.a.createElement("div",{className:"signup-prompt bottom visible"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"text"},l.a.createElement("div",null,l.a.createElement("span",{className:"free"},this.props.isUpNextFirstItem?"Start this "+(this.props.isPath?"path":"course")+": ":"Next up for you: "),l.a.createElement("strong",null,this.props.discussions.getIn([this.props.upNextDiscussionId,"name"],"")))),l.a.createElement("div",{className:"button main",onClick:function(){return u.browserHistory.push("/discussion/"+e.props.upNextDiscussionId)}},"Go â†’"))):null}}]),t}(l.a.PureComponent),h=n.i(c.connect)(s)(p)},1314:function(e,t,n){e.exports=n.p+"4a06945fd1eef26973743135db4c4878.png"},1316:function(e,t,n){e.exports=n.p+"f65095d9d0594a642c9b326d73307586.png"},1317:function(e,t,n){e.exports=n.p+"e6a4d4d6b71f2b7772f8c8f97906cd9f.png"},1318:function(e,t,n){e.exports=n.p+"046670ecfc1172e82965fe04475ec6a4.png"},1319:function(e,t,n){e.exports=n.p+"6ad8a86e4b47acbed7c7dbdc89ca7d59.png"},1585:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),r=n.n(s),l=n(132),c=n.n(l),u=n(15),d=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),p=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),d(t,[{key:"render",value:function(){var e=this.props.tutorialCount,t=this.props.projectCount,n=this.props.questionCount,i=this.props.videoCount,o=this.props.courseCount,a=this.props.isPro;return r.a.createElement("div",{className:"path-info-card"},r.a.createElement("div",{className:"path-stats"},r.a.createElement("div",{className:"path-stats-label"},"This path consists of ",o," ",c()("course",o),":"),r.a.createElement("div",{className:"path-stats-group"},i>0&&r.a.createElement("div",{className:"videos course-stat"},r.a.createElement("strong",null,i," Interactive")," ",c()("Video",i)),n>0&&r.a.createElement("div",{className:"quizzes course-stat"},r.a.createElement("strong",null,n)," ",c()("Exercise",n)),e>0&&r.a.createElement("div",{className:"tutorials course-stat"},r.a.createElement("strong",null,e)," ",c()("Tutorial",e)),t>0&&r.a.createElement("div",{className:"projects course-stat"},r.a.createElement("strong",null,t)," ",c()("Project",t)),a&&r.a.createElement("div",{className:"certificate course-stat"},"Certificate of Completion"))))}}]),t}(r.a.PureComponent);t.a=p},826:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){var t=e.get("currentLoggedInUser"),n=t?e.getIn(["users",t]):null;return{customIdInfo:e.get("customIdInfo"),loadedImages:e.get("loadedImages"),currentUser:n,currentLoggedInUser:t}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"CLVideoPlayerContainer",function(){return _});var l=n(1),c=n.n(l),u=n(53),d=(n.n(u),n(37)),p=(n.n(d),n(912)),h=n(59),m=(n.n(h),n(39)),f=(n.n(m),n(1038)),g=n(984),v=n(1088),y=n(1087),b=n(97),k=n(17),E=n(331),w=n(131),C=n(32),I=n(58),S=n(1009),N=n(38),P=n(907),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),T=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTimeUpdate=n.onTimeUpdate.bind(n),n.getCurrentBlock=n.getCurrentBlock.bind(n),n.onOverlayClose=n.onOverlayClose.bind(n),n.handleHighlights=n.handleHighlights.bind(n),n.handleRemove=n.handleRemove.bind(n),n.handleReplace=n.handleReplace.bind(n),n.codeBlockRef=n.codeBlockRef.bind(n),n.pause=n.pause.bind(n),n.play=n.play.bind(n),n.onPlay=n.onPlay.bind(n),n.onPause=n.onPause.bind(n),n.onEnd=n.onEnd.bind(n),n.onSeekStart=n.onSeekStart.bind(n),n.onSeekStop=n.onSeekStop.bind(n),n.renderBlocks=n.renderBlocks.bind(n),n.modifyNode=n.modifyNode.bind(n),n.handleInitialState=n.handleInitialState.bind(n),n.handleAutoplay=n.handleAutoplay.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleHighlights=n.handleHighlights.bind(n),n.onContentClick=n.onContentClick.bind(n),n.onToggleEditCodeMode=n.onToggleEditCodeMode.bind(n),n.togglePlayPauseAnimation=n.togglePlayPauseAnimation.bind(n),n.resetPlayPauseAnimation=n.resetPlayPauseAnimation.bind(n),n.handleKey=n.handleKey.bind(n),n.loadImages=n.loadImages.bind(n),n.toggleSubtitles=n.toggleSubtitles.bind(n),n.logEvent=n.logEvent.bind(n),n.state=n.handleInitialState({returnState:!0}),n.clearIgnoreInterrupt=n.clearIgnoreInterrupt.bind(n),n.toggleFullScreen=n.toggleFullScreen.bind(n),n.editProfile=n.editProfile.bind(n),n.getUserVideoSettings=n.getUserVideoSettings.bind(n),n.setPlayer=n.setPlayer.bind(n),n.contentRefs={},n}return s(t,e),x(t,[{key:"handleInitialState",value:function(e){var t=e.props,n=void 0===t?this.props:t,i=e.returnState,o=void 0!==i&&i,a=e.cb,s=void 0===a?null:a,r=null;if(n.getBlockData){var l=n.getBlockData();if(!l)return{};r=l.toJS()}else{if(!n.blocks)return{};r=n.blocks.toJS()}r=new f.a(r);var c={blocks:r,currSlideIndex:n.startIndex||0,currBlockIndex:n.staticDisplay?n.endIndex||0:r.findFirstSlideEnd(),currTime:null,showSubtitles:this.getUserVideoSettings().showSubtitles,isEnded:!1,isPlaying:!1,autoPlayHandled:!1,currImageIndex:0,currImages:r.findImages(),duration:r.findVideoDuration()};if(this.loadImages(n,c.currImageIndex,c.currImages),c.blocks.handleCodeBlockScriptLoading(n.customIdInfo),o)return c;this.setState(c,s)}},{key:"getUserVideoSettings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.currentUser;return{showSubtitles:!!t&&t.get("subtitlesEnabledSetting"),speed:t&&t.get("videoPlaybackSpeedSetting")&&parseFloat(t.get("videoPlaybackSpeedSetting"))||1}}},{key:"handleAutoplay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;!this.isMounted||this.state.autoPlayHandled||"1"!=n.i(I.c)("autoplay")&&!e.autoplay||!this.player||!this.state.blocks||!e.forceAutoplay&&k.h||(this.setState({autoPlayHandled:!0}),this.play())}},{key:"componentDidUpdate",value:function(e,t){this.props.onUpdate&&this.props.onUpdate(),this.handleAutoplay()}},{key:"componentDidMount",value:function(){var e=this;this.isMounted=!0,this.props.onUpdate&&this.props.onUpdate(),k.i&&screenfull&&screenfull.on("change",function(){e.setState({isFullscreen:screenfull.isFullscreen})}),this.handleAutoplay()}},{key:"componentWillUnmount",value:function(){n.i(w.a)(document.body,"distraction-free")}},{key:"editProfile",value:function(e){this.props.currentLoggedInUser&&this.props.editProfile(this.props.currentLoggedInUser,e,!1)}},{key:"handleKey",value:function(e){if(!(k.a||n.i(w.b)(e.target,{className:"in-place-overlay-wrapper",includeSelf:!0})||n.i(w.b)(e.target,{className:"has-active-code-block",includeSelf:!0})||n.i(w.b)(e.target,{className:"has-overlay",includeSelf:!0}))){var t=[32,37,39,67,70,75],i=e.keyCode?e.keyCode:e.which;switch(t.includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case 32:case 75:this.player.togglePlayViaPlayer();break;case 39:this.player.forward();break;case 37:this.player.rewind();break;case 67:this.toggleSubtitles();break;case 70:this.toggleFullScreen()}}}},{key:"loadImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.currImageIndex,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.currImages;if(!e.staticDisplay){var o=n>=0&&i[n];if(o){P.a.loadImage(o)&&this.setState({currImageIndex:n+1},function(){t.loadImages()})}}}},{key:"setPlayer",value:function(e){this.player=e,this.handleAutoplay()}},{key:"componentWillReceiveProps",value:function(e){var t=this;n.i(m.is)(this.props.blocks,e.blocks)||this.handleInitialState({props:e}),this.props.customIdInfo!=e.customIdInfo&&this.state.blocks&&this.state.blocks.handleCodeBlockScriptLoading(e.customIdInfo);var i=this.state.currImageIndex>=0&&this.state.currImages[this.state.currImageIndex];i&&e.loadedImages&&-1!=["finished","error"].indexOf(e.loadedImages.getIn([i,"status"]))&&this.setState({currImageIndex:this.state.currImageIndex+1},function(){t.loadImages(e,t.state.currImageIndex,t.state.currImages)}),this.getUserVideoSettings(this.props).showSubtitles!=this.getUserVideoSettings(e).showSubtitles&&this.setState({showSubtitles:this.getUserVideoSettings(e).showSubtitles})}},{key:"getCurrentBlock",value:function(){return this.state.blocks.getAtIndex(this.state.currBlockIndex)}},{key:"onOverlayClose",value:function(){var e=this.state.blocks.getAtIndex(this.state.currBlockIndex),t=this.state.blocks.getAtIndex(this.state.currBlockIndex+1);n.i(C.g)()||this.player&&this.player.setExternalCurrentTime(t.getTimeStamp()),this.play(),this.ignoreInterruptBounds={start:e.getTimeStamp(),end:t.getTimeStamp()}}},{key:"logEvent",value:function(e){this.props.videoId&&!this.props.staticDisplay&&("play"!=e&&"pause"!=e||this.props.logEvent({type:"video_generic_event",payload:{obj:this.props.videoId,obj_type:"Video",sub_type:e,info:{video_timestamp:this.state.currTime}}}))}},{key:"resetPlayPauseAnimation",value:function(){var e=this.refs.content;e&&(clearTimeout(this.playPauseTimeout),this.playPauseTimeout=null,n.i(w.a)(e,"animate"),n.i(w.a)(e,"play"),n.i(w.a)(e,"pause"))}},{key:"togglePlayPauseAnimation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"play",i=this.refs.content;i&&(this.playPauseTimeout&&this.resetPlayPauseAnimation(),setTimeout(function(){n.i(w.c)(i,t),n.i(w.c)(i,"animate"),e.playPauseTimeout=setTimeout(e.resetPlayPauseAnimation,400)},0))}},{key:"onPlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerAnimation,i=void 0!==t&&t;e.isSeeking;this.setState({isPlaying:!0}),k.a&&(n.i(w.c)(document.body,"distraction-free"),this.toggleFullScreen(null,!0)),this.logEvent("play"),i&&this.togglePlayPauseAnimation("play")}},{key:"onPause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerAnimation,i=void 0!==t&&t,o=e.isSeeking,a=void 0!==o&&o;this.setState({isPlaying:!1}),k.a&&!a&&n.i(w.a)(document.body,"distraction-free"),this.logEvent("pause"),i&&this.togglePlayPauseAnimation("pause")}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerAnimation,n=void 0!==t&&t;!this.state.isPlaying&&this.player&&this.player.play({triggerAnimation:n})}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.triggerAnimation,n=void 0!==t&&t;this.state.isPlaying&&this.player&&this.player.pause({triggerAnimation:n})}},{key:"onSeekStart",value:function(e){this.setState({isSeeking:!0})}},{key:"onSeekStop",value:function(e){this.setState({isSeeking:!1})}},{key:"onEnd",value:function(){this.setState({isEnded:!0}),this.props.onStatusUpdate&&this.props.onStatusUpdate(!0)}},{key:"restartVideo",value:function(e){this.player.play()}},{key:"onContentClick",value:function(e){var t=this.state.blocks.getAtIndex(this.state.currBlockIndex);this.state.isEditingCodeBlock||t.isOverlay()||(k.a&&this.state.currTime&&this.state.isFullscreen?this.player.toggleMobileAudioControls():e&&"A"==e.target.nodeName?(n.i(I.d)(e)||n.i(C.a)(e.target.href),this.pause({triggerAnimation:!0})):this.state.isPlaying?this.pause({triggerAnimation:!0}):this.play({triggerAnimation:!0}),"IMG"==e.target.nodeName&&(e.preventDefault(),e.stopPropagation()))}},{key:"handleHighlights",value:function(e,t){var i=e.getProperty("name");if(!i)return null;var o=e.getContent().elementName,a=e.getContent().range;return this.modifyNode({nodeMap:t,dataList:[{type:"highlight",isList:!0,elementName:o,data:n.i(m.fromJS)({range:a,name:i})}]})}},{key:"handleScroll",value:function(e,t){if(!e.getProperty("name"))return null;var i=e.getContent().elementName,o=e.getContent(),a=o.targetLine,s=e.getAnimatedProperties();return this.modifyNode({nodeMap:t,dataList:[{type:"scrollData",elementName:i,data:n.i(m.fromJS)({targetLine:a,animate:s})}]})}},{key:"handleRemove",value:function(e,t,i){var o=e.getContent().elementName,a=this.state.blocks.findBlockWithName(o);if(!a)return i;if(a.isHighlight())this.modifyNode({nodeMap:t,dataList:[{type:"highlight",isList:!0,elementName:a.getContent().elementName,data:n.i(m.fromJS)({name:o})}],isRemove:!0});else{var s=t[o];i=i.filter(function(e){return e!=s})}return i}},{key:"handleReplace",value:function(e,t){var n=e.getContent().elementName,i=this.state.blocks.findBlockWithName(n);if(!i)return null;if(i.isCodeBlock()){var o=this.props.staticDisplay,a=t[n];if(!a)return;return this.modifyNode({nodeMap:t,dataList:[{type:"initialContent",elementName:n,data:a.props.content},{type:"content",elementName:n,data:e.getContent().content},{type:"animateOperations",elementName:n,data:e.getAnimatedOperations()},{type:"preventAnimation",elementName:n,data:o},{type:"animate",elementName:n,data:e.getAnimatedProperties()},{type:"isExecutable",elementName:n,data:e.isExecutable()},{type:"isNumbered",elementName:n,data:e.isNumbered()},{type:"maxLines",elementName:n,data:e.getMaxLineProperty()}]})}return this.modifyNode({nodeMap:t,dataList:[{type:"html",elementName:n,data:e.getContent().content}]})}},{key:"modifyNode",value:function(e){var t=e.nodeMap,i=e.dataList,o=e.isRemove,a=void 0!==o&&o;if(i&&0!=i.length){var s=!0,r=!1,l=void 0;try{for(var c,u=i[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){(function(){var e=c.value;if(!e.elementName||!t[e.elementName])return"continue";var i=t[e.elementName],o=i.props[e.type]||(e.isList?n.i(m.List)():null);if(a)if(e.isList){var s=o.findIndex(function(t){return t.get("name")==e.data.get("name")});o=o.delete(s)}else o=void 0;else o=e.isList?o.push(e.data):e.data;i.props[e.type]=o})()}}catch(e){r=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(r)throw l}}}}},{key:"codeBlockRef",value:function(e,t){this.contentRefs[g.a.getRefName(t)]=e}},{key:"clearIgnoreInterrupt",value:function(){this.ignoreInterruptBounds&&(this.state.currTime<this.ignoreInterruptBounds.start||this.state.currTime>=this.ignoreInterruptBounds.end)&&(this.ignoreInterruptBounds=null)}},{key:"renderBlocks",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currSlideIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.currBlockIndex,n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],[]),i={},o=null,a=e;a<=t;a++){var s=this.state.blocks.getAtIndex(a),r=s.getOperationType(),l=s.getContentType();if(this.clearIgnoreInterrupt(),"add-element"==r){var u=s.getName(),d=s.getContent().content,h=s.getProperties(),m=s.isInterrupt(),f=s.isOverlay(),g=a==t,y=null;g&&m&&!this.props.staticDisplay&&!this.ignoreInterruptBounds&&this.pause(),"editor"==l?y=c.a.createElement(p.a,{className:"cl-video-node",allowSectionCards:!1,returnRawNodes:!0,html:d,key:a,blockName:u,blockProperties:h,loggedOutModalInPlace:!0,preventFullScreenCodeBlock:!0,discussionId:this.props.discussionId,isInVideo:!0,skipProgressiveLoading:!0}):"code"==l?y=c.a.createElement(v.a,{setRef:this.codeBlockRef,blockName:u,className:"cl-video-node",content:d,isPlaying:this.state.isPlaying,isStaticDisplay:this.props.staticDisplay,animate:g&&s.isAnimated()&&!this.props.staticDisplay?s.getAnimatedProperties():null,isAnimated:s.isAnimated(),animateOperations:g&&s.isAnimated()&&!this.props.staticDisplay?s.getAnimatedOperations():null,time:this.state.currTime,preventAnimation:this.props.staticDisplay,pause:this.pause,play:this.play,onToggleEditCodeMode:this.onToggleEditCodeMode,staticDisplay:this.props.staticDisplay,maxLines:s.getMaxLineProperty(),isExecutable:s.isExecutable(),isNumbered:s.isNumbered(),key:a}):"shape"==l?(d='<div class="shape '+s.getContent().shape.name+'" style="color: '+s.getContent().shape.color+';"/>',y=c.a.createElement(p.a,{className:"cl-video-node",allowSectionCards:!1,returnRawNodes:!0,html:d,key:a,blockName:u,blockProperties:h,loggedOutModalInPlace:!0,preventFullScreenCodeBlock:!0,discussionId:this.props.discussionId,isInVideo:!0,skipProgressiveLoading:!0})):"prompt"==l?y=c.a.createElement(S.a,{isCreationMode:!1,isStaticDisplay:this.props.staticDisplay,html:d}):"highlight"==l?this.handleHighlights(s,i):"scroll"==l&&this.handleScroll(s,i),f&&!this.props.staticDisplay&&(y=g&&!this.ignoreInterruptBounds?c.a.createElement(E.a,{key:a,contentClass:"overlay-active-node force-fixed"+(d&&-1!=d.indexOf("output_only=1")?" output-only-code":""),onClick:this.onOverlayClose,bottomCloseClass:"label blue centered-text large with-top-padding dnr-video-overlay-continue-button",bottomCloseText:"Continue",bodyClass:k.a&&"distraction-free-2"},y):null),y&&(n.push(y),i[u]=y)}else"remove-element"==r?n=this.handleRemove(s,i,n):"replace-element"==r?this.handleReplace(s,i):"clear-slide"==r&&(n=[],o=s.getSlideStyles())}return{blocks:n,slideStyles:o}}},{key:"onTimeUpdate",value:function(e){var t=this.state.blocks.findBlockIndex(e),n=this.state.blocks.findSlideIndex(e),i={currTime:e,isEnded:!1};if(this.props.onStatusUpdate&&this.props.onStatusUpdate(!1),e>=this.state.duration)return void this.onEnd();0==e?this.setState(O({currBlockIndex:0,currSlideIndex:0},i)):this.state.currBlockIndex!=t?this.setState(O({currBlockIndex:t,currSlideIndex:n},i)):this.setState(i)}},{key:"onToggleEditCodeMode",value:function(e){this.setState({isEditingCodeBlock:e})}},{key:"toggleFullScreen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;k.i&&(null!=t&&this.state.isFullscreen===t||screenfull.toggle(this.refs.video))}},{key:"toggleSubtitles",value:function(){var e=!this.state.showSubtitles;this.setState({showSubtitles:e,showAudioMenu:!1}),this.editProfile({subtitlesEnabled:e})}},{key:"render",value:function(){if(!this.state.blocks)return c.a.createElement("div",{className:"cl-video "+(this.props.isEmbedded?"embedded":"")+" "+(this.props.videoClass||"")},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"loader-div"},c.a.createElement(b.a,null),c.a.createElement("div",{className:"loading-text"},"Loadingâ€¦"))));var e=this.renderBlocks(),t=e.blocks,n=e.slideStyles,o=this.state.blocks.getAtIndex(this.state.currBlockIndex),a=O({},this.props.customCSS||{},n||{}),s=o&&o.getVoice()&&o.getVoice().replace(/(<([^>]+)>)/gi,"");return c.a.createElement("div",{className:"cl-video "+(this.state.isEditingCodeBlock?"has-active-code-block":"")+" "+(this.state.isFullscreen?"fullscreen":"")+" "+(o.isOverlay()?"has-overlay":"")+" "+(this.props.isEmbedded?"embedded":"")+" "+(this.props.videoClass||""),ref:"video",onKeyDown:this.handleKey,tabIndex:"0",style:a},c.a.createElement("div",{className:"content "+(null==this.state.currTime?"beginning":"")+" "+(!this.state.currTime&&!this.state.isPlaying&&!this.props.staticDisplay||this.state.isEnded?"play":""),onClick:this.onContentClick,ref:"content"},t),!this.props.staticDisplay&&c.a.createElement("div",{className:"subtitle-section"},c.a.createElement("div",{className:"subtitle-wrapper"},this.state.showSubtitles&&s&&c.a.createElement("span",{className:"subtitle-content label"},s))),!this.props.staticDisplay&&c.a.createElement("div",{className:"audio-player-wrapper "+(this.state.isEditingCodeBlock||o.isOverlay()?"hidden":"")},c.a.createElement(y.a,i({audio:this.props.audio,onTimeUpdate:this.onTimeUpdate,onPlay:this.onPlay,onPause:this.onPause,onEnd:this.onEnd,onSeekStart:this.onSeekStart,onSeekStop:this.onSeekStop,ref:this.setPlayer,additionalClassName:"",speed:this.state.speed,showSubtitles:this.state.showSubtitles,toggleSubtitles:this.toggleSubtitles,isFullScreenEnabled:k.i&&(!k.a||k.a&&this.state.isFullscreen),isFullScreenActive:this.state.isFullscreen,toggleFullScreen:this.toggleFullScreen,toc:this.props.toc,duration:this.state.duration,editProfile:this.editProfile},"speed",this.getUserVideoSettings().speed))))}}]),t}(c.a.PureComponent),_=n.i(d.connect)(r,{logEvent:N.c,editProfile:N.h})(T)},827:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentUser:e.get("currentLoggedInUser"),users:e.get("users"),notifications:e.get("notifications"),notificationsFeed:e.get("notificationsFeed"),isFetchingNotifications:e.getIn(["pagination","notifications","isFetching"],!1),currentOffsetBeingFetched:e.getIn(["pagination","notifications","currentOffsetBeingFetched"],0)}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Notifications",function(){return P}),n.d(t,"NotificationsContainer",function(){return O});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(893)),p=n.n(d),h=n(39),m=(n.n(h),n(132)),f=(n.n(m),n(901)),g=n.n(f),v=n(133),y=n(889),b=(n(134),n(97)),k=n(323),E=n(38),w=n(896),C=n.n(w),I=(n(324),n(131)),S=n(32),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),P=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.fetchNotifications(0),n.isDataAvailable=n.isDataAvailable.bind(n),n.onNotificationClick=n.onNotificationClick.bind(n),n.loadMore=n.loadMore.bind(n),n}return a(t,e),N(t,[{key:"loadMore",value:function(){this.props.fetchNotifications()}},{key:"onNotificationClick",value:function(e){this.props.toggleNotificationRead([e])}},{key:"componentWillUnmount",value:function(){}},{key:"isDataAvailable",value:function(){return this.props.notificationsFeed.size}},{key:"render",value:function(){var e=this,t=n.i(k.a)(null),i=null;this.props.currentUser&&(i=this.props.notificationsFeed.map(function(t,i){var o=e.props.notifications.get(t);return l.a.createElement(u.Link,{to:o.get("mainObjectPath"),className:"no-decoration",key:i,onClick:function(){return e.onNotificationClick(o.get("eid"))}},l.a.createElement("div",{className:o.get("isRead")?"notification read":"notification unread"},l.a.createElement(v.a,{preserveOriginal:!0,size:50,className:"avatar-image",src:o.get("avatar")?o.get("avatar"):o.get("avatarName")?null:C.a,name:o.get("avatarName")}),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"text"},n.i(I.k)(o.get("genericTemplate").toJS())),l.a.createElement("div",{className:"timeago label"},l.a.createElement("span",{className:"emoji"},o.get("emoji")),l.a.createElement(p.a,{date:o.get("dt")})))))}));var o=this.props.isFetchingNotifications?l.a.createElement("div",{className:"loader-div"},l.a.createElement(b.a,null),0==this.props.currentOffsetBeingFetched?l.a.createElement("div",{className:"loading-text no-uppercase"},"Checking for new notificationsâ€¦"):l.a.createElement("div",{className:"loading-text"},"Loadingâ€¦")):null,a=0!=this.props.isPage;return l.a.createElement("div",{className:a?"page notifications-page":"notifications-container"},a?l.a.createElement(t,{checkAuthOn:"load",allowLurker:!0,to:"/notifications"}):null,a?l.a.createElement(y.a,{noBack:!0,isNav:!0}):null,this.props.currentUser&&this.props.users.get(this.props.currentUser).get("unreadNotificationsCount")>0&&(0!=this.props.currentOffsetBeingFetched||!this.props.isFetchingNotifications)?l.a.createElement("div",{className:a?"mark-all-as-read-button with-margin-top":"mark-all-as-read-button",onClick:this.props.markAllNotificationsAsRead},"Mark all as read"):null,0===this.props.currentOffsetBeingFetched?o:null,this.props.notifications.size?i:this.props.isFetchingNotifications?null:l.a.createElement("div",{className:"onboarding-text-label"},"You have no notifications (yet)."),a?l.a.createElement(g.a,{onEnter:this.loadMore,scrollableAncestor:n.i(S.f)()?window:null,bottomOffset:"-200px"}):l.a.createElement("div",{className:"show-older-notifications-button"},l.a.createElement(u.Link,{to:"/notifications"},"Show older notifications")),0!=this.props.currentOffsetBeingFetched?o:null)}}]),t}(l.a.PureComponent),O=n.i(c.connect)(s,{fetchNotifications:E.z,toggleNotificationRead:E.A,markAllNotificationsAsRead:E.B,resetPagination:E.C})(P)},828:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"CLRetrofitVideoPlayerContainer",function(){return w});var r=n(1),l=n.n(r),c=n(908),u=n(37),d=(n.n(u),n(39)),p=(n.n(d),n(131)),h=n(331),m=n(17),f=n(32),g=n(1038),v=(n(984),n(912)),y=n(982),b=n(1009),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),E=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.videoPlayerOnLoad=a.videoPlayerOnLoad.bind(a),a.instantiatePlayer=a.instantiatePlayer.bind(a),a.handleInitialState=a.handleInitialState.bind(a),a.onResume=a.onResume.bind(a),a.showOverlayNode=a.showOverlayNode.bind(a),a.getCurrentTime=a.getCurrentTime.bind(a),a.initializeMarkers=a.initializeMarkers.bind(a),a.clearIgnoreInterrupt=a.clearIgnoreInterrupt.bind(a),a.handleHotspotClick=a.handleHotspotClick.bind(a),a.randomId=Math.floor(1e4*Math.random()),a.state=a.handleInitialState({returnState:!0}),n.i(c.a)(a.videoPlayerOnLoad,{namespace:"videojs",urls:[{url:"https://vjs.zencdn.net/7.6.0/video.min.js",defer:!0},{url:"https://code.jquery.com/jquery-2.0.3.min.js",defer:!0},{url:"https://cdnjs.cloudflare.com/ajax/libs/videojs-markers/0.7.0/videojs-markers.min.js",defer:!0},{url:"https://cdn.sc.gl/videojs-hotkeys/latest/videojs.hotkeys.min.js",defer:!0}]}),n.i(c.c)("https://vjs.zencdn.net/7.6.0/video-js.css"),n.i(c.c)("https://cdnjs.cloudflare.com/ajax/libs/videojs-markers/0.7.0/videojs.markers.min.css"),a}return a(t,e),k(t,[{key:"handleInitialState",value:function(e){var t=e.props,n=void 0===t?this.props:t,i=e.returnState,o=void 0!==i&&i,a=e.cb,s=void 0===a?null:a,r=null;if(this.isMarkerActive=!1,this.isSeeking=!1,this.isMounted=!1,this.isVideoPlayerLoaded=!1,n.getBlockData){var l=n.getBlockData();if(!l)return{};r=l.toJS()}else r=n.blocks?n.blocks.toJS():this.props.blocksList||I;r=new g.a(r);var c={blocks:r,overlaidBlocks:r.findOverlaidBlocksAtTime(this.getCurrentTime()),currTime:null,isEnded:!1,isPlaying:!1};if(c.blocks.handleCodeBlockScriptLoading(n.customIdInfo),this.initializeMarkers(c.blocks),o)return c;this.setState(c,s)}},{key:"instantiatePlayer",value:function(){var e=this;this.isMounted&&this.isVideoPlayerLoaded&&(this.player||(this.player=videojs("player-"+this.randomId,{controlBar:{fullscreenToggle:!1}}),this.player.ready(function(){e.player.hotkeys({volumeStep:.1,seekStep:3,enableModifiersForNumbers:!1})}),this.player.on("timeupdate",function(t){var n=1e3*e.player.currentTime();e.renderBlocks({time:n}),e.pastTick=n}),this.player.on("seeking",function(t){e.isSeeking=!0}),this.player.on("seeked",function(t){e.isSeeking=!1}),this.player.markers({markerStyle:{width:"7px","border-radius":"30%","background-color":"red"},markerTip:{display:!1,text:function(e){return e.text},time:function(e){return e.time}},breakOverlay:{display:!1,displayTime:3,style:{width:"100%",height:"20%","background-color":"rgba(0,0,0,0.7)",color:"white","font-size":"17px"},text:function(e){return"Break overlay: "+e.overlayText}},onMarkerClick:function(t){e.props.isCreation?e.props.onMarkerClick(t.idx):(e.isMarkerActive=!0,e.renderBlocks({block:e.state.blocks.getAtIndex(t.idx)}))},onMarkerReached:function(e){},markers:this.initializeMarkers(this.state.blocks,!0)}),window.m=this.player,this.props.onPlayerLoad&&this.props.onPlayerLoad()))}},{key:"initializeMarkers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.blocks,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.player){var n=e.blocks.map(function(e,t){return{time:e.getTimeStamp()/1e3,text:"Interactive App",overlayText:"overlay",idx:t}});if(t)return n;this.player.markers.reset(n)}}},{key:"videoPlayerOnLoad",value:function(){this.isVideoPlayerLoaded=!0,this.instantiatePlayer()}},{key:"componentDidMount",value:function(){this.isMounted=!0,this.instantiatePlayer()}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"componentWillReceiveProps",value:function(e){n.i(d.is)(this.props.blocks,e.blocks)||this.handleInitialState({props:e}),this.props.videoSrc!=e.videoSrc&&this.player.src({src:e.videoSrc,type:"video/mp4"})}},{key:"renderBlocks",value:function(e){var t=e.time,i=void 0===t?null:t,o=e.block,a=void 0===o?null:o;if(this.isSeeking&&!a&&!this.isMarkerActive)return void this.setState({activeNode:null});if(this.setState({overlaidBlocks:this.state.blocks.findOverlaidBlocksAtTime(i)}),this.clearIgnoreInterrupt(),a=a||this.state.blocks.findBlockAtTime(i,this.pastTick)){var s=a.getContentType(),r=a.getContent().content,c=a.getName(),u=null;if(!this.ignoreInterruptBounds){if("branch"==s&&this.player.pause(),"code"==s){var d=n.i(p.f)({text:r.config});this.setState({isEditingCodeBlock:!0}),u=l.a.createElement(h.a,{contentClass:"active-code-container",onClick:this.onResume,bottomCloseClass:"label blue centered-text dnr-video-overlay-codeblock-resume-button",bottomCloseText:"Resume Video",bodyClass:m.a&&"distraction-free-2"},l.a.createElement(y.a,{codeBlockId:d,additionalHeight:0,rendered:!0,preventFullScreen:!0,hideTryItNow:!0,preventAutoFocus:n.i(f.e)()}))}else this.setState({isEditingCodeBlock:!1}),"editor"==s?u=l.a.createElement(v.a,{className:"cl-video-node",allowSectionCards:!1,returnRawNodes:!0,html:r,blockName:c,loggedOutModalInPlace:!0,preventFullScreenCodeBlock:!0,discussionId:this.props.discussionId,isInVideo:!0,skipProgressiveLoading:!0}):"prompt"==s&&(u=l.a.createElement(b.a,{isCreationMode:!1,html:r})),u&&(u=l.a.createElement(h.a,{contentClass:"overlay-active-node force-fixed",onClick:this.onResume,bottomCloseClass:"label blue centered-text large with-top-padding dnr-video-overlay-continue-button",bottomCloseText:"Continue",bodyClass:m.a&&"distraction-free-2"},u));u&&this.showOverlayNode(u,a.getTimeStamp())}}}},{key:"showOverlayNode",value:function(e,t){this.player.pause(),this.setState({activeNode:e,currentlyActiveTimeStamp:t})}},{key:"onResume",value:function(){this.player.play(),this.isMarkerActive=!1,this.setState({activeNode:null}),this.ignoreInterruptBounds={start:this.state.currentlyActiveTimeStamp-500,end:this.state.currentlyActiveTimeStamp+1e3}}},{key:"clearIgnoreInterrupt",value:function(){this.ignoreInterruptBounds&&(this.getCurrentTime()<this.ignoreInterruptBounds.start||this.getCurrentTime()>=this.ignoreInterruptBounds.end)&&(this.ignoreInterruptBounds=null)}},{key:"getCurrentTime",value:function(){return this.player&&1e3*this.player.currentTime()}},{key:"handleHotspotClick",value:function(e){var t=e.getProperties(),i=e.getContentType();"branch"==i?(this.player.currentTime(t.targetTimestamp/1e3),this.player.play()):"hotspot"==i&&(this.player.pause(),n.i(f.a)(t.targetUrl))}},{key:"render",value:function(){var e=this,t=this.props.creationModeOverlayProperties,i=t&&t.getIn(["selectionRectangle","x"],"0")+"%",o=t&&t.getIn(["selectionRectangle","y"],"0")+"%",a=t&&t.getIn(["selectionRectangle","width"],"0")+"%",s=t&&t.getIn(["selectionRectangle","height"],"0")+"%",r=t&&t.getIn(["cta","text"],""),c=t&&t.getIn(["cta","icon"],""),u=this.state.overlaidBlocks.map(function(i){var o=n.i(d.fromJS)(i.getProperties());if(t&&o.get("name")==t.get("name"))return null;var a=o&&o.getIn(["selectionRectangle","x"],"0")+"%",s=o&&o.getIn(["selectionRectangle","y"],"0")+"%",r=o&&o.getIn(["selectionRectangle","width"],"0")+"%",c=o&&o.getIn(["selectionRectangle","height"],"0")+"%",u=o&&o.getIn(["cta","text"],""),p=o&&o.getIn(["cta","icon"],"");return l.a.createElement("div",{className:"hotspot-overlay",style:{left:a,top:s,width:r,height:c},onClick:function(){return e.handleHotspotClick(i)}},l.a.createElement("div",{className:"cta-text "+p},u))});return l.a.createElement("div",{className:"retrofit-video"},this.state.activeNode&&l.a.createElement("div",{className:"cl-video "+(this.state.isEditingCodeBlock?"has-active-code-block":"")+" "+(this.state.isFullscreen?"fullscreen":"")+" has-overlay "+(this.props.isEmbedded?"embedded":"")+" "+(this.props.videoClass||""),ref:"video"},this.state.activeNode),l.a.createElement("div",{className:"hotspot-overlay editing",style:{left:i,top:o,width:a,height:s}},l.a.createElement("div",{className:"cta-text "+c},r)),u,l.a.createElement("video",{id:"player-"+this.randomId,ref:"player",playsInline:!0,controls:!0,className:"video-js vjs-default-skin vjs-big-play-centered vjs-16-9",width:"640",height:"264"},l.a.createElement("source",{src:this.props.videoSrc||C,type:"video/mp4"})))}}]),t}(l.a.PureComponent),w=n.i(u.connect)(s,{},null,{withRef:!0})(E),C="https://cdn.filepicker.io/api/file/qLmgOAoGQvyAYrk9i3rJ",I=[{operation:{type:"add-element",display:{type:"prompt",content:"<h1>Interactive Simulation</h1><p>Imagine you're in a meeting with the Head of Marketing for Acme Corp and are selling our <em>Alterx 360 Marketing Automation Software</em> to them. </p><p>They've never heard of this software before. How would you go through the <strong>AIDA</strong>  framework for guiding this potential buyer.</p><p>Remember that AIDA stands for:</p><ul><li><strong>A</strong>wareness</li><li><strong>I</strong>nterest</li><li><strong>D</strong>esire</li><li><strong>A</strong>ction</li></ul>",range:{from:{line:"0",character:"0"},to:{line:"0",character:"5"}}},properties:{name:"1jlwtt",animate:null,interrupt:!1,overlay:!1}},voice:"",timestamp:69e3},{operation:{type:"add-element",display:{type:"editor",content:m.d?'<p>&nbsp;</p><div class="cl-custom-element" data-id="c3264f54a32946c68033cc0898eedb7a" data-type="mc-question"></div>':'<p>&nbsp;</p><div class="cl-custom-element" data-id="dfdfcca51fc84b759ec4c5e04ccd5aa1" data-type="mc-question"></div>',range:{from:{line:"0",character:"0"},to:{line:"0",character:"5"}}},properties:{name:"4u6bxw",animate:null,interrupt:!1,overlay:!1},editorProperties:{question:!0}},voice:"",timestamp:103500},{operation:{type:"add-element",display:{type:"editor",content:"<h1>Information Recap</h1><ul><li><strong>Unique selling proposition </strong>â€” a perceived specific characteristic that makes one product stand out ahead of its competition.</li><li><strong>B2B </strong>â€” business to business, and that means a company doing business with another company</li><li><strong>B2C</strong> â€” a business selling to a consumer</li><li><strong>CRM</strong> â€” Customer Relationship Management. That's a common process where existing customers are managed in a high touch way to keep good customers and not to lose them.</li></ul><blockquote>One of the best things you can do is ask questions. If someone uses a phrase you don't know, don't hesitate for a moment to ask them well what does that mean. This is how I've garnered most of my knowledge in the field of sales.</blockquote>",range:{from:{line:"0",character:"0"},to:{line:"0",character:"5"}}},properties:{name:"5hbn0g",animate:null,interrupt:!1,overlay:!1}},voice:"",timestamp:168500},{operation:{type:"add-element",display:{type:"branch"},properties:{name:"5ebn0g",selectionRectangle:{x:65,y:65,width:30,height:20},duration:3e3,cta:{text:"Select Option 1",icon:"branch"},targetTimestamp:120}},voice:"",timestamp:1e5},{operation:{type:"add-element",display:{type:"hotspot"},properties:{name:"5ebn0g",selectionRectangle:{x:65,y:65,width:30,height:20},duration:3e3,cta:{text:"Upgrade",icon:"buy"},targetUrl:"https://commonlounge.com/upgrade"}},voice:"",timestamp:9e4}]},855:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=g.d?"375d7608e18c4db2b4a0059565764377":"4a49e8b124734717a7f9aac8e5f2e64f",i=g.d?"15382c16457146d4a4097ad88856b897":"4a49e8b124734717a7f9aac8e5f2e64f",o=g.d?"8449ba93560f41cc8abfdc6cf97df924":"4a49e8b124734717a7f9aac8e5f2e64f",a=g.d?"d3b1f87a01e445219e02af9da60dcbc7":"d1f0c143406d41508e338927cb590d71",s=g.d?"638584a3157d4420b565b3c4f5298f2c":"a4733a7285fd432a98ea98962380f414";return{d1:n,d2:i,d3:o,d4:a,d5:s,discussionDaily:e.getIn(["discussions",n]),discussionInteractive:e.getIn(["discussions",i]),discussionRetrofit:e.getIn(["discussions",o]),discussionPoll:e.getIn(["discussions",a]),discussionQuiz:e.getIn(["discussions",s]),users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DummyFeed",function(){return w}),n.d(t,"DummyFeedContainer",function(){return C});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(889)),p=(n(934),n(1316)),h=(n.n(p),n(1317)),m=(n.n(h),n(1318)),f=(n.n(m),n(1319)),g=(n.n(f),n(17)),v=n(38),y=n(828),b=n(826),k=(n(1047),n(983),n(131)),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),w=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.fetchDiscussionMetadata(e.d1,null,["name","videoInfo"]),e.fetchDiscussionMetadata(e.d2,null,["name","videoInfo"]),e.fetchDiscussionMetadata(e.d3,null,["name","description"]),e.fetchDiscussionMetadata(e.d4,null,["name","description","typeInfo","textStats","canContribute"]),e.fetchDiscussionMetadata(e.d5,null,["name","description","typeInfo","textStats","canContribute"]),n}return a(t,e),E(t,[{key:"componentDidMount",value:function(){n.i(k.c)(document.body,"embedded-player")}},{key:"componentWillUnmount",value:function(){n.i(k.a)(document.body,"embedded-player")}},{key:"render",value:function(){var e=[{text:l.a.createElement("p",null,l.a.createElement("p",null,l.a.createElement("h1",null,"1. Interactive Programming Video"),"This interactive Python video was auto-generated from a ",l.a.createElement(u.Link,{to:"discussion/15382c16457146d4a4097ad88856b897"},"text article"),", including the speech, visuals, natural keystroke animations, etc. It features the ",l.a.createElement("strong",null,"code execution app"),", which can be launched by clicking on any code block, and our quiz app."),l.a.createElement("blockquote",null,"Our users love the fact that these apps work perfectly well on their ",l.a.createElement("strong",null,"mobile phones"),". Try it out!")),link:{image:"https://images.unsplash.com/photo-1523821393989-a61a1f006c8b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",title:"Python for Absolute Beginners",domain:"CommonLounge | Interactive Courses"},custom:{component:l.a.createElement(b.CLVideoPlayerContainer,{audio:this.props.discussionInteractive&&this.props.discussionInteractive.getIn(["videoInfo","video","audioUrl"],null),blocks:this.props.discussionInteractive&&this.props.discussionInteractive.getIn(["videoInfo","video","outputConfig"],null),videoId:this.props.discussionInteractive&&this.props.discussionInteractive.getIn(["videoInfo","video","eid"],null),discussionId:this.props.discussionInteractive&&this.props.discussionInteractive.get("eid"),toc:this.props.discussionInteractive&&this.props.discussionInteractive.getIn(["videoInfo","video","additionalOutputData","tableOfContents"],null),isEmbedded:!1})}},{text:l.a.createElement("p",null,l.a.createElement("h1",null,"2. Complex Apps Within Video"),"This ",l.a.createElement("strong",null,"personalized")," video showcases complex apps such as the ",l.a.createElement("strong",null,"embedded spreadsheet app"),". If you start playing at the 1:52 mark, you should see the app pop up automatically in a few seconds."),link:{title:"Your Daily Challenge, John!"},custom:{component:l.a.createElement(b.CLVideoPlayerContainer,{audio:this.props.discussionDaily&&this.props.discussionDaily.getIn(["videoInfo","video","audioUrl"],null),blocks:this.props.discussionDaily&&this.props.discussionDaily.getIn(["videoInfo","video","outputConfig"],null),videoId:this.props.discussionDaily&&this.props.discussionDaily.getIn(["videoInfo","video","eid"],null),discussionId:this.props.discussionDaily&&this.props.discussionDaily.get("eid"),toc:this.props.discussionDaily&&this.props.discussionDaily.getIn(["videoInfo","video","additionalOutputData","tableOfContents"],null)})}},{text:l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("h1",null,"3. Retrofit Existing Video With Apps"),"This is a demo of ",l.a.createElement("strong",null,"retrofitting")," an existing video with interactive apps (the red markers on the video slider). It also showcases the ",l.a.createElement("strong",null,"interactive prompt")," and slide apps. The prompt app is perfect for allowing enterprise customers to ",l.a.createElement("strong",null,"customize a one-size-fits-all content library to their specific needs"),". "),l.a.createElement("blockquote",{className:"example"},"For example, imagine youâ€™re a sales leader at HP, trying to train and evaluate your salespeople on their ability to sell your new product. You have them take a generic sales communication course from a content provider, and then ask them to upload a video of themselves doing the sales pitch, given everything theyâ€™ve learned, via our interactive prompt app. This way, each rep can practice their pitch, and you can grade and provide specific feedback to each person, as well as understand your teamâ€™s strengths/weaknesses in aggregate. The content provider had to do no extra work to enable this personalization.")),link:{image:"https://media.licdn.com/dms/image/C4E22AQH8wUPDWrXxlA/feedshare-shrink_800/0?e=1569456000&v=beta&t=O6hYjZqRd7VqtkcmjTcagPvGcJ-m5KKxru_Fg3vJFZk",title:"Sales 101",domain:"CommonLounge | Interactive Courses"},custom:{component:l.a.createElement(y.CLRetrofitVideoPlayerContainer,{isCreation:!1,isEmbedded:!1,videoSrc:"https://cdn.filepicker.io/api/file/JWLDW7fITQaq1lB71fLo",blocksList:[{operation:{type:"add-element",display:{type:"prompt",content:"<h1>Interactive Simulation</h1><p>Imagine you're in a meeting with the Head of Marketing for Acme Corp and are selling our <em>Alterx 360 Marketing Automation Software</em> to them. </p><p>They've never heard of this software before. How would you go through the <strong>AIDA</strong>  framework for guiding this potential buyer.</p><p>Remember that AIDA stands for:</p><ul><li><strong>A</strong>wareness</li><li><strong>I</strong>nterest</li><li><strong>D</strong>esire</li><li><strong>A</strong>ction</li></ul>",range:{from:{line:"0",character:"0"},to:{line:"0",character:"5"}}},properties:{name:"1jlwtt",animate:null,interrupt:!1,overlay:!1}},voice:"",timestamp:51e3},{operation:{type:"add-element",display:{type:"editor",content:g.d?'<p>&nbsp;</p><div class="cl-custom-element" data-id="c3264f54a32946c68033cc0898eedb7a" data-type="mc-question"></div>':'<p>&nbsp;</p><div class="cl-custom-element" data-id="dfdfcca51fc84b759ec4c5e04ccd5aa1" data-type="mc-question"></div>',range:{from:{line:"0",character:"0"},to:{line:"0",character:"5"}}},properties:{name:"4u6bxw",animate:null,interrupt:!1,overlay:!1},editorProperties:{question:!0}},voice:"",timestamp:85e3},{operation:{type:"add-element",display:{type:"editor",content:"<h1>Information Recap</h1><ul><li><strong>Unique selling proposition </strong>â€” a perceived specific characteristic that makes one product stand out ahead of its competition.</li><li><strong>B2B </strong>â€” business to business, and that means a company doing business with another company</li><li><strong>B2C</strong> â€” a business selling to a consumer</li><li><strong>CRM</strong> â€” Customer Relationship Management. That's a common process where existing customers are managed in a high touch way to keep good customers and not to lose them.</li></ul><blockquote>One of the best things you can do is ask questions. If someone uses a phrase you don't know, don't hesitate for a moment to ask them well what does that mean. This is how I've garnered most of my knowledge in the field of sales.</blockquote>",range:{from:{line:"0",character:"0"},to:{line:"0",character:"5"}}},properties:{name:"5hbn0g",animate:null,interrupt:!1,overlay:!1}},voice:"",timestamp:149500}]})}}],t=e.map(function(e,t){return l.a.createElement("div",{className:"feed-item",key:t},l.a.createElement("div",{className:"text"},e.text),e.custom?e.custom.component:l.a.createElement("img",{src:e.link.image}))});return l.a.createElement("div",{className:"demo-feed"},l.a.createElement(d.a,null),l.a.createElement("div",{className:"feed-page page dummy-feed-page"},l.a.createElement("div",{className:"feed"},l.a.createElement("h1",{className:"page-title"},"Various Use-Cases and Demos"),t)))}}]),t}(r.Component),C=n.i(c.connect)(s,{fetchDiscussionMetadata:v.e,fetchDiscussion:v.D})(w)},863:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users"),threadRecommendation:e.get("threadRecommendation"),threads:e.get("threads"),messages:e.get("messages"),currentLoggedInUser:e.get("currentLoggedInUser"),pagination:e.get("pagination"),isCreatingInboxMessage:e.get("isCreatingInboxMessage")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ThreadList",function(){return L}),n.d(t,"Inbox",function(){return M}),n.d(t,"InboxContainer",function(){return A});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(935)),p=n(39),h=(n.n(p),n(326)),m=(n.n(h),n(901)),f=n.n(m),g=n(898),v=(n.n(g),n(97)),y=n(133),b=n(929),k=(n(934),n(889)),E=n(891),w=n(323),C=n(131),I=n(58),S=n(994),N=n(17),P=n(1034),O=n(325),x=n(912),T=(n(32),n(38)),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),L=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),_(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"name"},"Inbox"),l.a.createElement("div",{className:"compose",onClick:this.props.startNewThread})),l.a.createElement("div",{className:"threads"},this.props.showFakeUserBox?l.a.createElement("div",{className:"user-box selected"},l.a.createElement(y.a,{name:"New",className:"avatar-image",size:"30"}),l.a.createElement("div",{className:"shifted-right"},l.a.createElement("span",{className:"name"},"New Message"),l.a.createElement("span",{className:"byline"},"Now")),l.a.createElement("div",{className:"close-button",onClick:this.props.onClear})):null,this.props.threadListNodes.size?this.props.threadListNodes:this.props.isMobile?l.a.createElement("div",{className:"thread"},l.a.createElement("div",{className:"onboarding-text-label"},"Your inbox is empty. Create a new thread by clicking the plus button above.")):null),l.a.createElement(f.a,{onEnter:this.props.onLoadMoreThreads,bottomOffset:"-200px"}),this.props.pagination.getIn(["user",this.props.currentLoggedInUser,"inbox","isFetching"],!1)?l.a.createElement("div",{className:"loader-div"},l.a.createElement(v.a,null),l.a.createElement("div",{className:"loading-text"},"Loadingâ€¦")):null)}}]),t}(l.a.PureComponent),M=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedThread:e.params.threadId||null,selectedUsers:e.params.userId?[e.params.userId]:null,input:{html:"",editorState:null},query:"",deferredSearchQuery:null,isFetchingSearch:!1,isMobile:N.h,isImageModalOpen:!1,modalImageUrlLarge:null,modalImageUrlSmall:null},n.onLoadMoreThreads=n.onLoadMoreThreads.bind(n),n.onEditorChange=n.onEditorChange.bind(n),n.userSearch=n.userSearch.bind(n),n.onUserSearchChange=n.onUserSearchChange.bind(n),n.onSelectUser=n.onSelectUser.bind(n),n.getDisplayedParticipants=n.getDisplayedParticipants.bind(n),n.clearSelectedUser=n.clearSelectedUser.bind(n),n.clearNewThread=n.clearNewThread.bind(n),n.startNewThread=n.startNewThread.bind(n),n.startNewThreadWithUser=n.startNewThreadWithUser.bind(n),n.onSelectThread=n.onSelectThread.bind(n),n.onInitializeThread=n.onInitializeThread.bind(n),n.canSendMessage=n.canSendMessage.bind(n),n.onSendMessage=n.onSendMessage.bind(n),n.onToggleUserBlock=n.onToggleUserBlock.bind(n),n.handleDefaultThread=n.handleDefaultThread.bind(n),n.routerWillLeave=n.routerWillLeave.bind(n),n.imageModalOnRequestClose=n.imageModalOnRequestClose.bind(n),n.isMessageNonEmpty=n.isMessageNonEmpty.bind(n),n.getMessageHtml=n.getMessageHtml.bind(n),n.onMessageClick=n.onMessageClick.bind(n),n.props.fetchUserMetadata(e.currentLoggedInUser,["inbox"]),e.route.isCreatingNewThread?e.params.userId&&n.startNewThreadWithUser(e.params.userId):e.params.threadId?n.onInitializeThread(e.params.threadId):n.handleDefaultThread(),n.props.router.setRouteLeaveHook(n.props.route,n.routerWillLeave),n}return a(t,e),_(t,[{key:"routerWillLeave",value:function(){if(this.isMessageNonEmpty())return"You haven't finished composing your message yet. Do you want to leave without finishing?"}},{key:"componentDidMount",value:function(){var e=this;window.onbeforeunload=function(t){if(e.isMessageNonEmpty())return t=t||window.event,t&&(t.returnValue="You haven't finished composing your message yet. Do you want to leave without finishing?"),"You haven't finished composing your message yet. Do you want to leave without finishing?"}}},{key:"componentDidUpdate",value:function(){this.lastShownMessageId&&(h.scroller.scrollTo("message-"+this.lastShownMessageId,{smooth:!1,offset:-100,containerId:null}),this.lastShownMessageId=!1)}},{key:"componentWillUnmount",value:function(){window.onbeforeunload=null}},{key:"handleDefaultThread",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!this.state.isMobile&&!e.route.isCreatingNewThread&&!e.params.userId&&!e.params.threadId&&e.users.getIn([e.currentLoggedInUser,"inbox"],n.i(p.List)()).size>0){var t=e.users.getIn([e.currentLoggedInUser,"inbox"]),i=t.findIndex(function(t,n){return!1===e.threads.getIn([t,"hasUnreadMessages"],null)}),o=-1==i?0:i;this.onSelectThread(e.users.getIn([e.currentLoggedInUser,"inbox",o],null),!0)}}},{key:"componentWillReceiveProps",value:function(e){if(e.route.isCreatingNewThread&&e.route.isCreatingNewThread!=this.props.route.isCreatingNewThread?this.setState({selectedThread:null,selectedUsers:null}):e.params.threadId!=this.props.params.threadId&&(e.params.threadId?this.onInitializeThread(e.params.threadId):this.setState({selectedThread:null,selectedUsers:null})),this.props.isCreatingInboxMessage&&!e.isCreatingInboxMessage){this.setState({input:{html:"",editorState:null}});var t=n.i(S.b)(this,["refs","editor","refs","asyncEditor","clearAndroidState"]);t&&t(),h.animateScroll.scrollToBottom()}else if(e.params.threadId==this.props.params.threadId&&this.props.threads.getIn([this.props.params.threadId,"messages"],n.i(p.List)())!=e.threads.getIn([this.props.params.threadId,"messages"],n.i(p.List)())&&0!=this.props.threads.getIn([this.props.params.threadId,"messages"],n.i(p.List)()).size){var i=this.props.threads.getIn([this.props.params.threadId,"messages"],n.i(p.List)());this.lastShownMessageId=i.get(-1)}this.handleDefaultThread(e)}},{key:"onLoadMoreThreads",value:function(){this.props.fetchUserMetadata(this.props.currentLoggedInUser,["inbox"])}},{key:"onLoadMoreMessages",value:function(e){e&&(this.props.pagination.getIn(["thread",e,"messages","isFetching"],!1)||this.props.fetchThreadMetadata(e,["messages"]))}},{key:"onEditorChange",value:function(e,t){this.setState({input:{editorState:t}})}},{key:"userSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;void 0!=e&&(this.props.fetchThreadRecommendations(e),this.setState({query:e}))}},{key:"onUserSearchChange",value:function(e){var t=this;this.state.isFetchingSearch?this.setState({deferredSearchQuery:e}):(this.setState({isFetchingSearch:!0}),this.userSearch(e),window.setTimeout(function(){if(t.state.deferredSearchQuery){var e=t.state.deferredSearchQuery;t.setState({deferredSearchQuery:null,isFetchingSearch:!1}),t.onUserSearchChange(e)}else t.setState({isFetchingSearch:!1})},500))}},{key:"onSelectUser",value:function(e){this.setState({selectedUsers:[e]}),this.props.getOrCreateThread([e,this.props.currentLoggedInUser])}},{key:"isMessageNonEmpty",value:function(){var e=n.i(S.b)(this,["refs","editor","refs","asyncEditor","isNonEmpty"]);return!!e&&e(this.state.input.editorState)}},{key:"canSendMessage",value:function(){return(null!=this.state.selectedThread||null!=this.state.selectedUsers)&&this.isMessageNonEmpty()&&this.props.threads.getIn([this.state.selectedThread,"canMessage"],!0)}},{key:"getMessageHtml",value:function(){var e=n.i(S.b)(this,["refs","editor","refs","asyncEditor","getHtml"]);return e?e(this.state.input.editorState):""}},{key:"onSendMessage",value:function(){this.canSendMessage()&&(this.state.selectedThread?this.props.createMessage(this.state.selectedThread,this.getMessageHtml()):this.props.getOrCreateThread([this.state.selectedUsers[0],this.props.currentLoggedInUser],this.getMessageHtml()))}},{key:"getDisplayedParticipants",value:function(e){for(var t in this.props.threads.getIn([e,"participants"],n.i(p.List)()).toJS()){var i=this.props.threads.getIn([e,"participants",t],"");if(i!=this.props.currentLoggedInUser)return i}}},{key:"onInitializeThread",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=this.props.users.getIn([this.props.currentLoggedInUser,"inbox",0],null)),e?(this.props.fetchThread(e),setTimeout(function(){h.animateScroll.scrollToBottom()},500),this.setState({selectedThread:e}),this.props.toggleThreadRead(e)):u.browserHistory.push("/inbox")}},{key:"onSelectThread",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?t?u.browserHistory.replace("/inbox/thread/"+e):u.browserHistory.push("/inbox/thread/"+e):u.browserHistory.push("/inbox")}},{key:"clearSelectedUser",value:function(){var e=!1;this.isMessageNonEmpty()?confirm("Are you sure you want to discard your message?")&&(e=!0):e=!0,e&&this.setState({selectedUsers:null,input:{html:"",editorState:null}})}},{key:"clearNewThread",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!1;this.isMessageNonEmpty()?confirm("Are you sure you want to discard your message?")&&(t=!0):t=!0,t&&(this.setState({selectedUsers:null,input:{html:"",editorState:null}}),e&&this.onSelectThread())}},{key:"imageModalOnRequestClose",value:function(){this.setState({isImageModalOpen:!1})}},{key:"startNewThread",value:function(){u.browserHistory.push("/inbox/new")}},{key:"startNewThreadWithUser",value:function(e){this.setState({selectedUsers:[e],input:{html:"",editorState:null}}),this.props.getOrCreateThread([e,this.props.currentLoggedInUser]),this.props.fetchUserMetadata(e,["display_name","avatar_url"])}},{key:"onMessageClick",value:function(e){if(e.target.classList.contains("spoiler")){e.target;"spoiler-content"==e.target.firstChild.className&&e.target.classList.toggle("hidden")}else"IMG"==e.target.nodeName?this.setState({isImageModalOpen:!0,modalImageUrlLarge:n.i(O.a)(e.target.src),modalImageUrlSmall:e.target.src}):n.i(I.d)(e)}},{key:"onToggleUserBlock",value:function(e){var t=this.props.users.getIn([e,"hasBlocked"],!1)?"unblock":"block",n=this.props.users.getIn([e,"displayName"],"");confirm("Are you sure you want to "+t+" "+n+"?")&&this.props.toggleUserBlock(e,this.state.selectedThread)}},{key:"render",value:function(){var e=this,t=n.i(w.a)(null),i=this.props.threadRecommendation.getIn(["users",this.state.query],[]).slice(0,8).map(function(t,n){return l.a.createElement(E.a,{key:n,userId:t,shouldLinkToUser:!1,onClick:e.onSelectUser,hideFollowButton:!0})}),o=this.props.threads.getIn([this.state.selectedThread,"canMessage"],!0),a=this.state.selectedThread&&this.props.users.getIn([this.getDisplayedParticipants(this.state.selectedThread),"hasBlocked"],!1),s=l.a.createElement("button",{className:"thin-button",onClick:function(){return e.onToggleUserBlock(e.getDisplayedParticipants(e.state.selectedThread))}},a?"Unblock":"Block"),r=this.state.selectedThread?this.props.threads.getIn([this.state.selectedThread,"messages"],n.i(p.List)()).reverse():n.i(p.List)(),c=r.map(function(t,n){var i=e.props.messages.get(t);if(!i)return null;var o=n>0?e.props.messages.get(r.get(n-1)):null,a=!1;return o&&o.get("author")==i.get("author")&&Math.abs(new Date(o.get("dtCreated"))-new Date(i.get("dtCreated")))<9e5&&(a=!0),l.a.createElement(h.Element,{name:"message-"+t},l.a.createElement("div",{className:a?"post":"post has-author",key:t},a?null:l.a.createElement(E.a,{userId:i.get("author"),timeAgoByline:i.get("dtCreated"),shouldLinkToUser:!0,hideFollowButton:!0}),l.a.createElement("div",{className:"text-container"},l.a.createElement(x.a,{className:"text",html:i.get("text"),onClick:e.onMessageClick,additionalProps:{key:t}}))))}),m=this.props.users.getIn([this.props.currentLoggedInUser,"inbox"],n.i(p.List)()).map(function(t,i){var o=e.props.threads.getIn([t,"messages",0],null),a=e.props.messages.getIn([o,"author"],null)==e.props.currentLoggedInUser,s=a?"You: ":"";return s+=n.i(C.n)(e.props.messages.getIn([o,"text"],""),20),l.a.createElement(E.a,{userId:e.getDisplayedParticipants(t),isSelected:e.state.selectedThread==t,hideFollowButton:!0,byline:s,timestamp:e.props.threads.getIn([t,"lastActivity"],""),isUnread:e.props.threads.getIn([t,"hasUnreadMessages"],!1),onClick:function(){return e.onSelectThread(t)}})});return l.a.createElement("div",null,this.state.selectedThread||this.props.route.isCreatingNewThread?null:l.a.createElement("div",{className:"inbox-page thread-list-page page tablet-down-only"},l.a.createElement(k.a,{isNav:!0,noBack:!0}),l.a.createElement("div",{className:"thread-list"},l.a.createElement(L,{startNewThread:this.startNewThread,threadListNodes:m,onLoadMoreThreads:this.onLoadMoreThreads,pagination:this.props.pagination,currentLoggedInUser:this.props.currentLoggedInUser,isMobile:this.state.isMobile}))),l.a.createElement("div",{className:this.state.selectedThread||this.props.route.isCreatingNewThread?"inbox-page page":"inbox-page page tablet-up-only"},l.a.createElement(t,{checkAuthOn:"load",allowLurker:!0,to:"/inbox"}),l.a.createElement(k.a,{goBack:function(){e.clearNewThread(!1),u.browserHistory.push("/inbox")}}),l.a.createElement("div",{className:"sidebar inbox no-right-sidebar thread-list"},l.a.createElement("div",{className:"content"},l.a.createElement(L,{startNewThread:this.startNewThread,threadListNodes:m,onLoadMoreThreads:this.onLoadMoreThreads,showFakeUserBox:this.props.route.isCreatingNewThread&&!this.props.params.threadId,onClear:this.clearNewThread,pagination:this.props.pagination,currentLoggedInUser:this.props.currentLoggedInUser,isMobile:this.state.isMobile}))),this.state.selectedThread||this.state.selectedUsers||this.props.route.isCreatingNewThread?l.a.createElement("div",{className:"header"},this.state.selectedThread?l.a.createElement("div",{className:"name"},l.a.createElement(u.Link,{to:"/profile/"+this.getDisplayedParticipants(this.state.selectedThread),className:"no-decoration"},this.props.users.getIn([this.getDisplayedParticipants(this.state.selectedThread),"displayName"],""))):this.state.selectedUsers?l.a.createElement("div",{className:"name"},this.props.users.getIn([this.state.selectedUsers[0],"displayName"],"")):l.a.createElement(b.a,{type:"user",showAddLanguage:!1,onChange:this.onUserSearchChange,autofocus:!0}),l.a.createElement("div",{className:"thread-options"},!this.state.selectedThread&&this.state.selectedUsers?l.a.createElement("button",{className:"thin-button",onClick:this.clearSelectedUser},"Clear"):null,this.state.selectedThread?s:null)):null,this.props.route.isCreatingNewThread&&!this.state.selectedUsers?l.a.createElement("div",{className:"search-results"},i):null,this.state.selectedThread||this.props.route.isCreatingNewThread||this.state.selectedUsers?l.a.createElement("div",{className:"thread"},l.a.createElement(f.a,{onEnter:function(){return e.onLoadMoreMessages(e.state.selectedThread)},scrollableAncestor:window,topOffset:"-20%"}),this.props.pagination.getIn(["thread",this.state.selectedThread,"messages","isFetching"],!1)?l.a.createElement("div",{className:"loader-div"},l.a.createElement(v.a,null),l.a.createElement("div",{className:"loading-text"},"Loadingâ€¦")):null,c,l.a.createElement(P.a,{isModalOpen:this.state.isImageModalOpen,onRequestClose:this.imageModalOnRequestClose,src:this.state.modalImageUrlLarge,placeHolder:this.state.modalImageUrlSmall}),l.a.createElement("div",{className:"reply-container"},o?l.a.createElement("div",{className:"editor"},l.a.createElement(d.a,{minimizeHTMLConversion:!0,editorState:this.state.input.editorState,resetHtml:!this.isMessageNonEmpty(),onEditorChange:this.onEditorChange,autofocus:!this.state.isMobile,toolbarConfig:{spoiler:!0},placeholder:"Type a messageâ€¦",ref:"editor"})):l.a.createElement("div",{className:"blocked-message"},l.a.createElement("span",{className:"label"},a?l.a.createElement("span",null,l.a.createElement("span",null,"You cannot message this user since you have blocked them. ")," ",s):"This user is not receiving messages right now."))),l.a.createElement("button",{className:"send-button action-button large blue no-width no-height"+(!this.canSendMessage()||this.props.isCreatingInboxMessage?" disabled":"")+(this.props.isCreatingInboxMessage?" sending":""),onClick:this.onSendMessage},this.props.isCreatingInboxMessage?"Sending Message!":"Send")):l.a.createElement("div",{className:"thread"},l.a.createElement("div",{className:"onboarding-text-label"},"Your inbox is empty. ",l.a.createElement("br",null),"Create a new thread by clicking ",l.a.createElement("div",{className:"compose",onClick:this.startNewThread})))))}}]),t}(l.a.PureComponent),A=n.i(c.connect)(s,{fetchThread:T._25,fetchUserMetadata:T.l,fetchThreadMetadata:T._26,getOrCreateThread:T._27,createMessage:T._28,toggleUserBlock:T._29,fetchThreadRecommendations:T._30,toggleThreadRead:T._31})(n.i(u.withRouter)(M))},866:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{isSubscribedToActivePath:e.getIn(["users",e.get("currentLoggedInUser"),"isSubscribedToActivePath"]),currentLoggedInUser:e.get("currentLoggedInUser"),currentUserPlan:e.getIn(["users",e.get("currentLoggedInUser"),"plan"]),discussions:e.get("discussions"),chosenPathCourses:e.getIn(["chosenPath","courses"]),chosenPathId:e.getIn(["chosenPath","id"]),pricingInfo:e.get("pricingInfo"),visitedPaths:e.get("visitedPaths"),homeVideo:e.get("homeVideo"),promoPromptHidden:e.get("promoPromptHidden")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Path",function(){return H}),n.d(t,"PathContainer",function(){return q});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(97)),p=n(132),h=n.n(p),m=n(339),f=n.n(m),g=n(992),v=(n.n(g),n(949)),y=n.n(v),b=n(889),k=n(1148),E=n(916),w=n(1300),C=n(17),I=(n(328),n(975)),S=n(912),N=n(1585),P=n(38),O=n(134),x=n(39),T=(n.n(x),n(907)),_=n(1298),L=n(1269),M=n(1307),A=n(1314),j=n.n(A),D=n(323),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),U=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={syllabusShown:e.syllabusShown||!1},n.markAsComplete=n.markAsComplete.bind(n),n.onClick=n.onClick.bind(n),n}return a(t,e),R(t,[{key:"componentWillReceiveProps",value:function(e){this.props.syllabusShown!=e.syllabusShown&&this.setState({syllabusShown:e.syllabusShown})}},{key:"markAsComplete",value:function(e){if(this.props.discussion.get("hasCompleted")&&this.props.discussion.getIn(["typeInfo","hasCompletedAllItems"]))return void alert("You've already completed each of the items in this course!");this.props.toggleDiscussionCompleted(this.props.discussion.get("eid"),this.props.pathId),e.stopPropagation(),e.preventDefault()}},{key:"onClick",value:function(e){if(e.target.classList.contains("show-syllabus-button")){var t=!this.state.syllabusShown;this.setState({syllabusShown:t}),t&&this.props.fetchDiscussionMetadata(this.props.discussion.get("eid"),null,["typeInfo"]),e.stopPropagation(),e.preventDefault()}}},{key:"render",value:function(){if(!this.props.discussion)return null;var e=this.props.discussion.getIn(["typeInfo","stats","tutorialCount"]),t=this.props.discussion.getIn(["typeInfo","stats","projectCount"]),n=this.props.discussion.getIn(["typeInfo","stats","questionCount"]),i=this.props.discussion.getIn(["typeInfo","stats","videoCount"]),o=l.a.createElement("button",{className:"show-syllabus-button"+(this.state.syllabusShown?" hide":"")},this.state.syllabusShown?"Hide":"Show"," syllabus"),a=this.state.syllabusShown?l.a.createElement("div",{className:"course-syllabus post"},l.a.createElement(w.a,{ref:"playlistSectionContainer",discussion:this.props.discussion,disallowMarkingAsComplete:!0})):null;return l.a.createElement("div",null,l.a.createElement("div",{className:"course"+(this.props.isCompleted?" completed":"")},this.props.isCompleted?l.a.createElement(D.b,{className:"index with-icon-tick-mark"},l.a.createElement("span",{className:"icon-tick-mark",onClick:this.markAsComplete})):l.a.createElement(D.b,{className:"index "+(this.props.index>9?"small":""),onClick:this.markAsComplete},this.props.index),l.a.createElement("div",{className:"decorative-line-bottom"}),l.a.createElement(u.Link,{className:"no-decoration",to:"/discussion/"+this.props.discussion.get("eid")},l.a.createElement(T.c,{className:"cover-image",image:this.props.primaryImage})),l.a.createElement(u.Link,{className:"no-decoration",to:"/discussion/"+this.props.discussion.get("eid"),onClick:this.onClick},l.a.createElement("div",{className:"course-info"},l.a.createElement("div",{className:"title-row"},l.a.createElement("div",{className:"title"},this.props.discussion.get("name")),l.a.createElement(D.b,{className:"skip-button",onClick:this.markAsComplete},this.props.isCompleted?"Mark incomplete":"Skip")),l.a.createElement("div",{className:"course-stats"},i>0&&l.a.createElement("div",{className:"videos course-stat"},l.a.createElement("strong",null,i," Interactive")," ",h()("Video",i)),n>0?l.a.createElement("div",{className:"quizzes course-stat"},l.a.createElement("strong",null,n)," ",h()("Exercise",n)):null,e>0?l.a.createElement("div",{className:"tutorials course-stat"},l.a.createElement("strong",null,e)," ",h()("Tutorial",e)):null,t>0?l.a.createElement("div",{className:"projects course-stat"},l.a.createElement("strong",null,t)," ",h()("Project",t)):null),l.a.createElement("div",{className:"course-description"},this.props.discussion.getIn(["plaintextSnippet","snippet20"])),o))),a)}}]),t}(l.a.PureComponent),F=n.i(D.a)("button",D.d),B=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.getChosenPathCourses=n.getChosenPathCourses.bind(n),n}return a(t,e),R(t,[{key:"getChosenPathCourses",value:function(){return this.props.selectedViaPathfinder?this.props.chosenPathCourses||[]:[]}},{key:"onClick",value:function(){var e=!0;this.props.isSubscribed?confirm("Are you sure you want to un-enroll from this path?")||(e=!1):this.props.isSubscribedToActivePath&&(confirm("You can only be enrolled in one primary path at a time. This will replace your existing path. Are you sure you want to continue?")||(e=!1)),e&&this.props.updateDiscussionSubscription(this.props.discussionId,!this.props.isSubscribed,[],this.getChosenPathCourses())}},{key:"render",value:function(){var e=this.props.isCompact?"action-button large no-width no-max-width":C.a?"action-button large no-max-width no-width with-margin-bottom with-margin-top hide-on-desktop":"action-button large no-max-width no-width",t=JSON.stringify(this.getChosenPathCourses()),n=encodeURIComponent(t);return l.a.createElement(F,{onClick:this.onClick,className:"save-path-button "+e+(this.props.isSubscribed?"":" dark-blue"),entityId:this.props.discussionId,action:"path-subscribe-"+t,to:"/path/"+this.props.discussionId+"?action=path-subscribe-"+n},this.props.isSubscribed?"Enrolled":this.props.isCompact?"Join":this.props.isProUser?"Get Started":"Get Started for Free")}}]),t}(l.a.PureComponent),H=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchData=n.fetchData.bind(n),n.isDataAvailable=n.isDataAvailable.bind(n),n.getDiscussion=n.getDiscussion.bind(n),n.toggleDescription=n.toggleDescription.bind(n),n.fetchData(),n.state={isDescriptionExpanded:!1},n}return a(t,e),R(t,[{key:"fetchData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;e.fetchPathDetails(e.params.discussionId)}},{key:"getDiscussion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.params.discussionId;return e.discussions.get(t)}},{key:"isDataAvailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this.getDiscussion(e);return void 0!=t&&void 0!=t.get("name")&&void 0!=t.get("typeInfo")}},{key:"componentWillReceiveProps",value:function(e){this.props.params.discussionId&&e.params.discussionId&&this.props.params.discussionId!=e.params.discussionId&&this.fetchData(e)}},{key:"toggleDescription",value:function(){this.setState({isDescriptionExpanded:!this.state.isDescriptionExpanded})}},{key:"render",value:function(){var e=this;if(!this.isDataAvailable())return l.a.createElement(O.a,null);var t=this.props.params.discussionId,i=this.getDiscussion(),o=this.props.chosenPathId==this.props.params.discussionId,a=!0,s=null,r=i.getIn(["typeInfo","items","discussions"],n.i(x.List)()),c=r.map(function(t,n){var c=e.props.discussions.getIn([t,"primaryImage"]),u=!e.props.currentLoggedInUser&&o&&e.props.chosenPathCourses&&e.props.chosenPathCourses[n]&&-1!=e.props.chosenPathCourses[n].indexOf(":completed")||e.props.discussions.getIn([t,"hasCompleted"]);return s=s||a&&(u?null:t),a=u,l.a.createElement(U,{discussion:e.props.discussions.get(t),index:n+1,primaryImage:c,isCompleted:u,toggleDiscussionCompleted:e.props.toggleDiscussionCompleted,pathId:i.get("eid"),fetchDiscussionMetadata:e.props.fetchDiscussionMetadata,numCourses:r.size})}),p=i.getIn(["typeInfo","stats","courseCount"]),h=i.getIn(["typeInfo","stats","tutorialCount"]),m=i.getIn(["typeInfo","stats","projectCount"]),v=i.getIn(["typeInfo","stats","questionCount"]),w=i.getIn(["typeInfo","stats","videoCount"]),P=i.getIn(["typeInfo","stats","videoDuration"]),T=i.getIn(["typeInfo","subscribersCount"],0),A=i.getIn(["rating","avgRating"])||0,D=T>99,R=i.getIn(["hasPremiumItems"]),F=i.hasIn(["typeInfo","subscription","hasSubscribed"]),H=i.getIn(["typeInfo","subscription","hasSubscribed"]);this.proPromoPromptHeight=C.c?0:this.props.promoPromptHidden?0:this.proPromoPromptHeight||document.getElementsByClassName("banner promo-prompt-container")&&document.getElementsByClassName("promo-prompt-container")[0]?document.getElementsByClassName("promo-prompt-container")[0].clientHeight:0;var q=this.proPromoPromptHeight,z=this.props.currentUserPlan&&"active"==this.props.currentUserPlan.get("status"),V=this.props.currentUserPlan&&this.props.currentUserPlan.get("isPromo",!1),W=this.props.currentUserPlan&&"active"==this.props.currentUserPlan.get("status")&&!V,Q=F&&l.a.createElement(B,{updateDiscussionSubscription:this.props.updateDiscussionSubscription,isSubscribed:H,discussionId:i.get("eid"),chosenPathCourses:this.props.chosenPathCourses,isSubscribedToActivePath:this.props.isSubscribedToActivePath,selectedViaPathfinder:o,isProUser:z}),Y=F&&l.a.createElement(B,{isCompact:!0,updateDiscussionSubscription:this.props.updateDiscussionSubscription,isSubscribed:H,discussionId:i.get("eid"),chosenPathCourses:this.props.chosenPathCourses,isSubscribedToActivePath:this.props.isSubscribedToActivePath,selectedViaPathfinder:o}),G=i.getIn(["typeInfo","nextUncompletedDiscussion"]),J=null==G;if(!G){var K=this.props.discussions.getIn([s,"typeInfo","items","ordering"],null);if(K){K=K.toJS();for(var $=0;$<K.length;$++)if("discussion"==K[$].type){G=K[$].eid;break}}}var Z=l.a.createElement("div",{className:"certificate-of-completion"},l.a.createElement("div",{className:"certificate-icon"}),l.a.createElement("div",{className:"certificate-heading"},"Certificate of Completion")),X=i.get("primaryImage"),ee=this.state.isDescriptionExpanded?i.get("description"):i.getIn(["snippet20","snippet"]);return l.a.createElement(f.a,{title:i.get("name")+" | CommonLounge"},l.a.createElement("div",null,l.a.createElement(g.StickyContainer,{className:"page path-page landing-page-v2 learn"},l.a.createElement(b.a,{noBack:!0,isNav:!0},l.a.createElement(I.a,{activeCommunityId:null})),l.a.createElement("div",{className:"path-wrapper"},i.getIn(["videoInfo","video","eid"],null)&&i.getIn(["videoInfo","canEdit"],!1)?[l.a.createElement(u.Link,{className:"label large blue padding-left-20",to:"/discussion/"+i.get("eid")+"/video/"+i.getIn(["videoInfo","video","eid"])+"/edit"},"Edit Video"),l.a.createElement(u.Link,{className:"label large blue padding-left-20",to:"/discussion/"+i.get("eid")+"/video/"+i.getIn(["videoInfo","video","eid"])+"/history"},"View Video History")]:i.getIn(["videoInfo","canCreate"],!1)?l.a.createElement(u.Link,{className:"label large blue padding-left-20",to:"/discussion/"+i.get("eid")+"/video/new"},"Add Video"):null,l.a.createElement(g.Sticky,{stickyStyle:{transform:"translateY("+(44+q)+"px)",webkitTransform:"translateY("+(44+q)+"px)",zIndex:11},topOffset:-(q+44),className:"header-section path-split-section"},l.a.createElement("div",{className:"path-icon"}),l.a.createElement("div",{className:"left"},o&&l.a.createElement("div",{className:"personalized-path-label"},"Your Personalized Path"),l.a.createElement("div",{className:"path-title"},i.get("name")),A>0&&l.a.createElement("div",{className:"path-rating-row"},l.a.createElement(y.a,{className:"inline-rating-box",edit:!1,value:A+.25}),D&&l.a.createElement("span",{className:"subscriber-count"},l.a.createElement("strong",null,T)," students"))),l.a.createElement("div",{className:"right"},C.l?Y:Q)),l.a.createElement("div",{className:"path-split-section"},l.a.createElement("div",{className:"left"},l.a.createElement("div",{className:"path-description"},l.a.createElement(S.a,{html:ee}),l.a.createElement("div",{className:this.state.isDescriptionExpanded?"read-more-button hide":"read-more-button",onClick:this.toggleDescription},this.state.isDescriptionExpanded?"Collapse":"Read more"))),l.a.createElement("div",{className:"right hide-below-desktop"},l.a.createElement(L.a,{video:i,placeholderImg:X}))),C.l&&l.a.createElement(L.a,{video:i,placeholderImg:X}),l.a.createElement(N.a,{courseCount:p,tutorialCount:h,projectCount:m,questionCount:v,videoCount:w,isPro:R,isSubscribed:H,videoDuration:P}),G&&l.a.createElement(_.a,{upNextDiscussionId:G,name:this.props.discussions.getIn([G,"name"]),isUpNextFirstItem:J,isPath:!0}),r.size>0?l.a.createElement("div",{className:"path"},c,R?W?Z:l.a.createElement(u.Link,{to:"/upgrade",className:"no-decoration"},Z):null):l.a.createElement("div",{className:"loader-div"},l.a.createElement(d.a,null),l.a.createElement("div",{className:"loading-text"},"Loading Path..."))),l.a.createElement("div",{className:"landing-section-footer"},l.a.createElement("img",{alt:"",className:"company-logos",src:j.a}),l.a.createElement("div",{className:"all-caps-caption dark-blue"},"Loved by learners at top companies and institutions")),l.a.createElement("div",{className:"landing-section split-section"},l.a.createElement("div",{className:"left-container"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"heading dark-gray"},"Fast. Mobile. Easy."),l.a.createElement("div",{className:"sub-heading dark-gray"},"Why students learn here?"),l.a.createElement("div",{className:"benefits-list dark-gray"},l.a.createElement("div",{className:"benefit"},l.a.createElement("div",{className:"index"},"1"),l.a.createElement("div",{className:"title"},"Learn by doing"),l.a.createElement("div",{className:"benefits-copy"},"Get started right away. Run code right here in the browser, even while you're watching a video. No installation required.")),l.a.createElement("div",{className:"benefit"},l.a.createElement("div",{className:"index"},"2"),l.a.createElement("div",{className:"title"},"Master essential topics"),l.a.createElement("div",{className:"benefits-copy"},"Our experts have hand-picked only the most important topics and put together courses that makes you an expert in weeks, not months. Go through real-world projects from industry experts to build your job-ready portfolio.")),l.a.createElement("div",{className:"benefit"},l.a.createElement("div",{className:"index"},"3"),l.a.createElement("div",{className:"title"},"Learn on-the-go"),l.a.createElement("div",{className:"benefits-copy"},'Want to learn while commuting? Prefer a big screen to code? No matter what platform you choose, every piece of content on CommonLounge is fully accessible â€” no more "You need a desktop to learn this topic" messages :)'))),Q)),l.a.createElement("div",{className:"right-container blue-bg"},l.a.createElement("div",{className:"content testimonials"},l.a.createElement("div",{className:"all-caps-caption white"},"Why people love learning on CommonLounge"),l.a.createElement("div",{className:"testimonial"},l.a.createElement("div",{className:"quote-icon"}),l.a.createElement("div",{className:"testimonial-copy"},"Wow , I just started \"Learn Data Science with Python\" and it has clarified a lot of things related to DS that I was confused about. It's so concise and organized. It explains in simple terms and gives appropriate analogies. I finally understand a lot of concepts. I tried many courses from EdX and Coursera, but I'm glad I came accross CommonLounge. A pro membership is definitely worth it.",l.a.createElement("div",{className:"testimonial-by"},"â€” Samuel P. via Intercom"))),l.a.createElement("div",{className:"testimonial"},l.a.createElement("div",{className:"quote-icon"}),l.a.createElement("div",{className:"testimonial-copy"},"I liked the way they have built the tutorial â€” one small chunk at a time... It was a wonderful experience learning Django here finally, after trying and failing to do that since past 2-3 times using other (not-so-interesting) tutorials!",l.a.createElement("div",{className:"testimonial-by"},"â€” Shamli S. on ",l.a.createElement(u.Link,{to:"/discussion/8053bde657804a6b9135c0d781c9d2c7"},"Learn Web Development Course"))))))),l.a.createElement("div",{className:"landing-section no-height"},l.a.createElement("div",{className:"content"},l.a.createElement(k.a,null))),l.a.createElement(E.a,{currentLoggedInUser:this.props.currentLoggedInUser,to:"/privacy",hideSignupForm:!0}),C.a&&l.a.createElement(M.a,{isPath:!0,discussionId:t,upNextDiscussionId:G,isUpNextFirstItem:J}))))}}]),t}(l.a.PureComponent),q=n.i(c.connect)(s,{fetchDiscussion:P.D,fetchDiscussionMetadata:P.e,fetchPathDetails:P.L,toggleDiscussionCompleted:P.t,updateDiscussionSubscription:P.M})(H)},888:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=p.d?"375d7608e18c4db2b4a0059565764377":"4a49e8b124734717a7f9aac8e5f2e64f",i=p.d?"15382c16457146d4a4097ad88856b897":"4a49e8b124734717a7f9aac8e5f2e64f",o=p.d?"8449ba93560f41cc8abfdc6cf97df924":"4a49e8b124734717a7f9aac8e5f2e64f",a=p.d?"d3b1f87a01e445219e02af9da60dcbc7":"d1f0c143406d41508e338927cb590d71",s=p.d?"638584a3157d4420b565b3c4f5298f2c":"a4733a7285fd432a98ea98962380f414",r=p.d?"3e6b3da2a13b4eb99af1edd44aac587f":"f2ffb8789ac44450a7cb379f5d18b1a7",l=p.d?"6ac84539617f4124bcf01a0d34867923":"f2ffb8789ac44450a7cb379f5d18b1a7";return{d1:n,d2:i,d3:o,d4:a,d5:s,d6:r,d7:l,discussionPrompt:e.getIn(["discussions",l]),discussionDaily:e.getIn(["discussions",n]),discussionInteractive:e.getIn(["discussions",i]),discussionRetrofit:e.getIn(["discussions",o]),discussionPoll:e.getIn(["discussions",a]),discussionQuiz:e.getIn(["discussions",s]),discussionBlockChain:e.getIn(["discussions",r]),users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"WorkdayFeed",function(){return k}),n.d(t,"WorkdayFeedContainer",function(){return E});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(889)),p=(n(934),n(17)),h=n(38),m=n(828),f=n(826),g=n(1047),v=n(983),y=n(131),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),k=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.fetchDiscussionMetadata(e.d1,null,["name","videoInfo"]),e.fetchDiscussionMetadata(e.d2,null,["name","videoInfo"]),e.fetchDiscussionMetadata(e.d3,null,["name","description"]),e.fetchDiscussionMetadata(e.d4,null,["name","description","typeInfo","textStats","canContribute"]),e.fetchDiscussionMetadata(e.d5,null,["name","description","typeInfo","textStats","canContribute"]),e.fetchDiscussionMetadata(e.d6,null,["name","videoInfo"]),e.fetchDiscussionMetadata(e.d7,null,["name","videoInfo"]),n}return a(t,e),b(t,[{key:"componentDidMount",value:function(){n.i(y.c)(document.body,"embedded-player")}},{key:"componentWillUnmount",value:function(){n.i(y.a)(document.body,"embedded-player")}},{key:"render",value:function(){var e=[{text:l.a.createElement("p",null,l.a.createElement("h1",null,"1. Auto-Generated Video")," This video was ",l.a.createElement("strong",null,"auto-generated")," from a ",l.a.createElement(u.Link,{to:"discussion/6ac84539617f4124bcf01a0d34867923"},"text article")," including the speech and visuals. It showcases a few of our interactive applications, including the video prompt ",l.a.createElement("span",{className:"mark"},"(10:07)"),", podcast ",l.a.createElement("span",{className:"mark"},"(1:34)"),", and quiz ",l.a.createElement("span",{className:"mark"},"(22:01)")," apps."),link:{image:"https://images.unsplash.com/photo-1523821393989-a61a1f006c8b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",title:"Python for Absolute Beginners",domain:"CommonLounge | Interactive Courses"},custom:{component:l.a.createElement(f.CLVideoPlayerContainer,{audio:this.props.discussionPrompt&&this.props.discussionPrompt.getIn(["videoInfo","video","audioUrl"],null),blocks:this.props.discussionPrompt&&this.props.discussionPrompt.getIn(["videoInfo","video","outputConfig"],null),videoId:this.props.discussionPrompt&&this.props.discussionPrompt.getIn(["videoInfo","video","eid"],null),discussionId:this.props.discussionPrompt&&this.props.discussionPrompt.get("eid"),toc:this.props.discussionPrompt&&this.props.discussionPrompt.getIn(["videoInfo","video","additionalOutputData","tableOfContents"],null),isEmbedded:!1})}},{text:l.a.createElement("p",null,l.a.createElement("p",null,l.a.createElement("h1",null,"2. Interactive Programming Video"),"For technical videos aimed at upskilling developers and architects, you can embed interactive programming blocks right within the video. This interactive Python video was auto-generated from a ",l.a.createElement(u.Link,{to:"discussion/15382c16457146d4a4097ad88856b897"},"text article"),", including the smooth keystroke animations for the code blocks. It features the ",l.a.createElement("strong",null,"code execution app"),", which can be launched by clicking on any code block, and our quiz app."),l.a.createElement("blockquote",null,"Our users love the fact that these apps work perfectly well on their ",l.a.createElement("strong",null,"mobile phones")," and are truly responsive (even in portrait mode). Try it out!")),link:{image:"https://images.unsplash.com/photo-1523821393989-a61a1f006c8b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",title:"Python for Absolute Beginners",domain:"CommonLounge | Interactive Courses"},custom:{component:l.a.createElement(f.CLVideoPlayerContainer,{audio:this.props.discussionInteractive&&this.props.discussionInteractive.getIn(["videoInfo","video","audioUrl"],null),blocks:this.props.discussionInteractive&&this.props.discussionInteractive.getIn(["videoInfo","video","outputConfig"],null),videoId:this.props.discussionInteractive&&this.props.discussionInteractive.getIn(["videoInfo","video","eid"],null),discussionId:this.props.discussionInteractive&&this.props.discussionInteractive.get("eid"),toc:this.props.discussionInteractive&&this.props.discussionInteractive.getIn(["videoInfo","video","additionalOutputData","tableOfContents"],null),isEmbedded:!1})}},{text:l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("h1",null,"3. Personalized Videos With Third Party Apps "),"You can autogenerate a ",l.a.createElement("strong",null,"personalized")," video for the learner. Enterprise customers could use this for personalized orientation videos for new employees or even as a mandatory review for important training employees had received earlier."),l.a.createElement("p",null,"In this demo, a business analyst is shown questions and a brief review of topics they struggled with earlier. You can also embed complex apps like a spreadsheet app. In this way the learner can get direct practice with real-world software. If you start playing at the ",l.a.createElement("span",{className:"mark"},"1:52")," mark, you should see the app pop up automatically in a few seconds.")),link:{title:"Your Daily Challenge, John!"},custom:{component:l.a.createElement(f.CLVideoPlayerContainer,{audio:this.props.discussionDaily&&this.props.discussionDaily.getIn(["videoInfo","video","audioUrl"],null),blocks:this.props.discussionDaily&&this.props.discussionDaily.getIn(["videoInfo","video","outputConfig"],null),videoId:this.props.discussionDaily&&this.props.discussionDaily.getIn(["videoInfo","video","eid"],null),discussionId:this.props.discussionDaily&&this.props.discussionDaily.get("eid"),toc:this.props.discussionDaily&&this.props.discussionDaily.getIn(["videoInfo","video","additionalOutputData","tableOfContents"],null)})}},{text:l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("h1",null,"4. Retrofit Existing Video With Apps"),"This is a demo of ",l.a.createElement("strong",null,"retrofitting")," an existing video with interactive apps (the red markers on the video slider). It also showcases the ",l.a.createElement("strong",null,"interactive prompt")," and slide apps. The prompt app is perfect for allowing enterprise customers to ",l.a.createElement("strong",null,"customize a one-size-fits-all content library to their specific needs"),". "),l.a.createElement("blockquote",{className:"example"},"For example, imagine youâ€™re a sales leader at HP, trying to train and evaluate your salespeople on their ability to sell your new product. You have them take a generic sales communication course from a content provider, and then ask them to upload a video of themselves doing the sales pitch, given everything theyâ€™ve learned, via our interactive prompt app. This way, each rep can practice their pitch, and you can grade and provide specific feedback to each person, as well as understand your teamâ€™s strengths/weaknesses in aggregate. The Workday platform had to do no extra work to enable this personalization.")),link:{image:"https://media.licdn.com/dms/image/C4E22AQH8wUPDWrXxlA/feedshare-shrink_800/0?e=1569456000&v=beta&t=O6hYjZqRd7VqtkcmjTcagPvGcJ-m5KKxru_Fg3vJFZk",title:"Sales 101",domain:"CommonLounge | Interactive Courses"},custom:{component:l.a.createElement(m.CLRetrofitVideoPlayerContainer,{isCreation:!1,isEmbedded:!1,videoSrc:"https://cdn.filepicker.io/api/file/JWLDW7fITQaq1lB71fLo",blocksList:[{operation:{type:"add-element",display:{type:"prompt",content:"<h1>Interactive Simulation</h1><p>Imagine you're in a meeting with the Head of Marketing for Acme Corp and are selling our <em>Alterx 360 Marketing Automation Software</em> to them. </p><p>They've never heard of this software before. How would you go through the <strong>AIDA</strong>  framework for guiding this potential buyer.</p><p>Remember that AIDA stands for:</p><ul><li><strong>A</strong>wareness</li><li><strong>I</strong>nterest</li><li><strong>D</strong>esire</li><li><strong>A</strong>ction</li></ul>",range:{from:{line:"0",character:"0"},to:{line:"0",character:"5"}}},properties:{name:"1jlwtt",animate:null,interrupt:!1,overlay:!1}},voice:"",timestamp:51e3},{operation:{type:"add-element",display:{type:"editor",content:p.d?'<p>&nbsp;</p><div class="cl-custom-element" data-id="c3264f54a32946c68033cc0898eedb7a" data-type="mc-question"></div>':'<p>&nbsp;</p><div class="cl-custom-element" data-id="dfdfcca51fc84b759ec4c5e04ccd5aa1" data-type="mc-question"></div>',range:{from:{line:"0",character:"0"},to:{line:"0",character:"5"}}},properties:{name:"4u6bxw",animate:null,interrupt:!1,overlay:!1},editorProperties:{question:!0}},voice:"",timestamp:85e3},{operation:{type:"add-element",display:{type:"editor",content:"<h1>Information Recap</h1><ul><li><strong>Unique selling proposition </strong>â€” a perceived specific characteristic that makes one product stand out ahead of its competition.</li><li><strong>B2B </strong>â€” business to business, and that means a company doing business with another company</li><li><strong>B2C</strong> â€” a business selling to a consumer</li><li><strong>CRM</strong> â€” Customer Relationship Management. That's a common process where existing customers are managed in a high touch way to keep good customers and not to lose them.</li></ul><blockquote>One of the best things you can do is ask questions. If someone uses a phrase you don't know, don't hesitate for a moment to ask them well what does that mean. This is how I've garnered most of my knowledge in the field of sales.</blockquote>",range:{from:{line:"0",character:"0"},to:{line:"0",character:"5"}}},properties:{name:"5hbn0g",animate:null,interrupt:!1,overlay:!1}},voice:"",timestamp:149500}]})}},{poster:{profile_picture:"https://media.licdn.com/dms/image/C5603AQH9GLviRZE94A/profile-displayphoto-shrink_200_200/0?e=1571875200&v=beta&t=TgGFklvv1SG56Nm-tOAD0eolG9D_uKEytJnMLQdf7HU",name:"Prabhav Jain",degree:"1st",bio:"CEO @ CommonLounge"},timeago:"4h",text:l.a.createElement("p",null,l.a.createElement("h1",null,"5. Apps Can Be Embedded Directly")," Apps can be embedded into a lesson or course module. Here is an example of the stand-alone Poll and Quiz apps."),link:{image:"https://images.unsplash.com/photo-1523821393989-a61a1f006c8b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",title:"Python for Absolute Beginners",domain:"CommonLounge | Interactive Courses"},custom:{src:'<div class="iframe-container"><iframe frameborder="0" src="https://www.commonlounge.com/video-embed/15382c16457146d4a4097ad88856b897/" allowfullscreen border="0" width="500" height="320"></iframe></div>',component:l.a.createElement("div",{className:"text"},this.props.discussionPoll?l.a.createElement(g.a,{discussion:this.props.discussionPoll}):null,l.a.createElement("hr",{className:"editor-hr"}),this.props.discussionQuiz?l.a.createElement(v.b,{discussion:this.props.discussionQuiz,communityId:"8c4e195324b546abbd42f2d2202bafec",shouldLinkToDiscussion:!1,isCollapsed:!1,turnScrollingOff:!0,onShareFn:null}):null)}}],t=e.map(function(e,t){return l.a.createElement("div",{className:"feed-item",key:t},l.a.createElement("div",{className:"text"},e.text),e.custom?e.custom.component:l.a.createElement("img",{src:e.link.image}))});return l.a.createElement("div",{className:"demo-feed"},l.a.createElement(d.a,null),l.a.createElement("div",{className:"feed-page page dummy-feed-page"},l.a.createElement("div",{className:"feed"},l.a.createElement("h1",{className:"page-title"},"Various Use-Cases and Demos"),t)))}}]),t}(r.Component),E=n.i(c.connect)(s,{fetchDiscussionMetadata:h.e,fetchDiscussion:h.D})(k)},889:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentUser:e.get("currentLoggedInUser"),users:e.get("users"),visitedPaths:e.get("visitedPaths")}}n.d(t,"a",function(){return w});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(59)),p=n.n(d),h=n(134),m=n(133),f=(n(323),n(899)),g=n(891),v=n(827),y=n(17),b=n(38),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),E=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isSignInSignUpModalOpen:!1,isProfileOptionsModalOpen:!1,isNotificationsModalOpen:!1,isMobile:y.h},n.onProfileIconClick=n.onProfileIconClick.bind(n),n.routerGoBack=n.routerGoBack.bind(n),n.onLogout=n.onLogout.bind(n),n.onGoProClick=n.onGoProClick.bind(n),n}return a(t,e),k(t,[{key:"onGoProClick",value:function(){this.props.fetchPixelInformation("click.top_nav_bar_go_pro")}},{key:"routerGoBack",value:function(){this.props.visitedPaths.size>1?this.props.router.goBack():u.browserHistory.push("/")}},{key:"onProfileIconClick",value:function(e){e.stopPropagation(),e.preventDefault(),this.setState({isProfileOptionsModalOpen:!this.state.isProfileOptionsModalOpen})}},{key:"onLogout",value:function(e){this.setState({loggingOut:!0})}},{key:"render",value:function(){var e=this,t=this.props.isNav?"":" desktop-only",n=this.props.classModifier||"",i=this.props.users.getIn([this.props.currentUser]),o=i&&"active"==i.getIn(["plan","status"])?i.getIn(["plan","type"]):null,a=this.props.users.getIn([this.props.currentUser,"unreadNotificationsCount"],0),s=this.props.users.getIn([this.props.currentUser,"unreadThreadCount"],0),r=this.state.isMobile?"":o?l.a.createElement("span",null,"CommonLounge",l.a.createElement("span",{className:"pro-label"},o)):"CommonLounge",c="avatar-image";return this.state.isMobile?s>0?c+=" flair medium message-icon":a>0&&(c+=" flair medium notification-icon"):s>0&&(c+=" flair medium message-icon"),l.a.createElement("div",{className:"topbar"+n},l.a.createElement("div",{className:"topbar-content"},l.a.createElement(p.a,{isOpen:this.state.isProfileOptionsModalOpen,onRequestClose:function(){return e.setState({isProfileOptionsModalOpen:!1})},overlayClassName:"modal-overlay profile-options-modal-overlay",className:"modal-content profile-options-modal-content"},l.a.createElement(g.a,{hideFollowButton:!0,userId:this.props.currentUser,shouldLinkToUser:!0,byline:o?"Pro Member":"View Profile"}),l.a.createElement(u.Link,{to:"/profile/subscriptions"},l.a.createElement("button",{className:"button profile-option-button"},"Enrollments")),l.a.createElement(u.Link,{to:"/profile/bookmarks"},l.a.createElement("button",{className:"button profile-option-button with-border-bottom"},"Bookmarks")),this.state.isMobile?l.a.createElement(u.Link,{to:"/notifications"},l.a.createElement("button",{className:"button profile-option-button"},"Notifications",a>0?l.a.createElement("span",{className:"red"}," (",a,")"):null)):null,l.a.createElement(u.Link,{to:"/inbox"},l.a.createElement("button",{className:"button profile-option-button with-border-bottom"},"Inbox",s>0?l.a.createElement("span",{className:"red"}," (",s,")"):null)),l.a.createElement(u.Link,{to:"/contribute"},l.a.createElement("button",{className:"button profile-option-button"},"How to contribute")),l.a.createElement(u.Link,{to:"/discussion/new?type=playlist"},l.a.createElement("button",{className:"button profile-option-button"},"Create a course")),l.a.createElement(u.Link,{to:"/discussion/new?type=wiki"},l.a.createElement("button",{className:"button profile-option-button with-border-bottom"},"Write a tutorial")),l.a.createElement(u.Link,{to:"/profile"},l.a.createElement("button",{className:"button profile-option-button"},"Profile")),l.a.createElement(u.Link,{to:"/profile/settings"},l.a.createElement("button",{className:"button profile-option-button"},"Settings")),l.a.createElement(u.Link,{to:"/referral"},l.a.createElement("button",{className:"button profile-option-button"},"Get a free month ðŸŽ")),l.a.createElement("a",{href:"/logout/",onClick:this.onLogout},l.a.createElement("button",{className:"button profile-option-button"},"Logout"))),l.a.createElement(p.a,{isOpen:this.state.isNotificationsModalOpen,onRequestClose:function(){return e.setState({isNotificationsModalOpen:!1})},overlayClassName:"modal-overlay notifications-modal-overlay",className:"modal-content notifications-modal-content"},l.a.createElement(v.NotificationsContainer,{isPage:!1})),l.a.createElement(p.a,{isOpen:this.state.loggingOut,overlayClassName:"modal-overlay",className:"modal-content"},l.a.createElement(h.a,{customText:"Logging you outâ€¦"})),this.props.shomHome?l.a.createElement("div",{className:"left"},l.a.createElement(u.Link,{to:"/",className:"home no-decoration",activeClassName:"active",title:"Home"},r),this.props.children):null,this.props.noBack?null:l.a.createElement("div",{className:"left"},l.a.createElement("span",{className:"back-icon",onClick:this.props.routerGoBack?this.routerGoBack:this.props.goBack,title:"Back"}),l.a.createElement(u.Link,{to:"/",className:"home desktop-only no-decoration",activeClassName:"active",title:"Home"},r),this.props.children),this.props.isNav?l.a.createElement("div",{className:"left"},l.a.createElement(u.Link,{to:"/",className:"home no-decoration",activeClassName:"active",title:"Home"},r),this.props.children):null,this.props.currentUser?l.a.createElement("div",{className:"shifted-right"},l.a.createElement(u.Link,{to:"/search",className:"search",activeClassName:"active",title:"Search for people, communities, topics, discussions or replies"}),l.a.createElement(u.Link,{to:"/about",className:"thin-button no-decoration"},"About"),l.a.createElement(u.Link,{to:"/upgrade",className:o?"thin-button no-decoration":"thin-button no-decoration never-hide",onClick:this.onGoProClick},"Pricing"),this.props.infoUrl?l.a.createElement(u.Link,{to:this.props.infoUrl,className:"info",title:"Community Info"}):null,this.props.addUrl?l.a.createElement(u.Link,{to:this.props.addUrl,className:"add",title:"Start a new community"}):null,l.a.createElement("a",{className:this.props.currentUser&&a>0?"notifications unread"+t:"notifications"+t,activeClassName:"active",onClick:function(){e.setState({isNotificationsModalOpen:!0})}}),l.a.createElement("a",{className:this.props.currentUser?"avatar profile":"profile",onClick:this.onProfileIconClick},this.props.currentUser?l.a.createElement(m.a,{className:c,size:"25",name:this.props.users.get(this.props.currentUser).get("displayName"),src:this.props.users.get(this.props.currentUser).get("avatarUrl")}):null),this.props.onToggleSidebar?this.props.isRightSidebarOpen?l.a.createElement("div",{className:"close"}):l.a.createElement("div",{className:"hamburger",onClick:this.props.onToggleSidebar}):null):this.props.isNav||this.props.showSignUpInfoIfLoggedOut?l.a.createElement("div",{className:"shifted-right"},l.a.createElement(u.Link,{to:"/search",className:"search",activeClassName:"active",title:"Search for people, communities, topics, discussions or replies"}),l.a.createElement(u.Link,{to:"/about",className:"thin-button no-decoration"},"About"),l.a.createElement(u.Link,{to:"/upgrade",className:o?"thin-button no-decoration":"thin-button no-decoration never-hide",onClick:this.onGoProClick},"Pricing"),l.a.createElement("button",{className:"sign-up zoom-on-hover zoom-to-normal",onClick:function(){return e.setState({isSignInSignUpModalOpen:!0})}},"Get Started"),l.a.createElement(f.a,{postSignInSignUpTo:this.props.postSignInSignUpTo,isModalOpen:this.state.isSignInSignUpModalOpen,onRequestClose:function(){return e.setState({isSignInSignUpModalOpen:!1})}}),l.a.createElement(u.Link,{to:"/search/communities",className:this.props.forceShowCommunities?"explore":"explore{modifierString}",activeClassName:"active",checkAuthOn:"click",title:"Explore"}),this.props.onToggleSidebar?this.props.isRightSidebarOpen?l.a.createElement("div",{className:"close"}):l.a.createElement("div",{className:"hamburger",onClick:this.props.onToggleSidebar}):null):null))}}]),t}(l.a.PureComponent),w=n.i(c.connect)(s,{fetchPixelInformation:b.a})(n.i(u.withRouter)(E))},890:function(e,t,n){"use strict";function i(e){var t=new Date(e),n=(t.getDate(),t.getMonth(),t.getFullYear(),Math.round((Date.now()-t)/6048e5));return n>51?Math.round(n/52)+"y":n+"w"}function o(e){var t=Math.floor(e/3600),n=Math.floor(e/60%60),i=e%60,o="";return t>0&&(o+=t+" "+l()("hour",t)+" "),n>0&&(o+=n+" "+l()("minute",n)+" "),i>0&&(o+=i+" "+l()("second",i)),o}function a(e){var t=new Date,n=new Date(e),i=null;if(i=t-n>6048e5?{type:"full",format:{day:"2-digit",month:"2-digit",year:"2-digit"}}:t-n>864e5?{type:"mid",format:{weekday:"short"}}:{type:"short",format:{hour:"2-digit",minute:"2-digit"}},c[i.type][e])return c[i.type][e];var o=n.toLocaleString([],i.format);return c[i.type][e]=o,o}function s(e){return e?(e instanceof Date||(e=new Date(e)),e.toLocaleString([],{day:"2-digit",month:"short",year:"numeric"})):null}t.d=i,t.a=o,t.c=a,t.b=s;var r=n(132),l=n.n(r),c={full:{},mid:{},short:{}}},891:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser")}}n.d(t,"a",function(){return w});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(133)),d=n(892),p=n(38),h=n(15),m=(n.n(h),n(323)),f=n(896),g=n.n(f),v=n(890),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return a(t,e),y(t,[{key:"onClick",value:function(){this.props.isFollowing?window.confirm("Are you sure you want to unfollow "+this.props.displayName+"?")&&this.props.onClick():this.props.onClick()}},{key:"render",value:function(){return l.a.createElement("div",{className:"action-container",onClick:this.onClick},this.props.isFollowing?l.a.createElement("button",{className:"action-button following"},"Following"):l.a.createElement("button",{className:"action-button follow"},"Follow"))}}]),t}(l.a.PureComponent),k=n.i(m.a)(b),E=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleUserFollow=n.toggleUserFollow.bind(n),n.onContentClick=n.onContentClick.bind(n),n.handleBioChange=n.handleBioChange.bind(n),n.onKeyPressForBio=n.onKeyPressForBio.bind(n),n.onDoneEditingBio=n.onDoneEditingBio.bind(n),n.state={hasCommunityBio:!(!e.communityId||!e.users.getIn([e.userId,"communitiesBio",e.communityId],!1)),hasBio:!!e.users.getIn([e.userId,"bio"],!1),byline:e.byline?e.byline:e.communityId?e.users.getIn([e.userId,"communitiesBio",e.communityId],e.users.getIn([e.userId,"bio"],"")):e.users.getIn([e.userId,"bio"],""),isEditingBio:!1},n}return a(t,e),y(t,[{key:"toggleUserFollow",value:function(){var e=this.props.userId;this.props.toggleUserFollow(e)}},{key:"onContentClick",value:function(e){this.props.shouldLinkToUser?h.browserHistory.push("/profile/"+this.props.userId):e.target.classList.contains("byline")&&this.props.isBioEditable&&this.setState({isEditingBio:!0})}},{key:"handleBioChange",value:function(e){this.setState({byline:e.target.value})}},{key:"onKeyPressForBio",value:function(e){13==(e.code||e.which)&&this.onDoneEditingBio()}},{key:"onDoneEditingBio",value:function(){this.props.communityId?this.props.editCommunityBio(this.props.communityId,this.state.byline):this.props.editProfile(this.props.currentLoggedInUser,{bio:this.state.byline},!1),this.setState({isEditingBio:!1,hasCommunityBio:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({hasCommunityBio:!(!e.communityId||!e.users.getIn([e.userId,"communitiesBio",e.communityId],!1)),hasBio:!!e.users.getIn([e.userId,"bio"],!1),byline:e.byline?e.byline:e.communityId?e.users.getIn([e.userId,"communitiesBio",e.communityId],e.users.getIn([e.userId,"bio"],"")):e.users.getIn([e.userId,"bio"],"")})}},{key:"render",value:function(){var e=this,t=this.props.users.get(this.props.userId);if(!t)return l.a.createElement("div",{className:"user-box"},l.a.createElement("div",{onClick:this.onContentClick},l.a.createElement(u.a,{className:"avatar-image",size:"30",src:g.a,name:"C L"})),l.a.createElement("div",{className:"shifted-right"},l.a.createElement("div",{className:"byline"},"Ask a question or start a pollâ€¦")));var i=this.state.byline,o="avatar-image";o+=this.props.flair?" flair "+this.props.flair:"",o+=this.props.shouldLinkToUser?" clickable":"";var a="user-box box";return a+=this.props.isCompact?" compact":"",a+=this.props.isSelected?" selected":"",l.a.createElement("div",{className:a,onClick:this.props.onClick?function(){return e.props.onClick(e.props.userId)}:null},this.props.rank?l.a.createElement("div",{className:"sidebar-label rank"},this.props.rank,"."):null,l.a.createElement("div",{onClick:this.onContentClick},l.a.createElement(u.a,{className:o,size:"30",name:t.get("displayName"),src:t.get("avatarUrl")})),l.a.createElement("div",{className:this.props.shouldLinkToUser?"shifted-right clickable":"shifted-right"},this.props.hideName?null:l.a.createElement("span",{className:"name",onClick:this.onContentClick},t.get("displayName")),this.props.timeAgoByline?l.a.createElement("span",{className:"byline",onClick:this.onContentClick},l.a.createElement(d.a,{date:this.props.timeAgoByline})):null,!i&&!this.props.isBioEditable||this.props.hideByline||this.props.timeAgoByline?null:this.state.isEditingBio?l.a.createElement("div",{style:{lineHeight:0}},l.a.createElement("input",{type:"text",maxLength:"60",className:"bio-input",autoFocus:"autofocus",placeholder:"Help others understand your experience with this topic",value:this.state.byline,onChange:this.handleBioChange,onKeyPress:this.onKeyPressForBio}),l.a.createElement("span",{className:"thin-button",onClick:this.onDoneEditingBio},"Done")):l.a.createElement("span",{className:"byline",onClick:this.onContentClick},i,this.props.isBioEditable?this.props.communityId?this.state.hasCommunityBio?l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," (Edit) "):l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," Set Community Bio "):this.state.hasBio?l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," (Edit) "):l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," Set Bio "):null),this.props.acceptIgnoreButtons?l.a.createElement("div",{className:"accept-ignore-buttons"},l.a.createElement("button",{className:"action-button accept",onClick:function(){return e.props.acceptUser(e.props.userId)}},"Accept"),l.a.createElement("button",{className:"action-button ignore",onClick:function(){return e.props.ignoreUser(e.props.userId)}},"Ignore")):null,this.props.undoAcceptButton?l.a.createElement("div",{className:"accept-ignore-buttons"},l.a.createElement("button",{className:"action-button accept",onClick:function(){return e.props.undoAcceptUser(e.props.userId)}},"Accepted")):null,this.props.undoIgnoreButton?l.a.createElement("div",{className:"accept-ignore-buttons"},l.a.createElement("button",{className:"action-button ignore",onClick:function(){return e.props.undoIgnoreUser(e.props.userId)}},"Ignored")):null),void 0!=this.props.score?l.a.createElement("div",{className:"label score"},this.props.score):null,void 0!=this.props.timestamp?l.a.createElement("div",{className:"label timestamp"},n.i(v.c)(this.props.timestamp)):null,this.props.isUnread?l.a.createElement("div",{className:"unread-dot"}):l.a.createElement("div",{className:"unread-dot read"}),this.props.addButton?l.a.createElement("div",{className:"action-container"},l.a.createElement("button",{className:"action-button add",onClick:function(){return e.props.addUser(e.props.userId)}},"Add")):this.props.removeButton&&this.props.userId!=this.props.currentLoggedInUser?l.a.createElement("div",{className:"action-container"},l.a.createElement("button",{className:"action-button remove",onClick:function(){return e.props.removeUser(e.props.userId)}},"Remove")):this.props.userId==this.props.currentLoggedInUser||this.props.hideFollowButton?null:l.a.createElement(k,{onClick:this.toggleUserFollow,allowLurker:!0,displayName:t.get("displayName"),isFollowing:t.get("isFollowing")}))}}]),t}(l.a.PureComponent),w=n.i(c.connect)(s,{toggleUserFollow:p.m,editCommunityBio:p.y,editProfile:p.h})(n.i(h.withRouter)(E))},892:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),r=n.n(s),l=n(893),c=n.n(l),u=n(890),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),d(t,[{key:"render",value:function(){var e=this.props.date,t=n.i(u.d)(e);return Date.now()-new Date(e)<6048e5?r.a.createElement(c.a,{date:e}):r.a.createElement("span",null,t)}}]),t}(r.a.PureComponent);t.a=p},893:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR=t.MONTH=t.WEEK=t.DAY=t.HOUR=t.MINUTE=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=function(){function e(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var s,r=e[Symbol.iterator]();!(i=(s=r.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{!i&&r.return&&r.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=n(1),p=i(d),h=n(905),m=i(h),f=n(904),g=i(f),v=t.MINUTE=60,y=t.HOUR=60*v,b=t.DAY=24*y,k=t.WEEK=7*b,E=t.MONTH=30*b,w=t.YEAR=365*b,C=function(e){function t(){var e,n,i,o;a(this,t);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.isStillMounted=!1,i.tick=function(e){if(i.isStillMounted&&i.props.live){var t=(0,g.default)(i.props.date).valueOf();if(!t)return void console.warn("[react-timeago] Invalid Date provided");var n=i.props.now(),o=Math.round(Math.abs(n-t)/1e3),a=o<v?1e3:o<y?1e3*v:o<b?1e3*y:0,s=Math.min(Math.max(a,1e3*i.props.minPeriod),1e3*i.props.maxPeriod);s&&(i.timeoutId=setTimeout(i.tick,s)),e||i.forceUpdate()}},o=n,s(i,o)}return r(t,e),u(t,[{key:"componentDidMount",value:function(){this.isStillMounted=!0,this.props.live&&this.tick(!0)}},{key:"componentDidUpdate",value:function(e){this.props.live===e.live&&this.props.date===e.date||(!this.props.live&&this.timeoutId&&clearTimeout(this.timeoutId),this.tick())}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1,this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}},{key:"render",value:function(){var e=this.props,t=e.date,n=(e.formatter,e.component),i=(e.live,e.minPeriod,e.maxPeriod,e.title),a=e.now,s=o(e,["date","formatter","component","live","minPeriod","maxPeriod","title","now"]),r=(0,g.default)(t).valueOf();if(!r)return null;var u=a(),d=Math.round(Math.abs(u-r)/1e3),h=r<u?"ago":"from now",f=d<v?[Math.round(d),"second"]:d<y?[Math.round(d/v),"minute"]:d<b?[Math.round(d/y),"hour"]:d<k?[Math.round(d/b),"day"]:d<E?[Math.round(d/k),"week"]:d<w?[Math.round(d/E),"month"]:[Math.round(d/w),"year"],C=c(f,2),I=C[0],S=C[1],N=void 0===i?"string"==typeof t?t:(0,g.default)(t).toISOString().substr(0,16).replace("T"," "):i;"time"===n&&(s.dateTime=(0,g.default)(t).toISOString());var P=m.default.bind(null,I,S,h);return p.default.createElement(n,l({},s,{title:N}),this.props.formatter(I,S,h,r,P))}}]),t}(d.Component);C.displayName="TimeAgo",C.defaultProps={live:!0,component:"time",minPeriod:0,maxPeriod:1/0,formatter:m.default,now:function(){return Date.now()}},t.default=C},896:function(e,t,n){e.exports=n.p+"b38594fdb244e14f9de09f673844f2f7.png"},898:function(e,t,n){"use strict";function i(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function o(e,t,n){r(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var i=t[n];r(Array.isArray(i),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,i)}function a(e,t){if(r("object"==typeof t,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",f.join(", "),p),l.call(t,p))return r(1===Object.keys(t).length,"Cannot have more than one key in an object with %s",p),t[p];var n=i(e);if(l.call(t,h)){var v=t[h];r(v&&"object"==typeof v,"update(): %s expects a spec of type 'object'; got %s",h,v),r(n&&"object"==typeof n,"update(): %s expects a target of type 'object'; got %s",h,n),s(n,t[h])}l.call(t,c)&&(o(e,t,c),t[c].forEach(function(e){n.push(e)})),l.call(t,u)&&(o(e,t,u),t[u].forEach(function(e){n.unshift(e)})),l.call(t,d)&&(r(Array.isArray(e),"Expected %s target to be an array; got %s",d,e),r(Array.isArray(t[d]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),t[d].forEach(function(e){r(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),n.splice.apply(n,e)})),l.call(t,m)&&(r("function"==typeof t[m],"update(): expected spec of %s to be a function; got %s.",m,t[m]),n=t[m](n));for(var y in t)g.hasOwnProperty(y)&&g[y]||(n[y]=a(e[y],t[y]));return n}var s=n(9),r=n(2),l={}.hasOwnProperty,c="$push",u="$unshift",d="$splice",p="$set",h="$merge",m="$apply",f=[c,u,d,p,h,m],g={};f.forEach(function(e){g[e]=!0}),e.exports=a},899:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),r=n.n(s),l=n(59),c=n.n(l),u=n(136),d=n(17),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){void 0!=e.isModalOpen&&d.a&&(e.isModalOpen?document.getElementById("app").style.display="none":document.getElementById("app").style.display="")}},{key:"componentWillUnmount",value:function(){d.a&&(document.getElementById("app").style.display="")}},{key:"render",value:function(){return r.a.createElement(c.a,{isOpen:this.props.isModalOpen,onRequestClose:this.props.onRequestClose,className:"modal-content signup-modal-hack",overlayClassName:"modal-overlay"},r.a.createElement("div",{className:"close-button",onClick:this.props.onRequestClose}),this.props.actionBlockedMessage?r.a.createElement("div",{className:"sign-in-message"},"You need to be signed in to complete this action"):null,r.a.createElement(u.a,{to:this.props.postSignInSignUpTo,onComplete:this.props.onRequestClose,isModal:!0}))}}]),t}(r.a.PureComponent);t.a=h},901:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(946),c=n(31),u=i(c),d=n(1),p=i(d),h=n(950),m=i(h),f=n(906),g=i(f),v=n(951),y=(i(v),n(952)),b=i(y),k=n(953),E=i(k),w=n(955),C=i(w),I=n(958),S=i(I),N={topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},P=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refElement=function(e){return n._ref=e},n}return s(t,e),r(t,[{key:"componentWillMount",value:function(){if((0,b.default)(this.props.children),this.props.scrollableParent)throw new Error("The `scrollableParent` prop has changed name to `scrollableAncestor`.")}},{key:"componentDidMount",value:function(){var e=this;t.getWindow()&&(this.cancelInitialTimeout=(0,C.default)(function(){e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=(0,l.addEventListener)(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=(0,l.addEventListener)(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)}))}},{key:"componentWillReceiveProps",value:function(e){(0,b.default)(e.children)}},{key:"componentDidUpdate",value:function(){t.getWindow()&&this.scrollableAncestor&&this._handleScroll(null)}},{key:"componentWillUnmount",value:function(){t.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelInitialTimeout&&this.cancelInitialTimeout())}},{key:"_findScrollableAncestor",value:function(){var e=this.props,t=e.horizontal,n=e.scrollableAncestor;if(n)return(0,S.default)(n);for(var i=this._ref;i.parentNode;){if((i=i.parentNode)===document.body)return window;var o=window.getComputedStyle(i),a=t?o.getPropertyValue("overflow-x"):o.getPropertyValue("overflow-y"),s=a||o.getPropertyValue("overflow");if("auto"===s||"scroll"===s)return i}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=(0,E.default)(t),i=this._previousPosition;if(this._previousPosition=n,i!==n){var o={currentPosition:n,previousPosition:i,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};this.props.onPositionChange.call(this,o),n===g.default.inside?this.props.onEnter.call(this,o):i===g.default.inside&&this.props.onLeave.call(this,o);var a=i===g.default.below&&n===g.default.above,s=i===g.default.above&&n===g.default.below;this.props.fireOnRapidScroll&&(a||s)&&(this.props.onEnter.call(this,{currentPosition:g.default.inside,previousPosition:i,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),this.props.onLeave.call(this,{currentPosition:n,previousPosition:g.default.inside,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e=this.props.horizontal,t=this._ref.getBoundingClientRect(),n=t.left,i=t.top,o=t.right,a=t.bottom,s=e?n:i,r=e?o:a,l=void 0,c=void 0;this.scrollableAncestor===window?(l=e?window.innerWidth:window.innerHeight,c=0):(l=e?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,c=e?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var u=this.props,d=u.bottomOffset,p=u.topOffset;return{waypointTop:s,waypointBottom:r,viewportTop:c+(0,m.default)(p,l),viewportBottom:c+l-(0,m.default)(d,l)}}},{key:"render",value:function(){var e=this,t=this.props.children;if(!t)return p.default.createElement("span",{ref:this.refElement,style:{fontSize:0}});var n=function(n){e.refElement(n),t.ref&&t.ref(n)};return p.default.cloneElement(t,{ref:n})}}]),t}(p.default.Component);t.default=P,P.propTypes={children:u.default.element,debug:u.default.bool,onEnter:u.default.func,onLeave:u.default.func,onPositionChange:u.default.func,fireOnRapidScroll:u.default.bool,scrollableAncestor:u.default.any,horizontal:u.default.bool,topOffset:u.default.oneOfType([u.default.string,u.default.number]),bottomOffset:u.default.oneOfType([u.default.string,u.default.number])},P.above=g.default.above,P.below=g.default.below,P.inside=g.default.inside,P.invisible=g.default.invisible,P.getWindow=function(){if("undefined"!=typeof window)return window},P.defaultProps=N,P.displayName="Waypoint",e.exports=t.default},903:function(e,t,n){e.exports=n.p+"d106b1f59ca10ab9ae13c149249d2e6d.png"},904:function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return Array.isArray(e)?e:Array.from(e)}function a(e){var t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;var n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;var a=n.map(function(e){return parseInt(e)}),s=o(a),r=s[0],l=s[1],c=s.slice(2),u=[r,l-1].concat(i(c));return new Date(Date.UTC.apply(Date,i(u)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},905:function(e,t,n){"use strict";function i(e,t,n){return 1!==e&&(t+="s"),e+" "+t+" "+n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={above:"above",inside:"inside",below:"below",invisible:"invisible"},e.exports=t.default},907:function(e,t,n){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return g}),n.d(t,"d",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return b});var s=n(137),r=n(38),l=n(17),c=n(32),u=n(37),d=(n.n(u),n(1)),p=n.n(d),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function(){function e(){var t=this;if(a(this,e),this.images={},this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loadImage=this.loadImage.bind(this),this.isImageLoaded=this.isImageLoaded.bind(this),n.i(c.f)()){document.addEventListener("lazybeforeunveil",function(e){var n=e.target,i=n.getAttribute("data-bg"),o=n.getAttribute("data-bg-comp");i&&(o&&t.loadImage(o),t.loadImage(i),e.preventDefault())});var i=window.loadedImages||[],o=!0,l=!1,u=void 0;try{for(var d,p=i[Symbol.iterator]();!(o=(d=p.next()).done);o=!0){var h=d.value;this.images[h]={status:"finished"},s.a.dispatch(n.i(r.p)(["loadedImages",h,"status"],"finished"))}}catch(e){l=!0,u=e}finally{try{!o&&p.return&&p.return()}finally{if(l)throw u}}}}return m(e,[{key:"onLoad",value:function(e){this.images[e].status="finished",s.a.dispatch(n.i(r.p)(["loadedImages",e,"status"],"finished"))}},{key:"onError",value:function(e){this.images[e].status="error",s.a.dispatch(n.i(r.p)(["loadedImages",e,"status"],"error"))}},{key:"isImageLoaded",value:function(e){if(!e||l.c)return!1;var t=this.images[e];return!(!t||"finished"!=t.status)}},{key:"loadImage",value:function(e){var t=this;if(!e||l.c)return null;var i=this.isImageLoaded(e);if(i)return i;if(this.images[e]&&"loading"==this.images[e].status)return!1;var o=new Image;return o.src=e,o.complete||o.width+o.height>0?(this.images[e]={status:"finished"},s.a.dispatch(n.i(r.p)(["loadedImages",e,"status"],"finished")),!0):(o.onload=function(){return t.onLoad(e)},o.onerror=function(){return t.onError(e)},this.images[e]={status:"loading"},s.a.dispatch(n.i(r.p)(["loadedImages",e,"status"],"loading")),!1)}}]),e}(),g=new f,v="https://img.imageboss.me/width/20/blur:2,webp:auto/",y=function(e){function t(e){return{loadedImages:e.get("loadedImages")}}var s=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.isImageLoaded=t.isImageLoaded.bind(t),t.filterImgURL=v,t.getOriginalImage=t.getOriginalImage.bind(t),t.getCompressedImage=t.getCompressedImage.bind(t),t.loadImage=t.loadImage.bind(t),t.getLargestAvailableWithSmallestFallback=t.getLargestAvailableWithSmallestFallback.bind(t),t}return o(n,t),m(n,[{key:"getOriginalImage",value:function(e){return e?e.replace(this.filterImgURL,""):null}},{key:"getCompressedImage",value:function(e){return e?-1==e.indexOf(this.filterImgURL)?this.filterImgURL+e:e:null}},{key:"isImageLoaded",value:function(e){return g.isImageLoaded(e)||this.props.loadedImages&&"finished"==this.props.loadedImages.getIn([e,"status"])}},{key:"loadImage",value:function(e){return g.loadImage(e)}},{key:"getLargestAvailableWithSmallestFallback",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(l.c||!l.j)return e;var n=this.getOriginalImage(e),i=this.getCompressedImage(e);return this.isImageLoaded(n)?n:this.isImageLoaded(i)?i:t?i:null}},{key:"render",value:function(){return!!e&&p.a.createElement(e,h({},this.props,{isImageLoaded:this.isImageLoaded,getOriginalImage:this.getOriginalImage,getCompressedImage:this.getCompressedImage,loadImage:this.loadImage,getLargestAvailableWithSmallestFallback:this.getLargestAvailableWithSmallestFallback,ref:"component"}))}}]),n}(p.a.Component);return n.i(u.connect)(t,{},null,{withRef:!0})(s)},b=y(function(e){return function(t){function n(e){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return o(n,t),m(n,[{key:"componentWillReceiveProps",value:function(e){this.props.image!=e.image&&this.refs.img&&this.refs.img.classList.contains("lazyloaded")&&(this.refs.img.className=this.refs.img.className.replace("lazyloaded","lazyload"))}},{key:"render",value:function(){if(!e)return!1;var t=this.props.image,n=this.props.className?this.props.className+" lazyload":"lazyload";if(l.c)return p.a.createElement(e,h({},this.props,{"data-bg":t,className:n}));var i=this.props.getLargestAvailableWithSmallestFallback(t,!1);return p.a.createElement(e,h({},this.props,{"data-bg":this.props.getOriginalImage(t),"data-bg-comp":this.props.getCompressedImage(t),className:n,ref:"img",style:i?{backgroundImage:"url("+i+")"}:{}}))}}]),n}(p.a.Component)}("div"))},908:function(e,t,n){"use strict";function i(e,t){var n=document.createElement("script");if(n.type="text/javascript",n.src=e.url,e.defer?(n.defer=1,n.async=0):n.async=1,t&&(n.onreadystatechange=t,n.onload=t),e.attrs){var i=!0,o=!1,a=void 0;try{for(var s,r=e.attrs[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;n.setAttribute(l.name,l.value||"")}}catch(e){o=!0,a=e}finally{try{!i&&r.return&&r.return()}finally{if(o)throw a}}}document.body.appendChild(n)}function o(e,t){var n=0,o=function(){++n>=e.length&&r(t)()},a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){i(c.value,o)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}}function a(){return window.paypal&&window.braintree&&window.braintree.paypalCheckout}function s(e,t){if(t){var n=!1,i=!0,o=!1,a=void 0;try{for(var s,r=y[e].cbs[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){if(s.value==t){n=!0;break}}}catch(e){o=!0,a=e}finally{try{!i&&r.return&&r.return()}finally{if(o)throw a}}n||y[e].cbs.push(t)}}function r(e){return function(){!y[e].firstLoadSetupCompleted&&y[e].firstLoadSetup&&(y[e].firstLoadSetup(),y[e].firstLoadSetupCompleted=!0);var t=!0,i=!1,o=void 0;try{for(var a,s=y[e].cbs[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){(0,a.value)()}}catch(e){i=!0,o=e}finally{try{!t&&s.return&&s.return()}finally{if(i)throw o}}y[e].cbs=[],y[e].isLoading=!1,y[e].hasLoaded=!0,f.a.dispatch(n.i(g.p)(["loadedScripts"],n.i(v.fromJS)(y)))}}function l(e){if(a())e&&e();else{var t=[{url:"https://www.paypalobjects.com/api/checkout.min.js",attrs:[{name:"data-version-4"}]},{url:"https://js.braintreegateway.com/web/3.32.0/js/client.min.js"},{url:"https://js.braintreegateway.com/web/3.32.0/js/paypal-checkout.min.js"}];if(e&&s("paypal",e),y.paypal.isLoading)return;y.paypal.isLoading=!0,o(t,"paypal")}}function c(e,t){if(t&&(y.stripe.tokenHandler=t),window.StripeCheckout)e&&e();else{if(e&&s("stripe",e),y.stripe.isLoading)return;y.stripe.isLoading=!0,y.stripe.firstLoadSetup=function(){window.stripeHandler=window.StripeCheckout.configure({key:m.d?"pk_live_HsiK0UoGAZj5FH3KYfE9X6cI":"pk_test_NQo2ZlWpgINif2edJlIZlmvG",image:"https://static.commonlounge.com/icon_small.png",name:"Compose Labs, Inc.",locale:"auto",zipCode:!0,token:function(e){y.stripe.tokenHandler&&y.stripe.tokenHandler(e)}})},i({url:"https://checkout.stripe.com/checkout.js"},r("stripe"))}}function u(e,t){d(e,{namespace:"ace",urls:[{url:"https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js",defer:!0}]})}function d(e,t){var n=t.namespace;if(y[n]&&y[n].hasLoaded)e&&e();else{if(y[n]||(y[n]={isLoading:!1,cbs:[]}),e&&s(n,e),y[n]&&y[n].isLoading)return;y[n].isLoading=!0,o(t.urls,n)}}function p(){c(),l()}function h(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.insertBefore(t,document.head.childNodes[document.head.childNodes.length-1].nextSibling)}t.e=a,t.f=l,t.g=c,t.b=u,t.a=d,t.d=p,t.c=h;var m=n(17),f=n(137),g=n(38),v=n(39),y=(n.n(v),{stripe:{isLoading:!1,cbs:[],firstLoadSetup:null,firstLoadSetupCompleted:!1,tokenHandler:null},paypal:{isLoading:!1,cbs:[]},sphereEngine:{isLoading:!1,cbs:[]}})},909:function(e,t,n){"use strict";function i(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:(e-=1,-n/2*(e*(e-2)-1)+t)}function o(){document.body.scrollTop=document.documentElement.scrollTop=0}n.d(t,"b",function(){return r}),t.a=o;var a=n(32),s=function(e,t,n){var o=e.scrollTop,a=t-o;!function t(s){s+=20;var r=i(s,o,a,n);e.scrollTop=r,s<n&&setTimeout(function(){t(s)},20)}(0)},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;"scrollBehavior"in document.documentElement.style&&!n.i(a.g)()?window.scroll({top:e,left:0,behavior:"smooth"}):s(document.scrollingElement,e,t)}},912:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{codeHighlightedText:e.get("codeHighlightedText"),customIdInfo:e.get("customIdInfo"),discussion:e.getIn(["discussions",t.discussionId]),currentUser:e.get("currentLoggedInUser")?e.getIn(["users",e.get("currentLoggedInUser")]):null,loadedImages:e.get("loadedImages")}}n.d(t,"a",function(){return _});var r=n(1),l=n.n(r),c=n(15),u=(n.n(c),n(37)),d=(n.n(u),n(39)),p=(n.n(d),n(1035),n(344)),h=n(17),m=n(32),f=n(131),g=n(999),v=n(983),y=n(1090),b=n(907),k=n(38),E=n(58),w=n(992),C=(n.n(w),n(326)),I=(n.n(C),n(323),n(1006)),S=n(136),N=n(982),P=n(826),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),T=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRef=n.setRef.bind(n),n.getHTML=n.getHTML.bind(n),n.onClick=n.onClick.bind(n),n.renderLatex=n.renderLatex.bind(n),n.handleSizeInfo=n.handleSizeInfo.bind(n),n.handleImage=n.handleImage.bind(n),n.handleLatex=n.handleLatex.bind(n),n.handeInitialSetupAndState=n.handeInitialSetupAndState.bind(n),n.goToPreviousSection=n.goToPreviousSection.bind(n),n.goToNextSection=n.goToNextSection.bind(n),n.logSectionEvent=n.logSectionEvent.bind(n),n.findUnreadSectionIndex=n.findUnreadSectionIndex.bind(n),n.hasCompletedSection=n.hasCompletedSection.bind(n),n.finishLastSection=n.finishLastSection.bind(n),n.showHash=n.showHash.bind(n),n.scrollToTop=n.scrollToTop.bind(n),n.areSectionsActive=n.areSectionsActive.bind(n),n.notifyExternal=n.notifyExternal.bind(n),n.setMode=n.setMode.bind(n),n.isVisible=n.isVisible.bind(n),n.setSectionIndex=n.setSectionIndex.bind(n),n.onFeedbackFormSubmitted=n.onFeedbackFormSubmitted.bind(n),n.markAsComplete=n.markAsComplete.bind(n),n.refreshContentcomponents=n.refreshContentcomponents.bind(n),n.getCodeHighlightedText=n.getCodeHighlightedText.bind(n),n.hasVideo=n.hasVideo.bind(n),n.onStatusUpdate=n.onStatusUpdate.bind(n),n.getVideoPlayer=n.getVideoPlayer.bind(n),n.getStyleFromProperties=n.getStyleFromProperties.bind(n),n.clientWidth=null,n.state=n.handeInitialSetupAndState(),n}return a(t,e),x(t,[{key:"getStyleFromProperties",value:function(){var e=this.props.blockProperties;if(e){if(e.overlay)return{};var t=e.positionX||"auto",n=e.positionY||"auto",i=e.scale||"1.0",o=e.rotate||"0",a=e.maxWidth||"none";return{position:"auto"!=t||"auto"!=n?"absolute":"relative",left:"auto"!=t?t+"%":"auto",top:"auto"!=n?n+"%":"auto",transform:"scale("+i+") rotate("+o+"deg)",maxWidth:"none"!=a?a+"px":"none"}}}},{key:"handleSizeInfo",value:function(e,t){if(this.node){this.clientWidth||(this.clientWidth=this.node.clientWidth);var n=parseInt(e.getAttribute("data-scale")),i=parseInt(e.getAttribute("data-width")),o=parseInt(e.getAttribute("data-height"));i&&o?(i>this.clientWidth&&(o=Math.round(this.clientWidth/i*o)),t.style.width=n?n+"%":i+"px",t.style.height=(n?o*n/100:o)+"px"):n&&(t.style.width=n+"%")}}},{key:"handleImage",value:function(e,t,n){if(-1==t.indexOf("<img"))return t;var i=Array.from(e.getElementsByTagName("img")),o=!0,a=!1,s=void 0;try{for(var r,l=i[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var c=r.value;if(h.j){var u=c.src||c.getAttribute("data-bg");if(u)if(-1==u.indexOf("static.commonlounge.com")||n.skipProgressiveLoading)c.getAttribute("data-scale")&&(c.style.width=c.getAttribute("data-scale")+"%");else{var d=this.props.getOriginalImage(u),p=this.props.getCompressedImage(u);if(this.props.isImageLoaded(d))u=d,c.style.width=c.getAttribute("data-scale")?c.getAttribute("data-scale")+"%":"",c.style.height="",c.className=c.className.replace("full-width-img",""),u!=c.src&&(c.src=u);else if(this.props.isImageLoaded(p))u=p,-1==c.className.indexOf("full-width-img lazyload")&&(c.className+=" full-width-img lazyload"),c.style.display="block",c.setAttribute("data-bg",d),this.handleSizeInfo(c,c),c.previousSibling&&c.previousSibling.classList.contains("full-width-img-placeholder-div")&&c.previousSibling.parentNode.removeChild(c.previousSibling),u!=c.src&&(c.src=u);else{u=p,c.style.display="none";var m=document.createElement("div");m.className="full-width-img-placeholder-div lazyload",m.setAttribute("data-bg",u),this.handleSizeInfo(c,m),c.parentNode.insertBefore(m,c)}}}}}catch(e){a=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}}},{key:"handleLatex",value:function(e,t){if(-1==t.indexOf('class="latex"'))return t;var n=Array.from(e.getElementsByClassName("latex")),i=!0,o=!1,a=void 0;try{for(var s,r=n[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value,c=document.createElement("script");c.type="math/tex; "+("SPAN"==l.nodeName?"":"mode=display"),"text"in c?c.text=l.textContent:c.textContent=l.textContent;document.createElement("SPAN"==l.nodeName?"span":"div").appendChild(c),l.parentNode.replaceChild(c,l)}}catch(e){o=!0,a=e}finally{try{!i&&r.return&&r.return()}finally{if(o)throw a}}}},{key:"getCodeHighlightedText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;return n.i(y.a)(e),t.codeHighlightedText&&t.codeHighlightedText.get(e)||e}},{key:"getHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.html;if(!t||h.c)return t;if(-1==t.indexOf('class="latex"')&&-1==t.indexOf("<img"))return t;var n=document.createElement("div");return n.innerHTML=t,this.handleImage(n,t,e),this.handleLatex(n,t),n.innerHTML}},{key:"renderLatex",value:function(){var e=this;this.node&&!h.c&&n.i(p.a)({},function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.node],function(){})})}},{key:"findUnreadSectionIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.contentComponents.sectionNodes;if(!e.discussion||!e.discussion.get("sections"))return 0;for(var n=t.length-1;n>0;n--)if(!this.hasCompletedSection(n,t,e)&&(0==n||n>0&&this.hasCompletedSection(n-1,t,e)))return n;return 0}},{key:"notifyExternal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.mode,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.currentSectionIndex,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.contentComponents.sectionNodes;this.props.setMode&&this.props.setMode(e,t,n?n.length:null)}},{key:"hasVideo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.discussion&&e.discussion.getIn(["hasVideo"])}},{key:"hasLoadedVideoData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return e.discussion&&e.discussion.getIn(["videoInfo","video","outputConfig"],null)}},{key:"handeInitialSetupAndState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this.refreshContentcomponents(e);if(!t)return{};var i=t.sectionNodes,o=this.hasVideo(e)&&e.allowVideo?"video":i&&e.allowSectionCards?"section":"scroll";e.currentUser&&("scroll"==e.currentUser.get("articleViewSetting")?o="scroll":i&&e.allowSectionCards&&"section"==e.currentUser.get("articleViewSetting")?o="section":this.hasVideo(e)&&e.allowVideo&&"video"==e.currentUser.get("articleViewSetting")&&(o="video"));var a=0,s=!1,r=!1;return"true"==n.i(E.c)("video")&&this.hasVideo(e)&&(o="video","true"==n.i(E.c)("completed")&&e.currentUser&&!1!==e.canView&&(s=!0,this.markAsComplete(e),this.needToScrollToReviews=!0,r=!0)),"section"==o&&!1!==e.canView&&("true"==n.i(E.c)("completed")&&e.currentUser?(a=i.length-1,s=!0,this.markAsComplete(e),this.needToScrollToReviews=!0):(a=this.findUnreadSectionIndex(e,i),this.logSectionEvent("start",a,i,e))),this.notifyExternal(o,a,i),{contentComponents:t,mode:o,currentSectionIndex:a,showFeedbackForm:!1,showFinalScreen:s,isVideoFeedbackFormShown:r}}},{key:"refreshContentcomponents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""!=e.html&&!e.html)return null;var n=this.breakHtmlIntoComponents(e);if(!t)return n;this.setState({contentComponents:n})}},{key:"componentWillReceiveProps",value:function(e){if(this.props.html!=e.html)this.setState(this.handeInitialSetupAndState(e));else{if(this.props.loadedImages!=e.loadedImages&&this.refreshContentcomponents(e,!0),this.props.customIdInfo!=e.customIdInfo){var t=this.breakHtmlIntoComponents(e);this.setState({contentComponents:t})}if(this.props.codeHighlightedText!=e.codeHighlightedText){var n=this.breakHtmlIntoComponents(e);this.setState({contentComponents:n})}if(e.currentUser&&!this.props.currentUser&&this.state.showFinalScreen&&this.markAsComplete(e),!this.hasVideo(this.props)&&this.hasVideo(e)&&e.allowVideo&&e.currentUser&&"video"==e.currentUser.get("articleViewSetting")&&this.setState({mode:"video"}),!this.hasLoadedVideoData(this.props)&&this.hasLoadedVideoData(e)&&e.allowEmbeddedVideo){var i=this.breakHtmlIntoComponents(e);this.setState({contentComponents:i})}}}},{key:"componentDidMount",value:function(){this.renderLatex()}},{key:"componentDidUpdate",value:function(){this.renderLatex(),this.needToScrollToReviews&&this.refs.feedbackSection&&(this.scrollToTop(!0),this.needToScrollToReviews=!1)}},{key:"setRef",value:function(e){this.node=e,this.props.setRef&&this.props.setRef(e)}},{key:"breakHtmlIntoComponents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=this.getHTML(e),i=l.a.createElement("div",{dangerouslySetInnerHTML:n.i(f.i)(t)}),o={nodes:i,sectionNodes:null};if(!t)return o;if(h.c){if(-1==t.indexOf('class="cl-section-separator"'))return o;try{var a=t.split(new RegExp('<div class="cl-section-separator" data-id="([0-9a-f]+)"></div>')),s=[],r="",c=!0,u=!1,d=void 0;try{for(var p,m=a[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var g=p.value;""!=g&&(g.match(/^[0-9a-f]{8}$/)?(s.push({nodes:[l.a.createElement("div",{dangerouslySetInnerHTML:n.i(f.i)(r)})],id:g}),r=""):r+=g)}}catch(e){u=!0,d=e}finally{try{!c&&m.return&&m.return()}finally{if(u)throw d}}return{nodes:i,sectionNodes:s}}catch(e){return console.log(e),o}}if(-1==t.indexOf('class="custom-code-ref"')&&-1==t.indexOf("class='custom-code-ref'")&&-1==t.indexOf('class="cl-custom-element"')&&-1==t.indexOf("class='cl-custom-element'")&&-1==t.indexOf('class="cl-section-separator"')&&-1==t.indexOf("class='cl-section-separator'"))return t=this.getCodeHighlightedText(t,e),{nodes:l.a.createElement("div",{dangerouslySetInnerHTML:n.i(f.i)(t)}),sectionNodes:null};var y=document.createElement("div");y.innerHTML=t;var b="",k=[],E=[],w=0,C=[],I=!1,S=!0,P=!1,O=void 0;try{for(var x,T=Array.from(y.children)[Symbol.iterator]();!(S=(x=T.next()).done);S=!0){var _=x.value,L=_.nodeName.toLowerCase();if("p"!=L||"&nbsp;"!=_.innerHTML||!(_.previousSibling&&"cl-section-separator"==_.previousSibling.className||_.nextSibling&&"cl-section-separator"==_.nextSibling.className))if("pre"!=L)if(b+=_.outerHTML,"div"==L&&"cl-custom-element"==_.className){if("mc-question"==_.getAttribute("data-type")){if(k.push(l.a.createElement("div",{dangerouslySetInnerHTML:n.i(f.i)(b)})),I=!0,e.hideCustomElements)k.push(l.a.createElement("div",{className:"spoiler"},"Question blocks are not supported in edit history."));else{var M=_.getAttribute("data-id");k.push(l.a.createElement(v.a,{questionId:M,loggedOutModalInPlace:this.props.loggedOutModalInPlace,preventFullScreenCodeBlock:this.props.preventFullScreenCodeBlock,to:this.props.isInVideo&&this.props.discussionId&&encodeURIComponent("/discussion/"+this.props.discussionId+"/?video=true")}))}b=""}}else"div"==L&&"cl-section-separator"==_.className?(k.push(l.a.createElement("div",{dangerouslySetInnerHTML:n.i(f.i)(b)})),E.push({nodes:k.slice(w),id:_.getAttribute("data-id"),headingHashes:C,hasQuestions:I}),w=k.length,b="",C=[],I=!1):("h1"==L||"h2"==L)&&_.children&&_.children[0]&&-1!=_.children[0].className.indexOf("user-content-")&&C.push(_.children[0].getAttribute("href").replace("#",""));else if(_.children&&_.children[0]&&"custom-code-ref"==_.children[0].className){var A=_.children[0],j=n.i(f.f)({node:A});if(j){var D=e.customIdInfo&&e.customIdInfo.getIn(["codeblock",j]);if("1"==n.i(f.f)({node:A,attr:"hide"}))continue;var R="1"==n.i(f.f)({node:A,attr:"output_only"});R||(D&&_.setAttribute("data-language",D.getIn(["init_values",D.get("default_language").toString(),"highlightjs"])),b+=this.getCodeHighlightedText(_.outerHTML,e)),b&&k.push(l.a.createElement("div",{dangerouslySetInnerHTML:n.i(f.i)(b)})),k.push(l.a.createElement(N.a,{codeBlockId:j,additionalHeight:this.props.additionalHeight,preventFullScreen:this.props.preventFullScreenCodeBlock,showDefaultOutput:"1"==n.i(f.f)({node:A,attr:"show_output"}),showOutputOnly:R})),b=""}else"0"==n.i(f.f)({node:A,attr:"number"})&&n.i(f.c)(_,"skip-numbering"),"0"==n.i(f.f)({node:A,attr:"highlight"})?b+=_.outerHTML:b+=this.getCodeHighlightedText(_.outerHTML,e)}else b+=this.getCodeHighlightedText(_.outerHTML,e)}}catch(e){P=!0,O=e}finally{try{!S&&T.return&&T.return()}finally{if(P)throw O}}return b&&k.push(l.a.createElement("div",{dangerouslySetInnerHTML:n.i(f.i)(b)})),{nodes:k,sectionNodes:E.length>0?E:null}}},{key:"isVisible",value:function(){return this.refs.toggle&&n.i(m.k)(this.refs.toggle,this.props.additionalHeight||0)}},{key:"scrollToTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isVisible()||e&&h.a){var t=this.props.additionalHeight||0;C.animateScroll.scrollTo(this.refs.toggle.offsetTop-t+10,{duration:500})}}},{key:"setSectionIndex",value:function(e){var t={currentSectionIndex:e};this.state.showFinalScreen&&(t.showFinalScreen=!1),this.setState(t),this.scrollToTop(),this.notifyExternal(this.state.mode,e)}},{key:"goToPreviousSection",value:function(){this.state.showFinalScreen?this.setSectionIndex(this.state.contentComponents.sectionNodes.length-1):this.setSectionIndex(this.state.currentSectionIndex-1)}},{key:"goToNextSection",value:function(){var e=this.state.currentSectionIndex;this.logSectionEvent("complete",e),this.logSectionEvent("start",e+1),this.setSectionIndex(e+1)}},{key:"logSectionEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"complete",t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.contentComponents.sectionNodes,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.props;if(!(t<0||t>=n.length)){("complete"==e?i.completeDiscussionSection:i.startDiscussionSection)(i.discussionId,n[t].id)}}},{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"hasCompletedSection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.contentComponents.sectionNodes,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;if(!n.discussion||!this.props.discussion.get("sections"))return 0;var i=n.discussion.get("sections"),o=t[e];return!0===i.getIn([o.id,"hasCompleted"])}},{key:"showHash",value:function(e){if(!this.areSectionsActive())return!1;if(!this.state.contentComponents)return!1;if(0==e)return this.setSectionIndex(0),!0;for(var t=this.state.contentComponents.sectionNodes,n=0;n<t.length;n++)if(-1!=(t[n].headingHashes||[]).indexOf(e)){this.setSectionIndex(n);break}return!0}},{key:"areSectionsActive",value:function(){return"section"==this.state.mode}},{key:"setMode",value:function(e){this.setState({mode:e}),this.props.currentUser&&this.props.editProfile(this.props.currentUser.get("eid"),{articleView:e},!1),this.notifyExternal(e)}},{key:"markAsComplete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.discussion;!t.get("hasCompleted")&&e.currentUser&&e.toggleDiscussionCompleted(t.get("eid"),e.displayedPlaylist.get("discussion"))}},{key:"finishLastSection",value:function(){var e=this.state.currentSectionIndex;this.logSectionEvent("complete",e),this.markAsComplete(),this.setState({showFinalScreen:!0}),this.scrollToTop()}},{key:"onFeedbackFormSubmitted",value:function(){this.scrollToTop();var e=(this.props.discussion,this.props.displayedPlaylist),t=e&&e.getIn(["items","nextDiscussionIds"],n.i(d.List)()).get(0);t&&c.browserHistory.push("/discussion/"+t+("video"==this.state.mode?"?autoplay=1":""))}},{key:"onStatusUpdate",value:function(e){e&&this.markAsComplete(),this.setState({showFinalScreen:e,isVideoFeedbackFormShown:e})}},{key:"getVideoPlayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.discussion;if(t)return l.a.createElement(P.CLVideoPlayerContainer,{onStatusUpdate:this.onStatusUpdate,audio:t.getIn(["videoInfo","video","audioUrl"],null),blocks:t.getIn(["videoInfo","video","outputConfig"],null),toc:t.getIn(["videoInfo","video","additionalOutputData","tableOfContents"],null),videoId:t.getIn(["videoInfo","video","eid"],null),discussionId:t.get("eid")})}},{key:"render",value:function(){var e=this;if(!this.state.contentComponents)return null;var t=this.state.contentComponents.sectionNodes,i=this.state.currentSectionIndex,o=[];if(t)for(var a=0;a<t.length;a++)!function(n){o.push(l.a.createElement("div",{className:(n==i?"active dnr-section-active":"")+" "+(e.hasCompletedSection(n)?"completed":"")+" section-"+t[n].id+" "+(t[n].hasQuestions?"question":"")+" discussion-section-heading","data-section-id":t[n].id,onClick:function(){return e.setSectionIndex(n)}}))}(a);var s=null,r=this.props.discussion,u=r&&r.get("hasCompleted"),p=null,h=null;if(r){var m=r.get("canView"),f=this.props.displayedPlaylist,v=r.getIn(["rating","isRateable"],!1)&&m&&f,y=r.getIn(["feedbackPrompts"],[]).filter(function(e){return"default_rating"==e.type&&null!=e.response&&parseFloat(e.response)>=0}).length>0||r.getIn(["rating","myRating"],!1);s=v?l.a.createElement("div",{className:"feedback-section-wrapper",ref:"feedbackSection"},l.a.createElement(I.a,{discussionId:r.get("eid"),showFeedbackForm:!y,displayedPlaylistId:f.get("eid"),displayedPlaylistDiscussionId:f.get("discussion"),onSaveNotify:this.onFeedbackFormSubmitted,videoHack:this.state.isVideoFeedbackFormShown&&"video"==this.state.mode})):null;var b=f&&f.getIn(["items","nextDiscussionIds"],n.i(d.List)()).get(0);h=f&&l.a.createElement(c.Link,{to:"/discussion/"+b+("video"==this.state.mode?"?autoplay=1":"")},l.a.createElement("div",{className:"bold-button"},"Next Tutorial â†’")),this.state.showFinalScreen&&(p=this.props.currentUser?l.a.createElement("div",{className:"final-screen"},l.a.createElement("div",{className:"screen-heading"},"Congrats!"),l.a.createElement("div",{className:"screen-copy"},"You've completed ",l.a.createElement("strong",null,r.get("name"))),l.a.createElement("div",{className:"feedback-prompt"},s)):l.a.createElement("div",{className:"final-screen"},l.a.createElement("div",{className:"screen-heading"},"Congrats!"),l.a.createElement("div",{className:"screen-copy"},"You've completed ",l.a.createElement("strong",null,r.get("name"))),l.a.createElement("div",{className:"screen-copy"},"Log in to make sure you don't lose your progress."),l.a.createElement(S.a,{isSignUp:!0,to:encodeURIComponent("/discussion/"+r.get("eid")+"/?completed=true"+("video"==this.state.mode?"&video=true":"")),preventAutoFocus:!0})))}if(this.props.returnRawNodes)return l.a.createElement("div",O({className:this.props.className,style:this.props.style||this.getStyleFromProperties()||{},ref:this.setRef,onClick:this.onClick,key:this.props.key},this.props.additionalProps),this.state.contentComponents.nodes);var k=[l.a.createElement("div",{className:"select-type-button select-scroll-button "+("scroll"==this.state.mode?"active dnr-viewmode-active":""),onClick:function(){return e.setMode("scroll")},"data-viewmode":"scroll"},"Article")];return t&&this.props.allowSectionCards&&k.push(l.a.createElement("div",{className:"select-type-button select-cards-button "+(this.areSectionsActive()?"active dnr-viewmode-active":""),onClick:function(){return e.setMode("section")},"data-viewmode":"section"},"Cards")),r&&this.hasVideo()&&this.props.allowVideo&&k.push(l.a.createElement("div",{className:"select-type-button select-video-button "+("video"==this.state.mode?"active dnr-viewmode-active":""),onClick:function(){return e.setMode("video")},"data-viewmode":"video"},"Video ðŸŽ")),l.a.createElement("div",{className:"content-card-wrapper"},k.length>1&&l.a.createElement("div",{className:"cards-scroll-toggle",ref:"toggle"},l.a.createElement("span",{className:"label dark-gray with-bottom-padding large block"},"Choose your learning format:"),k),"video"==this.state.mode?this.state.showFinalScreen?[l.a.createElement("div",{className:"content-card video-review"},p),l.a.createElement("div",{className:"bold-button-row is-flex right-aligned"},h,l.a.createElement("div",{className:"bold-button secondary",onClick:function(){return e.onStatusUpdate(!1)}},"Back to Video"))]:!1===this.props.canView?l.a.createElement(g.a,null):this.getVideoPlayer():l.a.createElement("div",{className:this.areSectionsActive()?"content-card":"content-card scroll"},this.areSectionsActive()&&l.a.createElement(w.Sticky,{className:"discussion-section-headings",stickyStyle:{transform:"translateY("+(43+this.props.additionalHeight)+"px)",webkitTransform:"translateY("+(43+this.props.additionalHeight)+"px)",zIndex:4,borderColor:"#2F629E",paddingBottom:"10px",paddingTop:"10px"},topOffset:-(this.props.additionalHeight+43)},o),l.a.createElement("div",O({className:this.props.className,style:this.props.style||this.getStyleFromProperties()||{},ref:this.setRef,onClick:this.onClick,key:this.props.key},this.props.additionalProps),this.areSectionsActive()?this.state.showFinalScreen?p:t[i].nodes:this.state.contentComponents.nodes),this.areSectionsActive()?l.a.createElement("div",{className:"bold-button-row is-flex right-aligned"},i<t.length-1?l.a.createElement("div",{className:"bold-button",onClick:this.goToNextSection},"Next â†’"):this.state.showFinalScreen?h:l.a.createElement("div",{className:"bold-button",onClick:this.finishLastSection},u?"Finish":"Mark Completed"),i>0&&!this.state.showFinalScreen&&l.a.createElement("span",{className:"label dark-blue"},i+1," / ",t.length),i>0?l.a.createElement("div",{className:"bold-button secondary",onClick:this.goToPreviousSection},"Previous"):null):null,!1===this.props.canView?l.a.createElement("div",{className:"fadeout large-fadeout"}):null,!1===this.props.canView?l.a.createElement(g.a,null):null))}}]),t}(l.a.PureComponent),_=n.i(b.b)(n.i(u.connect)(s,{storeCode:k.q,logEvent:k.c,startDiscussionSection:k.r,completeDiscussionSection:k.s,toggleDiscussionCompleted:k.t,editProfile:k.h},null,{withRef:!0})(T))},916:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users")}}n.d(t,"a",function(){return y});var r=n(1),l=n.n(r),c=n(15),u=(n.n(c),n(37)),d=(n.n(u),n(39)),p=(n.n(d),n(136)),h=n(133),m=n(909),f=n(32),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),g(t,[{key:"componentDidMount",value:function(){this.documentHasVerticalScrollBar=n.i(f.l)()}},{key:"render",value:function(){var e=this;n.i(d.fromJS)(this.props.users.keySeq().toArray()).filter(function(t){return e.props.users.getIn([t,"avatarUrl"])}).slice(0,6).map(function(t,n){return l.a.createElement(h.a,{className:"avatar-image",size:"30",name:e.props.users.get(t).get("displayName"),src:e.props.users.get(t).get("avatarUrl"),key:n})});return l.a.createElement("div",{className:this.props.isVeryWide?"footer-wrapper very-wide":this.props.isWide?"footer-wrapper wide":"footer-wrapper",style:{backgroundColor:this.props.whiteBg?"white":"transparent"}},this.props.currentLoggedInUser||this.props.hideSignupForm?null:l.a.createElement("div",{className:"footer-sign-up-form"},l.a.createElement(p.a,{isSignUp:!0,to:this.props.to,entityId:this.props.entityId,action:this.props.action,preventAutoFocus:!0})),this.documentHasVerticalScrollBar?l.a.createElement("div",{className:"scroll-to-top-wrapper"},l.a.createElement("div",{className:"scroll-to-top zoom-on-hover zoom-to-normal",onClick:function(){return n.i(m.b)(0,200)}},l.a.createElement("span",{className:"back-text"},"Back to top"))):null,l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"sections"},l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"title"},"Popular Paths & Courses"),l.a.createElement("div",{className:"column"},l.a.createElement(c.Link,{to:"/discussion/35ccdb70826e434a876d612504297232"},"Machine Learning"),l.a.createElement(c.Link,{to:"/path/518e031b16c2483c995bb66587298dd4"},"Deep Learning"),l.a.createElement(c.Link,{to:"/path/8b524fb782f741a3a1c1a8493b873791"},"Natural Language Processing"),l.a.createElement(c.Link,{to:"/discussion/262fae2394504efa88215ca7c388eb4e"},"Big Data"),l.a.createElement(c.Link,{to:"/path/be59f08e4adc4640aa1a84b08cc7e8a1"},"Data Science"),l.a.createElement(c.Link,{to:"/discussion/8ecde661012f477dbbaf74084d959974"},"Bioinformatics"),l.a.createElement(c.Link,{to:"/discussion/d4a14f601eb44281b6c579e73d126cca"},"Algorithms"),l.a.createElement(c.Link,{to:"/discussion/4d18c0617215411d85db0cba0b96dc09"},"Cryptography"))),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"title blank"},"New Paths & Courses"),l.a.createElement("div",{className:"column"},l.a.createElement(c.Link,{to:"/path/1f88878c337a43d799322d0cc1444bda"},"Web Development"),l.a.createElement(c.Link,{to:"/path/bdc9fa8ceb064c89b1914c98ac81250f"},"UX & UI Design"),l.a.createElement(c.Link,{to:"/discussion/88c4daa8d7174371b1745a4e55382d61"},"Startups"),l.a.createElement(c.Link,{to:"/discussion/1013c511951f4c47a803c32c4e1ae0f2"},"Product Management"),l.a.createElement(c.Link,{to:"/path/be6e1e2809524098aaf4dc639b1b8bd9"},"Cryptocurrencies"),l.a.createElement(c.Link,{to:"/discussion/56e4a1dca24a4d459856ea9739cbd48a"},"Finance"),l.a.createElement(c.Link,{to:"/discussion/ef5b74cab54a4247a9b56d92438d8cc9"},"College Admissions"))),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"title"},"About Us"),l.a.createElement("div",{className:"column"},l.a.createElement(c.Link,{to:"/about"},"Our Mission"),l.a.createElement(c.Link,{to:"/contribute"},"How to Contribute"),l.a.createElement(c.Link,{to:"/upgrade"},"Upgrade to Pro"),l.a.createElement(c.Link,{to:"/referral"},"Get a Free Month"),l.a.createElement(c.Link,{to:"/community/ab1745cabb1440b79d1cc710a33a3bda/8a977abe99e84cd59e68f80f477a811e"},"Help and FAQ"),l.a.createElement(c.Link,{to:"/community/ab1745cabb1440b79d1cc710a33a3bda"},"CommonLounge Meta"),l.a.createElement("a",{target:"_blank",href:"http://composelabs.com/"},"Team"),l.a.createElement(c.Link,{to:"/privacy"},"Privacy, Terms & Refunds"))),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"title"},"Get in touch"),l.a.createElement("div",{className:"column"},l.a.createElement("a",{href:"mailto:hello@commonlounge.com"},"hello@commonlounge.com"),l.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/commonlounge"},"Facebook"),l.a.createElement("a",{target:"_blank",href:"https://twitter.com/commonlounge"},"Twitter"),l.a.createElement("span",{className:"contact-info"},"San Francisco, CA, USA"),l.a.createElement("span",{className:"contact-info"},"+1 844 318 7406")))),l.a.createElement("div",{className:"copyright label"},"Copyright 2016-",(new Date).getFullYear(),", Compose Labs Inc. All rights reserved.")))}}]),t}(l.a.PureComponent),y=n.i(u.connect)(s)(v)},929:function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(1),l=n.n(r),c=n(898),u=n.n(c),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.state={highlightedOptions:[]},n.onOptionClick=n.onOptionClick.bind(n),n.isOptionHighlighted=n.isOptionHighlighted.bind(n),n.resetHighlights=n.resetHighlights.bind(n),n.onFocus=n.onFocus.bind(n),n.props.onChange(n.props.initialSearchTerm||"",n.props.type),n}return s(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){this.props.selectedOptions!=e.selectedOptions&&this.resetHighlights()}},{key:"isOptionHighlighted",value:function(e){return-1!=this.state.highlightedOptions.indexOf(e.get("name"))}},{key:"onOptionClick",value:function(e){e.get("disabled")||(this.isOptionHighlighted(e)?this.props.onToggle(e.toJS()):this.setState(u()(this.state,i({},"highlightedOptions",{$push:[e.get("name")]}))))}},{key:"componentDidMount",value:function(){var e=this.refs["search-box"];this.props.autofocus&&e&&e.focus()}},{key:"resetHighlights",value:function(){this.setState({highlightedOptions:[]})}},{key:"onChange",value:function(e){var t=e.target.value;this.props.maxLength&&(t=t.substring(0,this.props.maxLength)),this.resetHighlights(),this.props.onChange(t,this.props.type)}},{key:"onFocus",value:function(e){this.resetHighlights(),this.props.onFocus&&this.props.onFocus()}},{key:"render",value:function(){var e=this,t=this.props.selectedOptions||[],n=0!=this.props.isPage,i=t.map(function(t){return l.a.createElement("div",{className:t.get("type")+" selected-option"+(e.isOptionHighlighted(t)?" highlighted":"")+(t.get("disabled")?"":" editable"),onClick:function(){return e.onOptionClick(t)}},t.get("name"))});return l.a.createElement("div",{className:this.props.hasBorder?"search-box has-border":"search-box"},l.a.createElement("div",{className:"selected-options"},i,l.a.createElement("div",{className:"search-term"},l.a.createElement("input",{type:"text",ref:"search-box",value:this.props.query,placeholder:this.props.placeholder?this.props.placeholder:this.props.type?this.props.showAddLanguage?"Search or add a new "+this.props.type:"Search for a "+this.props.type:"Search",onChange:this.onChange,onFocus:this.onFocus,autoFocus:!!this.props.autoFocus}),this.props.clearQuery&&this.props.query.length>0?l.a.createElement("span",{className:"label clickable uppercase blue",onClick:this.props.clearQuery},n?"Clear":"Close"):null)))}}]),t}(l.a.PureComponent);t.a=p},934:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{myCommunities:e.get("myCommunities"),communities:e.get("communities"),currentLoggedInUser:e.get("currentLoggedInUser"),searchResults:e.get("search"),sidebarScrollOffset:e.get("sidebarScrollOffset"),tagsMap:e.get("tags"),discussions:e.get("discussions"),users:e.get("users"),visitedPaths:e.get("visitedPaths")}}n.d(t,"a",function(){return w});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(39)),p=(n.n(d),n(1048)),h=n(1060),m=n(1059),f=n(993),g=n(38),v=n(903),y=(n.n(v),n(325),n(324)),b=(n(131),n(891),n(1037)),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),E=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.currentLoggedInUser&&n.props.fetchUserCommunities(),n.props.search("","popularCommunities"),n.updatePage=n.updatePage.bind(n),n.onClick=n.onClick.bind(n),n.state={adminOptionsShown:!1},n}return a(t,e),k(t,[{key:"onClick",value:function(e){this.updatePage()}},{key:"componentDidMount",value:function(){var e=this;if(void 0!=this.props.sidebarScrollOffset){var t=this.props.sidebarScrollOffset;setTimeout(function(){var n=e.refs.community_list;n&&(n.scrollTop=t)},1e3)}}},{key:"componentWillReceiveProps",value:function(e){e.currentActiveSection&&e.currentActiveSection!=this.props.currentActiveSection&&document.getElementById(e.currentActiveSection)&&document.getElementById(e.currentActiveSection).scrollIntoView(),(1==e.hasScrolledPastDiscussionMetadata&&0==this.props.hasScrolledPastDiscussionMetadata||0==e.isDiscussionCollapsed&&1==this.props.isDiscussionCollapsed)&&setTimeout(function(){return document.getElementById("discussion-filters")&&document.getElementById("discussion-filters").scrollIntoView()},100)}},{key:"updatePage",value:function(){var e=this.refs.community_list;if(e){var t=e.scrollTop;this.props.setStateAtPath(["sidebarScrollOffset"],t)}}},{key:"render",value:function(){var e=this,t=null,i=this.props.discussions.getIn([this.props.discussionId]),o=i&&"PLAYLIST"==i.getIn(["typeInfo","type"]),a=(this.props.pricingInfo||n.i(d.fromJS)({}),this.props.currentLoggedInUser),s=this.props.users.getIn([this.props.currentLoggedInUser,"plan","isPromo"],!1),r=(this.props.users.getIn([a,"plan","status"]),i&&(i.getIn(["typeInfo","stats","projectCount"],0),i.getIn(["typeInfo","stats","quizCount"],0)),null);this.props.acButtons&&(r=this.props.acButtons.map(function(e){return l.a.createElement("a",{href:e.url,target:"_blank"},l.a.createElement("button",{className:"label with-right-padding"},e.display))}));var c=i&&i.get("ah")?{__html:i.get("ah")}:null;this.props.tags&&(t=this.props.tags.map(function(t,n){return e.props.tagsMap.get(t)?l.a.createElement(u.Link,{className:"no-decoration",to:"/discussion/"+e.props.discussionId+"/"+t,onClick:e.onTagClick},l.a.createElement("div",{className:"sidebar-row thin zoom-on-hover"},l.a.createElement("div",{className:e.props.activeTagId==t?"sidebar-label tag-label active":"sidebar-label tag-label"},e.props.tagsMap.get(t).get("name")," ",l.a.createElement("span",{className:"posts-count"},e.props.tagsMap.get(t).get("postsCount"))))):null}));var g=null;this.props.filters&&(g=this.props.filters.map(function(e,t){return l.a.createElement(u.Link,{className:"no-decoration",to:e.linkTo},l.a.createElement("div",{className:"sidebar-row thin zoom-on-hover"},l.a.createElement("div",{className:e.isActive?"sidebar-label active":"sidebar-label"},e.displayName)))}));var v="sidebar";return this.props.noRightSidebar&&(v+=" no-right-sidebar"),this.props.miniLeftSidebar&&(v+=" mini-left-sidebar"),this.props.isFaded&&(v+=" faded"),this.props.onTwoColumnLayoutPage&&(v+=" on-two-column-layout-page"),l.a.createElement("div",{className:v,id:"sidebar"},l.a.createElement("div",{className:"content"},this.props.showTags||this.props.showFilters?null:l.a.createElement(f.a,null),this.props.showEditHistory?l.a.createElement("div",null,l.a.createElement(p.a,{onClick:this.props.onClickTOC,showEditHistory:!0,users:this.props.users,discussion:this.props.discussions.getIn([this.props.discussionId])})):o?l.a.createElement("div",null,l.a.createElement(h.a,{discussionId:this.props.discussionId,location:"sidebar"}),l.a.createElement(m.a,{onSubscribeClick:this.props.onSubscribeClick,onUnSubscribeClick:this.props.onUnSubscribeClick,discussionId:this.props.discussionId,location:"sidebar"}),l.a.createElement("div",{className:"course-share-section"},l.a.createElement(b.a,{url:"/discussion/"+this.props.discussionId+"/main",title:this.props.discussions.getIn([this.props.discussionId,"name"],""),objId:this.props.discussionId,objType:"discussion",location:"sidebar"}))):l.a.createElement("div",null,this.props.playlistDiscussionId?l.a.createElement("div",null,l.a.createElement("div",{className:"section-heading"},"Part of course:"),l.a.createElement("div",{className:"sidebar-row playlist-row"},l.a.createElement("div",{className:"left-sidebar-discussion"},l.a.createElement(u.Link,{to:"/discussion/"+this.props.playlistDiscussionId},l.a.createElement("div",{className:"sidebar-label multi discussion-title playlist-discussion-title"},this.props.discussions.getIn([this.props.playlistDiscussionId,"name"],"")))))):null,this.props.previousDiscussionId?l.a.createElement("div",null,l.a.createElement("div",{className:"sidebar-row previous-discussion-row"},l.a.createElement("div",{className:"left-sidebar-discussion zoom-on-hover zoom-to-normal"},l.a.createElement(u.Link,{to:"/discussion/"+this.props.previousDiscussionId},l.a.createElement("div",{className:"sidebar-label multi discussion-title"},this.props.discussions.getIn([this.props.previousDiscussionId,"name"],"")),l.a.createElement("div",{className:"sidebar-label description-label"},"Previous item"))))):null,l.a.createElement(p.a,{onClick:this.props.onClickTOC,playlistDiscussionId:this.props.playlistDiscussionId,discussion:this.props.discussions.getIn([this.props.discussionId]),currentActiveSection:this.props.currentActiveSection}),this.props.nextDiscussionId?l.a.createElement("div",null,l.a.createElement("div",{className:"sidebar-row next-discussion-row"},l.a.createElement("div",{className:"left-sidebar-discussion zoom-on-hover zoom-to-normal"},l.a.createElement(u.Link,{to:"/discussion/"+this.props.nextDiscussionId},l.a.createElement("div",{className:"sidebar-label multi discussion-title"},this.props.discussions.getIn([this.props.nextDiscussionId,"name"],"")),l.a.createElement("div",{className:"sidebar-label description-label"},"Next item"))))):null),this.props.showFilters?l.a.createElement("div",{className:"filters-section"},l.a.createElement("div",{className:"section-heading"},"Filters"),g,l.a.createElement("div",{className:"sidebar-buttons no-border-top"})):null,0==this.props.isDiscussionCollapsed&&this.props.hasScrolledPastDiscussionMetadata&&this.props.showTags&&t?l.a.createElement("div",null,l.a.createElement("div",{className:"section-heading",id:"discussion-filters"},"Discussion Filters"),l.a.createElement(u.Link,{className:"no-decoration",to:"/discussion/"+this.props.discussionId+"/main",onClick:this.onTagClick},l.a.createElement("div",{className:"sidebar-row thin zoom-on-hover"},l.a.createElement("div",{className:"main"==this.props.activeTagId?"sidebar-label active":"sidebar-label"},this.props.shouldShowAllTag?"Summary":l.a.createElement("span",null,"All ",y.b," ",l.a.createElement("span",{className:"posts-count"},this.props.discussions.getIn([this.props.discussionId,"postsCount"],0)))))),this.props.shouldShowAllTag?l.a.createElement(u.Link,{className:"no-decoration",to:"/discussion/"+this.props.discussionId+"/all",onClick:this.onTagClick},l.a.createElement("div",{className:"sidebar-row thin zoom-on-hover"},l.a.createElement("div",{className:"all"==this.props.activeTagId?"sidebar-label active has-extra-margin":"sidebar-label has-extra-margin"},"All ",y.b," ",l.a.createElement("span",{className:"posts-count"},this.props.discussions.getIn([this.props.discussionId,"postsCount"],0))))):null,t):null,this.state.adminOptionsShown?l.a.createElement("div",null,r&&r.length>0?r:null,c?l.a.createElement("div",{dangerouslySetInnerHTML:c}):null,this.props.autolinkURL?l.a.createElement(u.Link,{to:this.props.autolinkURL},l.a.createElement("button",{className:"label"},"Autolink")):null):l.a.createElement("div",{className:"label with-margin pointer",onClick:function(){return e.setState({adminOptionsShown:!0})}},"Show admin stats")))}}]),t}(l.a.PureComponent),w=n.i(c.connect)(s,{fetchUserCommunities:g.F,search:g.G,setStateAtPath:g.p})(n.i(u.withRouter)(E))},935:function(e,t,n){"use strict";var i=n(1),o=n.n(i),a=n(53),s=(n.n(a),n(332)),r=n(333),l=n.n(r),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=l()({loader:function(){return new Promise(function(e){return n.e(23).then(function(t){return e(n(1086))}.bind(null,n)).catch(n.oe)})},loading:s.a,render:function(e,t){var n=e.default;return o.a.createElement(n,c({ref:"asyncEditor"},t))}})},940:function(e,t,n){!function(t,i){e.exports=i(n(1),n(967))}(0,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1).default,o=n(17).default,a=n(26).default,s=n(29).default,r=n(30).default,l=n(36).default,c=n(39).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(40),d=c(u),p=function(e){function t(){s(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),a(t,[{key:"propsWith",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n={};return l(this.props).forEach(function(i){if(-1!==i.search(e)){var o=t?i.replace(e,""):i;n[o]=this.props[i]}},this),n}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=d.default.version.match(/0\.13(.*)/)?this.refs.element.getDOMNode():this.refs.element,i=n(41);this.clipboard=new i(t,e);var o=this.propsWith(/^on/,!0);l(o).forEach(function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])},this)}},{key:"render",value:function(){var e=r({type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:"element"},this.propsWith(/^data-/),this.propsWith(/^button-/,!0));return d.default.createElement(this.getComponent(),e,this.props.children)}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}]),t}(d.default.Component);t.default=p,e.exports=t.default},function(e,t,n){"use strict";var i=n(2).default;t.default=function(e,t,n){for(var o=!0;o;){var a=e,s=t,r=n;o=!1,null===a&&(a=Function.prototype);var l=i(a,s);if(void 0!==l){if("value"in l)return l.value;var c=l.get;if(void 0===c)return;return c.call(r)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=s,n=r,o=!0,l=u=void 0}},t.__esModule=!0},function(e,t,n){e.exports={default:n(3),__esModule:!0}},function(e,t,n){var i=n(4);n(5),e.exports=function(e,t){return i.getDesc(e,t)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){var i=n(6);n(10)("getOwnPropertyDescriptor",function(e){return function(t,n){return e(i(t),n)}})},function(e,t,n){var i=n(7),o=n(9);e.exports=function(e){return i(o(e))}},function(e,t,n){var i=n(8);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(11),o=n(13),a=n(16);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",s)}},function(e,t,n){var i=n(12),o=n(13),a=n(14),s=function(e,t,n){var r,l,c,u=e&s.F,d=e&s.G,p=e&s.S,h=e&s.P,m=e&s.B,f=e&s.W,g=d?o:o[t]||(o[t]={}),v=d?i:p?i[t]:(i[t]||{}).prototype;d&&(n=t);for(r in n)(l=!u&&v&&r in v)&&r in g||(c=l?v[r]:n[r],g[r]=d&&"function"!=typeof v[r]?n[r]:m&&l?a(c,i):f&&v[r]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):h&&"function"==typeof c?a(Function.call,c):c,h&&((g.prototype||(g.prototype={}))[r]=c))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(15);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var i=n(18).default,o=n(20).default;t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=i(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t,n){e.exports={default:n(19),__esModule:!0}},function(e,t,n){var i=n(4);e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){e.exports={default:n(21),__esModule:!0}},function(e,t,n){n(22),e.exports=n(13).Object.setPrototypeOf},function(e,t,n){var i=n(11);i(i.S,"Object",{setPrototypeOf:n(23).set})},function(e,t,n){var i=n(4).getDesc,o=n(24),a=n(25),s=function(e,t){if(a(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,o){try{o=n(14)(Function.call,i(Object.prototype,"__proto__").set,2),o(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return s(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:s}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(24);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var i=n(27).default;t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),i(e,o.key,o)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),t.__esModule=!0},function(e,t,n){e.exports={default:n(28),__esModule:!0}},function(e,t,n){var i=n(4);e.exports=function(e,t,n){return i.setDesc(e,t,n)}},function(e,t){"use strict";t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0},function(e,t,n){"use strict";var i=n(31).default;t.default=i||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.__esModule=!0},function(e,t,n){e.exports={default:n(32),__esModule:!0}},function(e,t,n){n(33),e.exports=n(13).Object.assign},function(e,t,n){var i=n(11);i(i.S+i.F,"Object",{assign:n(34)})},function(e,t,n){var i=n(4),o=n(35),a=n(7);e.exports=n(16)(function(){var e=Object.assign,t={},n={},i=Symbol(),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach(function(e){n[e]=e}),7!=e({},t)[i]||Object.keys(e({},n)).join("")!=o})?function(e,t){for(var n=o(e),s=arguments,r=s.length,l=1,c=i.getKeys,u=i.getSymbols,d=i.isEnum;r>l;)for(var p,h=a(s[l++]),m=u?c(h).concat(u(h)):c(h),f=m.length,g=0;f>g;)d.call(h,p=m[g++])&&(n[p]=h[p]);return n}:Object.assign},function(e,t,n){var i=n(9);e.exports=function(e){return Object(i(e))}},function(e,t,n){e.exports={default:n(37),__esModule:!0}},function(e,t,n){n(38),e.exports=n(13).Object.keys},function(e,t,n){var i=n(35);n(10)("keys",function(e){return function(t){return e(i(t))}})},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(t,n){t.exports=e},function(e,n){e.exports=t}])})},942:function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(945),s=function(e){return e&&e.__esModule?e:{default:e}}(a),r=function(){function e(t){i(this,e),this.target=t,this.events={}}return o(e,[{key:"getEventHandlers",value:function(){function e(e,t){var n=String(e)+" "+String((0,s.default)(t));return this.events[n]||(this.events[n]={handlers:[],handleEvent:void 0}),this.events[n]}return e}()},{key:"handleEvent",value:function(){function e(e,t,n){this.getEventHandlers(e,t).handlers.forEach(function(e){e&&e(n)})}return e}()},{key:"add",value:function(){function e(e,t,n){var i=this,o=this.getEventHandlers(e,n);0===o.handlers.length&&(o.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,o.handleEvent,n)),o.handlers.push(t);var a=!0;return function(){function s(){if(a){a=!1;var s=o.handlers.indexOf(t);o.handlers.splice(s,1),0===o.handlers.length&&(i.target&&i.target.removeEventListener(e,o.handleEvent,n),o.handleEvent=void 0)}}return s}()}return e}()}]),e}();t.default=r},943:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n},944:function(e,t,n){function i(){if(!s.default)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){function t(){e=!0}return t}()});window.addEventListener("test",null,t)}catch(e){}return e}function o(){return void 0===r&&(r=i()),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(943),s=function(e){return e&&e.__esModule?e:{default:e}}(a),r=void 0},945:function(e,t){function n(e){return e?!0===e?100:(e.capture<<0)+(e.passive<<1)+(e.once<<2):0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},946:function(e,t,n){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,i){e[u]||(e[u]=new c.default(e));var o=(0,r.default)(i);return e[u].add(t,n,o)}function a(e){e()}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_HANDLERS_KEY=void 0,t.addEventListener=o,t.removeEventListener=a;var s=n(947),r=i(s),l=n(942),c=i(l),u=t.EVENT_HANDLERS_KEY="__consolidated_events_handlers__"},947:function(e,t,n){function i(e){if(e)return(0,a.default)()?e:!!e.capture}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(944),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},948:function(e,t,n){"use strict";function i(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t}t.__esModule=!0,t.default=i,e.exports=t.default},949:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),u=i(c),d=n(31),p=i(d),h={overflow:"hidden",position:"relative"},m={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"},f=function(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"},g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e=r({},e),n.state={uniqueness:(Math.random()+"").replace(".",""),value:e.value||0,stars:[],halfStar:{at:Math.floor(e.value),hidden:e.half&&e.value%1<.5}},n.state.config={count:e.count,size:e.size,char:e.char,color1:e.color1,color2:e.color2,half:e.half,edit:e.edit},n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.setState({stars:this.getStars(this.state.value)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({stars:this.getStars(e.value),value:e.value,halfStar:{at:Math.floor(e.value),hidden:this.state.config.half&&e.value%1<.5}})}},{key:"isDecimal",value:function(e){return e%1!=0}},{key:"getRate",value:function(){return this.state.config.half?Math.floor(this.state.value):Math.round(this.state.value)}},{key:"getStars",value:function(e){void 0===e&&(e=this.getRate());for(var t=[],n=0;n<this.state.config.count;n++)t.push({active:n<=e-1});return t}},{key:"mouseOver",value:function(e){var t=this.state,n=t.config,i=t.halfStar;if(n.edit){var o=Number(e.target.getAttribute("data-index"));if(n.half){var a=this.moreThanHalf(e,n.size);i.hidden=a,a&&(o+=1),i.at=o}else o+=1;this.setState({stars:this.getStars(o)})}}},{key:"moreThanHalf",value:function(e,t){var n=e.target,i=e.clientX-n.getBoundingClientRect().left;return(i=Math.round(Math.abs(i)))>t/2}},{key:"mouseLeave",value:function(){var e=this.state,t=e.value,n=e.halfStar,i=e.config;i.edit&&(i.half&&(n.hidden=!this.isDecimal(t),n.at=Math.floor(this.state.value)),this.setState({stars:this.getStars()}))}},{key:"clicked",value:function(e){var t=this.state,n=t.config,i=t.halfStar;if(n.edit){var o=Number(e.target.getAttribute("data-index")),a=void 0;if(n.half){var s=this.moreThanHalf(e,n.size);i.hidden=s,s&&(o+=1),a=s?o:o+.5,i.at=o}else a=o+=1;this.setState({value:a,stars:this.getStars(o)}),this.props.onChange(a)}}},{key:"renderHalfStarStyleElement",value:function(){var e=this.state,t=e.config,n=e.uniqueness;return u.default.createElement("style",{dangerouslySetInnerHTML:{__html:f(t.color2,n)}})}},{key:"renderStars",value:function(){var e=this,t=this.state,n=t.halfStar,i=t.stars,o=t.uniqueness,a=t.config,s=a.color1,l=a.color2,c=a.size,d=a.char,p=a.half,h=a.edit;return i.map(function(t,i){var a="";p&&!n.hidden&&n.at===i&&(a="react-stars-"+o);var f=r({},m,{color:t.active?l:s,cursor:h?"pointer":"default",fontSize:c+"px"});return u.default.createElement("span",{className:a,style:f,key:i,"data-index":i,"data-forhalf":d,onMouseOver:e.mouseOver.bind(e),onMouseMove:e.mouseOver.bind(e),onMouseLeave:e.mouseLeave.bind(e),onClick:e.clicked.bind(e)},d)})}},{key:"render",value:function(){var e=this.props.className;return u.default.createElement("div",{className:e,style:h},this.state.config.half?this.renderHalfStarStyleElement():"",this.renderStars())}}]),t}(c.Component);g.propTypes={className:p.default.string,edit:p.default.bool,half:p.default.bool,value:p.default.number,count:p.default.number,char:p.default.string,size:p.default.number,color1:p.default.string,color2:p.default.string},g.defaultProps={edit:!0,half:!0,value:0,count:5,char:"â˜…",size:15,color1:"gray",color2:"#ffd700",onChange:function(){}},t.default=g},950:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=(0,l.default)(e);if("number"==typeof n)return n;var i=(0,s.default)(e);return"number"==typeof i?i*t:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(956),s=i(a),r=n(957),l=i(r);e.exports=t.default},951:function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},952:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&(s.default.Children.only(e),!(0,l.default)(e)))throw new Error("You must wrap any Component Elements passed to Waypoint in a DOM Element (eg; a <div>).")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1),s=i(a),r=n(954),l=i(r);e.exports=t.default},953:function(e,t,n){"use strict";function i(e){return e.viewportBottom-e.viewportTop==0?a.default.invisible:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom?a.default.inside:e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom?a.default.inside:e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?a.default.inside:e.viewportBottom<e.waypointTop?a.default.below:e.waypointTop<e.viewportTop?a.default.above:a.default.invisible}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(906),a=function(e){return e&&e.__esModule?e:{default:e}}(o);e.exports=t.default},954:function(e,t,n){"use strict";function i(e){return"string"==typeof e.type}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},955:function(e,t,n){"use strict";function i(e){a.push(e),o||(o=setTimeout(function(){o=null;for(var e=void 0;e=a.shift();)e()},0));var t=!0;return function(){if(t){t=!1;var n=a.indexOf(e);-1!==n&&(a.splice(n,1),!a.length&&o&&(clearTimeout(o),o=null))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=void 0,a=[];e.exports=t.default},956:function(e,t,n){"use strict";function i(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},957:function(e,t,n){"use strict";function i(e){return!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):"px"===e.slice(-2)?parseFloat(e.slice(0,-2)):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},958:function(e,t,n){"use strict";(function(n){function i(e){return"window"===e?n.window:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default}).call(t,n(27))},961:function(e,t,n){"use strict";function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function l(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}var c=n(1),u=n.n(c),d=n(31),p=n.n(d),h=n(997),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),v=function(){},y=function(e){function t(i){o(this,t);var s=a(this,e.call(this,i));return s._onRootDOMNode=function(e){s._rootDOMNode=e,s.props.inputRef&&s.props.inputRef(e)},s._onChange=function(e){s._controlled||s._resizeComponent();var t=s.props,n=t.valueLink,i=t.onChange;n?n.requestChange(e.target.value):i(e)},s._resizeComponent=function(){if(s._rootDOMNode){var e=n.i(h.a)(s._rootDOMNode,s.props.useCacheForDOMMeasurements,s.props.rows||s.props.minRows,s.props.maxRows),t=e.height,i=e.minHeight,o=e.maxHeight;s.state.height===t&&s.state.minHeight===i&&s.state.maxHeight===o||s.setState({height:t,minHeight:i,maxHeight:o})}},s.state={height:i.style&&i.style.height||0,minHeight:-1/0,maxHeight:1/0},s._controlled="string"==typeof i.value,s}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.valueLink,n=(e.minRows,e.maxRows,e.onHeightChange,e.useCacheForDOMMeasurements,e.inputRef,i(e,["valueLink","minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef"]));return"object"===(void 0===t?"undefined":f(t))&&(n.value=t.value),n.style=m({},n.style,{height:this.state.height}),Math.max(n.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(n.style.overflow="hidden"),u.a.createElement("textarea",m({},n,{onChange:this._onChange,ref:this._onRootDOMNode}))},t.prototype.componentDidMount=function(){this._resizeComponent(),window.addEventListener("resize",this._resizeComponent)},t.prototype.componentWillReceiveProps=function(){this._clearNextFrame(),this._onNextFrameActionId=r(this._resizeComponent)},t.prototype.componentDidUpdate=function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height)},t.prototype.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeComponent)},t.prototype._clearNextFrame=function(){this._onNextFrameActionId&&l(this._onNextFrameActionId)},t.prototype.focus=function(){this._rootDOMNode.focus()},t.prototype.blur=function(){this._rootDOMNode.blur()},g(t,[{key:"value",get:function(){return this._rootDOMNode.value},set:function(e){this._rootDOMNode.value=e}},{key:"selectionStart",get:function(){return this._rootDOMNode.selectionStart},set:function(e){this._rootDOMNode.selectionStart=e}},{key:"selectionEnd",get:function(){return this._rootDOMNode.selectionEnd},set:function(e){this._rootDOMNode.selectionEnd=e}}]),t}(u.a.Component);y.propTypes={value:p.a.string,onChange:p.a.func,onHeightChange:p.a.func,useCacheForDOMMeasurements:p.a.bool,rows:p.a.number,minRows:p.a.number,maxRows:p.a.number,inputRef:p.a.func},y.defaultProps={onChange:v,onHeightChange:v,useCacheForDOMMeasurements:!1},t.a=y},966:function(e,t,n){var i,o,a;!function(s,r){o=[e,n(972)],i=r,void 0!==(a="function"==typeof i?i.apply(t,o):i)&&(e.exports=a)}(0,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(e){return e&&e.__esModule?e:{default:e}}(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},967:function(e,t,n){var i,o,a;!function(s,r){o=[e,n(966),n(973),n(971)],i=r,void 0!==(a="function"==typeof i?i.apply(t,o):i)&&(e.exports=a)}(0,function(e,t,n,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var c=o(t),u=o(n),d=o(i),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),m=function(e){function t(e,n){a(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.resolveOptions(n),i.listenClick(e),i}return r(t,e),h(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===p(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,d.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(u.default);e.exports=m})},968:function(e,t){function n(e,t){for(;e&&e.nodeType!==i;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=n},969:function(e,t,n){function i(e,t,n,i,a){var s=o.apply(this,arguments);return e.addEventListener(n,s,a),{destroy:function(){e.removeEventListener(n,s,a)}}}function o(e,t,n,i){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&i.call(e,n)}}var a=n(968);e.exports=i},970:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},971:function(e,t,n){function i(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return o(e,t,n);if(r.nodeList(e))return a(e,t,n);if(r.string(e))return s(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function a(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function s(e,t,n){return l(document.body,e,t,n)}var r=n(970),l=n(969);e.exports=i},972:function(e,t){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),o=document.createRange();o.selectNodeContents(e),i.removeAllRanges(),i.addRange(o),t=i.toString()}return t}e.exports=n},973:function(e,t){function n(){}n.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){o.off(e,i),t.apply(n,arguments)}var o=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;for(i;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var a=0,s=i.length;a<s;a++)i[a].fn!==t&&i[a].fn._!==t&&o.push(i[a]);return o.length?n[e]=o:delete n[e],this}},e.exports=n},975:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{communities:e.get("communities"),currentLoggedInUser:e.get("currentLoggedInUser"),visitedPaths:e.get("visitedPaths")}}n.d(t,"a",function(){return k});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(39)),p=(n.n(d),n(59)),h=n.n(p),m=n(903),f=(n.n(m),n(993)),g=(n(325),n(58)),v=n(17),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isCommunityDropdownPickerModalOpen:!1},n.toggleDropdownState=n.toggleDropdownState.bind(n),n.onActiveCommunityClick=n.onActiveCommunityClick.bind(n),n}return a(t,e),y(t,[{key:"toggleDropdownState",value:function(){this.setState({isCommunityDropdownPickerModalOpen:!this.state.isCommunityDropdownPickerModalOpen})}},{key:"onActiveCommunityClick",value:function(e){var t=this.props.visitedPaths&&this.props.visitedPaths.get(-2)&&this.props.visitedPaths.get(-2).get("path"),i=this.props.visitedPaths&&this.props.visitedPaths.get(-1)&&this.props.visitedPaths.get(-1).get("path");t&&i&&n.i(g.l)(t)==this.props.activeCommunityId&&n.i(g.l)(i)!=this.props.activeCommunityId&&(e.preventDefault(),e.stopPropagation(),this.props.router.goBack())}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"thin-button never-hide categories-button",onClick:this.toggleDropdownState},"Categories");return l.a.createElement("div",{className:"community-dropdown-picker"},e,l.a.createElement(h.a,{isOpen:this.state.isCommunityDropdownPickerModalOpen,onRequestClose:this.toggleDropdownState,overlayClassName:"modal-overlay community-dropdown-picker-modal-overlay",className:"modal-content community-dropdown-picker-modal-content"},v.a&&l.a.createElement("div",{className:"section-heading"},"Categories"),l.a.createElement(f.a,{location:this.props.location,onClick:this.toggleDropdownState})))}}]),t}(l.a.PureComponent),k=n.i(c.connect)(s)(n.i(u.withRouter)(b))},977:function(e,t,n){(function(t){(function(){var n,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},o=n()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,n(139))},978:function(e,t,n){(function(t){for(var i=n(1121),o="undefined"==typeof window?t:window,a=["moz","webkit"],s="AnimationFrame",r=o["request"+s],l=o["cancel"+s]||o["cancelRequest"+s],c=0;!r&&c<a.length;c++)r=o[a[c]+"Request"+s],l=o[a[c]+"Cancel"+s]||o[a[c]+"CancelRequest"+s];if(!r||!l){var u=0,d=0,p=[];r=function(e){if(0===p.length){var t=i(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return r.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=r,o.cancelAnimationFrame=l}}).call(t,n(27))},979:function(e,t,n){"use strict";function i(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t}t.__esModule=!0,t.default=i,e.exports=t.default},980:function(e,t,n){"use strict";function i(e,t,n){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(0!==n[i])return!1;var o="number"==typeof t[i]?t[i]:t[i].val;if(e[i]!==o)return!1}return!0}t.__esModule=!0,t.default=i,e.exports=t.default},981:function(e,t,n){"use strict";function i(e,t,n,i,a,s,r){var l=-a*(t-i),c=-s*n,u=l+c,d=n+u*e,p=t+d*e;return Math.abs(d)<r&&Math.abs(p-i)<r?(o[0]=i,o[1]=0,o):(o[0]=p,o[1]=d,o)}t.__esModule=!0,t.default=i;var o=[0,0];e.exports=t.default},982:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{customIdInfo:e.get("customIdInfo")}}n.d(t,"a",function(){return w});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(908)),d=n(17),p=n(1004),h=n(961),m=n(97),f=n(142),g=(n.n(f),n(131)),v=n(32),y=n(326),b=(n.n(y),n(38)),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),E=function(e){function t(e){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state=a.handleInitialState(),n.i(u.b)(),a.toggleInteractiveCode=a.toggleInteractiveCode.bind(a),a.onSubmit=a.onSubmit.bind(a),a.getSourceInfo=a.getSourceInfo.bind(a),a.revertButtonClick=a.revertButtonClick.bind(a),a.updateCode=a.updateCode.bind(a),a.isVisible=a.isVisible.bind(a),a.scrollToTop=a.scrollToTop.bind(a),a.setActiveTab=a.setActiveTab.bind(a),a.toggleFullScreen=a.toggleFullScreen.bind(a),a.getOrCreateOverlay=a.getOrCreateOverlay.bind(a),a.onKeyDown=a.onKeyDown.bind(a),a.onHover=a.onHover.bind(a),a.offHover=a.offHover.bind(a),a.getOutput=a.getOutput.bind(a),a.handleOutputOnlyIframe=a.handleOutputOnlyIframe.bind(a),a}return a(t,e),k(t,[{key:"handleInitialState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getSourceInfo(e),o={rendered:e.rendered||e.showOutputOnly||!1,displayed:!1,code:e.initialCode?e.initialCode:i?n.i(g.g)(i.originalSource):null,input:i?i.input:null,activeTab:"code"};if(this.isInFullScreenMode=!1,this.hasHandledOutput=!1,this.hasHandledDefaultOutput=!1,this.hasHandledShowOnlyOutput=!1,!t)return o;this.setState(o)}},{key:"revertButtonClick",value:function(e){var t=(this.props.customIdInfo,this.getSourceInfo()),n=(t.mySource,t.originalSource);t.isSourceDifferent;this.setState({code:n})}},{key:"getSourceInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.customIdInfo&&e.customIdInfo.getIn(["codeblock",e.codeBlockId]);if(!t)return null;var i=t.getIn(["init_values",t.get("default_language").toString()]);return{mySource:i.get("user_code"),originalSource:i.get("original_code"),isSourceDifferent:i.get("user_code")!=i.get("original_code"),input:i.get("input"),modeConfig:i.get("mode_config"),language:i.get("language"),output:i.get("output"),isLoading:t.get("isLoading"),displayConfig:n.i(f.camelizeKeys)(i.get("display_config").toJS()),defaultOutput:i.get("default_output")}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.customIdInfo&&e.customIdInfo||this.props.codeBlockId!=e.codeBlockId)&&this.handleInitialState(e,!0)}},{key:"toggleInteractiveCode",value:function(){this.setState({rendered:!this.state.rendered,activeTab:"code"})}},{key:"onSubmit",value:function(){var e=this.getSourceInfo();if(e){this.setActiveTab("output");var t=(e.mySource,e.originalSource,e.isSourceDifferent,e.input,e.modeConfig,e.language);return this.props.logEvent({type:"code_execution",payload:{info:{input:this.state.input,language:t,source:this.state.code,code_block_id:this.props.codeBlockId},sub_type:"ace_widget"}}),this.props.storeCode(this.props.codeBlockId,this.state.input,t,this.state.code),this.hasHandledOutput=!1,!0}}},{key:"updateCode",value:function(e){this.setState(e)}},{key:"isVisible",value:function(){return this.refs.codeBlock&&n.i(v.k)(this.refs.codeBlock,this.props.additionalHeight+55||55,!0)}},{key:"scrollToTop",value:function(){if(!this.isVisible()&&!this.isInFullScreenMode){var e=this.props.additionalHeight||0;y.animateScroll.scrollTo(this.refs.codeBlock.offsetTop-e-55,{duration:300})}}},{key:"setActiveTab",value:function(e){this.setState({activeTab:e}),this.scrollToTop(),this.refs.output&&("output"!=e?n.i(g.c)(this.refs.output,"hide"):n.i(g.a)(this.refs.output,"hide"))}},{key:"componentDidUpdate",value:function(e,t){if(!d.c){if(!this.hasHandledOutput&&this.refs.htmlOutput){var n=this.getSourceInfo(),i=n.output;if(i){var o=document.createElement("script");o.type="text/javascript",o.innerHTML=i.getIn(["output","js"]),document.body.appendChild(o),this.hasHandledOutput=!0}}if((!this.hasHandledDefaultOutput||t.rendered&&!this.state.rendered)&&this.refs.htmlOutput&&this.props.showDefaultOutput&&!this.props.showOutputOnly){var a=this.getSourceInfo(),s=a.defaultOutput;if(!s)return;var r=s.getIn(["output","js"]);if(!r)return;var l=document.createElement("script");l.type="text/javascript",l.innerHTML=r,document.body.appendChild(l),this.hasHandledDefaultOutput=!0}this.handleOutputOnlyIframe()}}},{key:"componentDidMount",value:function(){this.handleOutputOnlyIframe()}},{key:"handleOutputOnlyIframe",value:function(){if(!this.hasHandledShowOnlyOutput&&this.props.showOutputOnly&&this.refs.htmlOutput){var e=this.getSourceInfo(),t=e.defaultOutput;if(!t)return;var n=t.getIn(["output","js"]);if(!n)return;var i=document.createElement("script");i.type="text/javascript",i.innerHTML=n,document.body.appendChild(i),this.hasHandledShowOnlyOutput=!0}}},{key:"getOrCreateOverlay",value:function(){var e=document.getElementById("code-modal-overlay");return e||(e=document.createElement("div"),n.i(g.c)(e,"modal-overlay"),e.setAttribute("id","code-modal-overlay"),e.setAttribute("tabindex","0"),e.style.backgroundColor="#fcfcff",document.body.appendChild(e)),e}},{key:"toggleFullScreen",value:function(){var e=e=this.refs.codeBlock;if(e){var t=this.getOrCreateOverlay();n.i(g.h)(e,"full")?(n.i(g.a)(e,"full"),t.style.display="none",document.body.style.overflow="auto",this.isInFullScreenMode=!1):(n.i(g.c)(e,"full"),t.style.display="block",document.body.style.overflow="hidden",this.isInFullScreenMode=!0)}}},{key:"onKeyDown",value:function(e){var t=e.keyCode||e.which;this.isInFullScreenMode&&27==t&&e.target==this.refs.codeBlock&&this.toggleFullScreen()}},{key:"onHover",value:function(){this.refs.tooltiptext&&this.state.isEditorFocused&&!d.a&&(this.refs.tooltiptext.style.visibility="visible")}},{key:"offHover",value:function(){this.refs.tooltiptext&&(this.refs.tooltiptext.style.visibility="hidden")}},{key:"getOutput",value:function(e){return"text"==e.get("type")?l.a.createElement("pre",null,e.get("output")||l.a.createElement("span",{className:"onboarding-text-label"},"No output!")):l.a.createElement("div",{ref:"htmlOutput",dangerouslySetInnerHTML:n.i(g.i)(e.getIn(["output","html"]))})}},{key:"render",value:function(){var e=this,t=this.getSourceInfo();if(t)var n=(t.mySource,t.originalSource,t.isSourceDifferent,t.input,t.modeConfig),i=t.output,o=t.isLoading,a=t.displayConfig,s=t.defaultOutput;return this.props.showOutputOnly?s?l.a.createElement("div",{className:"output-only"},this.getOutput(s)):null:l.a.createElement("div",{className:"code-execution-block-wrapper",ref:"codeBlock",tabIndex:"0",onKeyDown:this.onKeyDown},this.state.rendered&&l.a.createElement("div",{className:"code-execution-block"},l.a.createElement("div",{className:"tabs-bar"},l.a.createElement("div",{className:"code"==this.state.activeTab?"tab-link active":"tab-link",onClick:function(){return e.setActiveTab("code")}},"Code",l.a.createElement("div",{className:"line"})),a&&a.map(function(t){return l.a.createElement("div",{className:e.state.activeTab==t.id?"tab-link active":"tab-link",onClick:function(){return e.setActiveTab(t.id)}},t.displayName,l.a.createElement("div",{className:"line"}))}),!this.props.preventFullScreen&&[l.a.createElement("div",{className:"fullscreen-button-wrapper"}),l.a.createElement("div",{className:"fullscreen-button",onClick:this.toggleFullScreen})]),l.a.createElement("div",{className:"tab"},"code"==this.state.activeTab&&l.a.createElement("div",{className:"code-container"},l.a.createElement(p.a,{code:this.state.code,onChange:this.updateCode,aceConfig:n,options:{highlightActiveLine:!0,showPrintMargin:!1,highlightSelectedWord:!0,minLines:1,maxLines:250},onEnter:this.onSubmit,initialCursorPosition:this.props.initialCursorPosition,preventAutoFocus:this.props.preventAutoFocus})),"input"==this.state.activeTab&&l.a.createElement(h.a,{className:"input",placeholder:"Enter input here...",value:this.state.input,onChange:function(t){return e.setState({input:t.target.value})}}),l.a.createElement("div",{className:"output hide",ref:"output"},o?l.a.createElement("div",{className:"loader-div"},l.a.createElement(m.a,null),l.a.createElement("div",{className:"loading-text"},"Executing codeâ€¦")):i?this.getOutput(i):l.a.createElement("pre",null,l.a.createElement("span",{className:"onboarding-text-label"},"Hit Run button below to see output"))))),l.a.createElement("div",{className:"button-row"},this.props.customIdInfo&&!this.props.hideTryItNow&&l.a.createElement("div",{className:"code-toggle-area "+(this.state.rendered?"collapsed":"active")},l.a.createElement("span",{className:"code-toggle-button "+(this.state.rendered?"collapsed":"active"),onClick:this.toggleInteractiveCode},this.state.rendered?"Collapse":"Try it now")),this.state.rendered&&l.a.createElement("span",{className:"tooltiptext",ref:"tooltiptext"},"Protip: Use Ctrl / Cmd + Shift + Enter to run your code."),this.state.rendered&&l.a.createElement("div",{className:"button run",onClick:this.onSubmit,onMouseEnter:this.onHover,onMouseLeave:this.offHover},"Run")),s&&this.props.showDefaultOutput&&!this.state.rendered&&l.a.createElement("div",{className:"default-output-wrapper"},l.a.createElement("span",{className:"output-label"},"Output"),l.a.createElement("div",{className:"default-output"},l.a.createElement("div",{className:"output"},this.getOutput(s)))))}}]),t}(l.a.PureComponent),w=n.i(c.connect)(s,{storeCode:b.q,logEvent:b.c})(E)},983:function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{currentLoggedInUser:e.get("currentLoggedInUser")}}function l(e){return{questions:e.get("questions")}}function c(e){return{users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser")}}n.d(t,"a",function(){return q}),n.d(t,"b",function(){return V});var u=n(1),d=n.n(u),p=n(37),h=(n.n(p),n(39)),m=(n.n(h),n(132)),f=n.n(m),g=n(1044),v=(n.n(g),n(15)),y=(n.n(v),n(326)),b=(n.n(y),n(325)),k=n(205),E=n(58),w=n(890),C=(n(892),n(891)),I=n(323),S=n(38),N=n(1064),P=n(1034),O=n(97),x=n(203),T=n.n(x),_=n(912),L=n(999),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),A=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={secondsRemaining:Math.round(e.secondsRemaining)},n.interval=setInterval(n.tick.bind(n),1e3),n}return s(t,e),M(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"tick",value:function(){this.setState({secondsRemaining:this.state.secondsRemaining-1}),this.state.secondsRemaining<=0&&(this.props.onTimeout(),clearInterval(this.interval))}},{key:"calculateTimerBarStyle",value:function(e){return e<21?{background:"linear-gradient(to right, #cc5454 "+e+"%, transparent "+e+"%)"}:e<51?{background:"linear-gradient(to right, #dfa941 "+e+"%, transparent "+e+"%)"}:{background:"linear-gradient(to right, #00ab6b "+e+"%, transparent "+e+"%)"}}},{key:"render",value:function(){return d.a.createElement("div",null,this.props.isCountDown?d.a.createElement("div",{className:"count-down-digit","data-time":this.state.secondsRemaining},0==this.state.secondsRemaining?"":this.state.secondsRemaining):d.a.createElement("div",null,d.a.createElement("div",{className:"timer-bar",style:this.calculateTimerBarStyle(Math.round(100*this.state.secondsRemaining/this.props.timePerQuestion))}),d.a.createElement("div",{className:"timer-text"},this.state.secondsRemaining>0?this.state.secondsRemaining:null)))}}]),t}(d.a.PureComponent),j=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),M(t,[{key:"render",value:function(){return d.a.createElement("div",{className:"start-button action-button large centered",onClick:this.props.onClick},"Start")}}]),t}(d.a.PureComponent),D=n.i(I.a)(j),R=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return s(t,e),M(t,[{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e,this.props.choice)}},{key:"render",value:function(){var e=this.props.chosenAnswer==this.props.choice.get("eid")?this.props.isCorrect?"correct":"incorrect":"";return d.a.createElement("div",{className:"quiz-choice-row"},d.a.createElement("div",{className:this.props.isResult?"result quiz-choice "+e:"quiz-choice",onClick:this.onClick},d.a.createElement("span",{className:"choice-text"},this.props.choice.get("choice")),this.props.isCorrect?d.a.createElement("span",{className:"correct-checkmark"}):null))}}]),t}(d.a.PureComponent),U=n.i(I.a)(R),F=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.completeQuizQuestion=n.completeQuizQuestion.bind(n),n.startQuizQuestion=n.startQuizQuestion.bind(n),n.onContentClick=n.onContentClick.bind(n),n.imageModalOnRequestClose=n.imageModalOnRequestClose.bind(n),n.getInitialState=n.getInitialState.bind(n),n.state=n.getInitialState(),n.wasStartClicked=!1,n.wasCompletedClicked=!1,n}return s(t,e),M(t,[{key:"completeQuizQuestion",value:function(e,t){if(!this.wasCompletedClicked){if(this.wasCompletedClicked=!0,this.props.isResult)return;var n=t?t.get("eid"):null;this.props.completeQuizQuestion({discussionId:this.props.discussionId,quizId:this.props.quizId,questionId:this.props.question.get("eid"),choiceId:n})}}},{key:"startQuizQuestion",value:function(e){this.wasStartClicked||(this.wasStartClicked=!0,this.props.startQuizQuestion({discussionId:this.props.discussionId,quizId:this.props.quizId,questionId:this.props.nextQuestionId}))}},{key:"imageModalOnRequestClose",value:function(){this.setState({isImageModalOpen:!1})}},{key:"getInitialState",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return this.wasStartClicked=!1,this.wasCompletedClicked=!1,{isImageModalOpen:!1,modalImageUrlLarge:null,modalImageUrlSmall:null}}},{key:"componentWillReceiveProps",value:function(e){e.question.get("eid")!=this.props.question.get("eid")&&this.setState(this.getInitialState(e))}},{key:"onContentClick",value:function(e){if(e.target.classList.contains("spoiler")){e.target;"spoiler-content"==e.target.firstChild.className&&e.target.classList.toggle("hidden")}else"IMG"==e.target.nodeName&&this.setState({isImageModalOpen:!0,modalImageUrlLarge:n.i(b.a)(e.target.src),modalImageUrlSmall:e.target.src})}},{key:"render",value:function(){var e=this,t=this.props.question.get("chosenAnswer"),i=this.props.question.getIn(["choices"],n.i(h.List)()).map(function(i){return d.a.createElement(U,{isCorrect:n.i(k.c)(i.get("eid"))==e.props.question.getIn(["correctChoice","eidHash"],null),chosenAnswer:t,isResult:e.props.isResult,to:e.props.to?e.props.to:e.props.discussionId?"/discussion/"+e.props.discussionId+"/":location.pathname,onClick:e.completeQuizQuestion,choice:i,loggedOutModalInPlace:e.props.loggedOutModalInPlace})}),o=this.props.timePerQuestion||this.props.question.get("timeAllowed",null),a=this.props.question.get("explanation"),s=this.props.question.get("question"),r=this.props.nextQuestionDateStarted||this.props.question.get("dtStarted",null),l=r?((new Date).getTime()-new Date(r).getTime())/1e3:0,c=o-l;c=Math.max(c,0);var u=this.props.isResult||!o;return d.a.createElement("div",{className:"quiz-question",onClick:this.onContentClick,key:this.props.question.get("eid")},d.a.createElement(T.a,{transitionName:"post",transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnter:!1,transitionLeave:!1},u?null:d.a.createElement(A,{secondsRemaining:c,onTimeout:this.completeQuizQuestion,timePerQuestion:o}),d.a.createElement("div",{className:u?"quiz-question-text":"quiz-question-text no-margin-top"},d.a.createElement("div",{className:"quiz-question-index"},this.props.questionIndex?"Question "+(this.props.questionIndex+1)+".":"Question"),d.a.createElement(_.a,{html:s,preventFullScreenCodeBlock:this.props.preventFullScreenCodeBlock})),!t&&this.props.isResult?d.a.createElement("div",{className:"label out-of-time-label"},"You ran out of time on this question ðŸ˜ž"):null,d.a.createElement("div",{className:"quiz-choices"},i),this.props.isResult&&a&&a.length>0?d.a.createElement("div",null,d.a.createElement("div",{className:"label explanation-label"},"Explanation:"),d.a.createElement(_.a,{className:"explanation",html:a,preventFullScreenCodeBlock:this.props.preventFullScreenCodeBlock})):null,this.props.isResult&&!this.props.isStandAlone?this.props.nextQuestionId?d.a.createElement("div",{className:"action-button next-button centered",onClick:this.startQuizQuestion},"Next"):d.a.createElement("div",{className:"action-button show-results-button large blue centered",onClick:this.props.showResultsPage},"Show Results"):null),d.a.createElement(P.a,{isModalOpen:this.state.isImageModalOpen,onRequestClose:this.imageModalOnRequestClose,src:this.state.modalImageUrlLarge,placeHolder:this.state.modalImageUrlSmall}))}}]),t}(d.a.PureComponent),B=n.i(p.connect)(r,{startQuizQuestion:S.w,completeQuizQuestion:S.x})(F),H=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getQuestionStatus=n.getQuestionStatus.bind(n),n.onStartClick=n.onStartClick.bind(n),n}return s(t,e),M(t,[{key:"getQuestionStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t="not-started",n=e.questions&&e.questionId&&e.questions.getIn([e.questionId,"userProperties"],null);return n&&(t=n.get("dtCompletedFrontend")?"completed":n.get("dtStartedFrontend")?"ongoing":"not-started"),t}},{key:"onStartClick",value:function(){this.props.startQuizQuestion({questionId:this.props.questionId})}},{key:"render",value:function(){var e=this.props.questions&&this.props.questions.get(this.props.questionId);if(!e)return null;var t=this.getQuestionStatus(),i=e.get("timeAllowed",null),o=d.a.createElement("div",{className:"not-centered"},d.a.createElement(L.a,{entityType:"question"})),a=null;return a="not-started"==t&&i||!1===e.getIn(["userProperties","canParticipate"])?d.a.createElement("div",{className:"screen start-screen"},d.a.createElement("div",null,d.a.createElement("h1",{className:"check-understanding"},"Check your understanding"),[i?d.a.createElement("div",{className:"quiz-detail small top-margin-10"},"You will get ",n.i(w.a)(i)," to answer"):null,!0===e.getIn(["userProperties","canParticipate"])?d.a.createElement(D,{onClick:this.onStartClick,to:this.props.path||location.pathname}):o])):[d.a.createElement("h1",{className:"check-understanding"},"Check your understanding"),d.a.createElement(B,{ref:"question",question:e,nextQuestionDateStarted:e.getIn(["userProperties","dtStartedFrontend"]),isResult:"completed"==t,isStandAlone:!0,canContribute:!0,loggedOutModalInPlace:this.props.loggedOutModalInPlace,to:this.props.to,preventFullScreenCodeBlock:this.props.preventFullScreenCodeBlock})],d.a.createElement("div",{className:"stand-alone-question"},a)}}]),t}(d.a.PureComponent),q=n.i(p.connect)(l,{startQuizQuestion:S.w})(H),z=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.startQuiz=n.startQuiz.bind(n),n.showResultsPage=n.showResultsPage.bind(n),n.getInitialState=n.getInitialState.bind(n),n.onContentClick=n.onContentClick.bind(n),n.scrollToResult=n.scrollToResult.bind(n),n.toggleQuestionsList=n.toggleQuestionsList.bind(n),n.toggleLeaderboard=n.toggleLeaderboard.bind(n),n.state=n.getInitialState(),n}return s(t,e),M(t,[{key:"getInitialState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=!0;return e.discussion&&null!=e.discussion.getIn(["typeInfo","nextQuestion","question"],null)&&(t=!1),{resultsPageVisible:t,countingDown:!1,hasScrolledToResult:!1,isQuestionsListCollapsed:!0,isLeaderboardCollapsed:"true"!=n.i(E.c)("leaderboard")}}},{key:"scrollToResult",value:function(){this.props.turnScrollingOff||!this.state.hasScrolledToResult&&this.refs.results&&("completed"!=this.props.discussion.getIn(["typeInfo","status"],null)||this.props.isCollapsed||setTimeout(function(){y.scroller.scrollTo("results",{duration:1e3,smooth:!0,offset:-50,containerId:null})},500),this.setState({hasScrolledToResult:!0}))}},{key:"componentWillReceiveProps",value:function(e){if(e.discussion&&null!=e.discussion.getIn(["typeInfo","nextQuestion","question"],null)&&this.setState({resultsPageVisible:!1}),e.discussion&&e.discussion.getIn(["typeInfo","nextQuestion","dtStarted"],null)!=this.props.discussion.getIn(["typeInfo","nextQuestion","dtStarted"],null))try{this.props.turnScrollingOff||y.scroller.scrollTo("quiz-section",{duration:500,smooth:!0,offset:-50,containerId:null})}catch(e){}e.discussion.get("eid")!=this.props.discussion.get("eid")&&this.setState(this.getInitialState(e))}},{key:"componentDidMount",value:function(){this.scrollToResult()}},{key:"componentDidUpdate",value:function(){this.scrollToResult()}},{key:"showResultsPage",value:function(){this.props.fetchDiscussionMetadata(this.props.discussion.get("eid"),null,["typeInfo"]),this.setState({resultsPageVisible:!0}),this.props.turnScrollingOff||y.scroller.scrollTo("quiz-section",{duration:500,smooth:!0,offset:-50,containerId:null})}},{key:"startQuiz",value:function(){this.props.startQuizQuestion({discussionId:this.props.discussion.get("eid"),quizId:this.props.discussion.getIn(["typeInfo","eid"],null),questionId:this.props.discussion.getIn(["typeInfo","nextQuestion","question"],null)})}},{key:"toggleQuestionsList",value:function(){this.setState({isQuestionsListCollapsed:!this.state.isQuestionsListCollapsed})}},{key:"toggleLeaderboard",value:function(){this.setState({isLeaderboardCollapsed:!this.state.isLeaderboardCollapsed})}},{key:"onContentClick",value:function(e){if(this.props.shouldLinkToDiscussion){e.preventDefault(),e.stopPropagation();var t="/discussion/"+this.props.discussion.get("eid")+"/main";e.metaKey?openNewTab(t):v.browserHistory.push(t)}}},{key:"render",value:function(){var e=this,t=this.props.discussion.get("typeInfo");if(this.props.isCollapsed&&!this.props.discussion.hasIn(["typeInfo","userInfo"])||(!this.props.isCollapsed||!this.props.shouldLinkToDiscussion)&&!this.props.discussion.hasIn(["typeInfo","questions"])||""!=this.props.currentLoggedInUser&&this.state.resultsPageVisible&&null==this.props.discussion.getIn(["typeInfo","userInfo"],null))return d.a.createElement("div",{className:"quiz-section"},d.a.createElement("div",{className:"loader-div"},d.a.createElement(O.a,null),d.a.createElement("div",{className:"loading-text"},"Loadingâ€¦")));var o=t.getIn(["userInfo","ncorrect"],0),a=t.getIn(["userInfo","rank"],1),s=Math.round(t.getIn(["userInfo","percentile"],100)),r=Math.round(t.getIn(["userInfo","score"],100)),l=t.get("timePerQuestion"),c=this.props.discussion.getIn(["textStats","quizquestionCount"],0),u=t.getIn(["nextQuestion","question"]),p=t.getIn(["nextQuestion","questionIndex"]),m=t.getIn(["nextQuestion","dtStarted"]),b=t.getIn(["quizInfo","participantsCount"]),k=!!m,E=this.props.discussion.get("isPremium"),I=t.getIn(["questions"],h.List.of()).map(function(n,i){return d.a.createElement(B,{question:n,questionIndex:i,discussionId:e.props.discussion.get("eid"),quizId:t.get("eid"),timePerQuestion:l,nextQuestionDateStarted:m,canContribute:e.props.discussion.get("canContribute"),key:"question-"+i})}),S=t.getIn(["questions"],h.List.of()).map(function(n,i){return d.a.createElement(B,{question:n,questionIndex:i,nextQuestionId:u,isResult:!0,discussionId:e.props.discussion.get("eid"),quizId:t.get("eid"),canContribute:e.props.discussion.get("canContribute"),showResultsPage:e.showResultsPage,key:"results-"+i})}),P=d.a.createElement("div",{className:"screen start-screen"},d.a.createElement("div",{className:"quiz-details"},d.a.createElement("div",{className:"quiz-detail"},c," ",f()("question",c)),l?d.a.createElement("div",{className:l>59?"quiz-detail small":"quiz-detail"},n.i(w.a)(l)," per question"):null),this.state.countingDown?d.a.createElement("div",{className:"count-down"},d.a.createElement(A,{secondsRemaining:3,onTimeout:this.startQuiz,isCountDown:!0})):d.a.createElement("div",null,"Ready?"),this.state.countingDown?null:d.a.createElement(D,{onClick:function(){return e.setState({countingDown:!0})},to:"/discussion/"+this.props.discussion.get("eid")}),b&&(E&&b>100||!E&&b>4)?d.a.createElement("div",{className:"label participants-label",style:{marginBottom:20}},b+" "+f()("participant",b)," so far"):null),x=t.getIn(["leaderboard","topGlobal"],n.i(h.List)()).map(function(e,t){return d.a.createElement(C.a,{rank:t+1,isCompact:!0,hideByline:!0,hideFollowButton:!0,score:Math.round(e.get("score")),userId:e.get("user"),shouldLinkToUser:!0,offsetTop:-40,offsetLeft:120,key:"leaderboard-"+t})}),T=t.getIn(["leaderboard","topLocal"],n.i(h.List)()).map(function(e,t){return d.a.createElement(C.a,{isCompact:!0,hideByline:!0,hideFollowButton:!0,score:Math.round(e.get("score")),userId:e.get("user"),shouldLinkToUser:!0,offsetTop:-40,offsetLeft:120,key:"upandcoming-"+t})}),_=d.a.createElement("div",{className:"user-box box compact"},d.a.createElement("div",{className:"avatar-image dummy"}),d.a.createElement("div",{className:"shifted-right dummy"},d.a.createElement("div",{className:"name dummy"}),d.a.createElement("div",{className:"score dummy"}))),L=d.a.createElement("div",{className:"dummy-leaderboard"},[].concat(i(Array(3))).map(function(){return _}),d.a.createElement("div",{className:"label bold"},"Your Facebook friends will show up here once they take the quiz. Challenge them by sharing it:")),M=E?null:d.a.createElement("div",{className:"action-button-group"},d.a.createElement("button",{className:"action-button large share-quiz-button",onClick:this.props.onShareFn},"Share this Quiz"),d.a.createElement("button",{className:"action-button large quiz-to-community-button",onClick:function(){return v.browserHistory.push("/community/"+e.props.communityId)}},"See more â†’")),j=d.a.createElement(y.Element,{name:"results"},d.a.createElement("div",{className:"screen results-screen",ref:"results"},d.a.createElement("div",{className:"separator"},"Results"),s>49?d.a.createElement("div",{className:"summary heading"},"Congrats! You are in the top ",Math.max(100-s,1),"% ðŸŽ‰"):null,1==a?d.a.createElement("div",{className:"summary"},"Youâ€™re on top of the leaderboard! ðŸ’¯"):null,d.a.createElement("div",{className:"summary"},"Your score: "+r+" out of 100."),d.a.createElement("div",{className:"label participants-label"},"(Based on accuracy and speed)"),d.a.createElement("div",{className:"progress-sections"},d.a.createElement("div",{className:"progress-section","data-size":"100"},d.a.createElement(g.Motion,{defaultStyle:{x:0},style:{x:n.i(g.spring)(Math.round(100*o/c))}},function(e){return d.a.createElement("div",{className:"progress-ring",style:n.i(N.a)(Math.round(e.x))},d.a.createElement("div",{className:"before",style:n.i(N.b)(Math.round(e.x))}),d.a.createElement("span",{className:"progress-clip"},o," of ",c),d.a.createElement("div",{className:"after",style:n.i(N.c)(Math.round(e.x))}))}),d.a.createElement("div",{className:"label percentile-label"},"Accuracy")),d.a.createElement("div",{className:"progress-section","data-size":"100"},d.a.createElement(g.Motion,{defaultStyle:{x:0},style:{x:n.i(g.spring)(Math.round(s))}},function(e){return d.a.createElement("div",{className:"progress-ring",style:n.i(N.a)(Math.round(e.x))},d.a.createElement("div",{className:"before",style:n.i(N.b)(Math.round(e.x))}),d.a.createElement("span",{className:"progress-clip"},s),d.a.createElement("div",{className:"after",style:n.i(N.c)(Math.round(e.x))}))}),d.a.createElement("div",{className:"label percentile-label"},"Percentile"))),this.props.isCollapsed?d.a.createElement(v.Link,{className:"thin-button",to:"/discussion/"+this.props.discussion.get("eid")},"See full results"):d.a.createElement("div",null,M,E?null:this.state.isLeaderboardCollapsed?d.a.createElement("div",{className:"section"},d.a.createElement("button",{className:"section-heading review-section-heading",onClick:this.toggleLeaderboard},"See Leaderboard")):[d.a.createElement("div",{className:"section"},d.a.createElement("button",{className:"section-heading review-section-heading close-button",onClick:this.toggleLeaderboard},"Collapse")),d.a.createElement("div",{className:"leaderboard-section"},d.a.createElement("div",{className:"section-heading leaderboard-section-heading"},"Leaderboard"),d.a.createElement("div",{className:"label participants-label"},"Your rank: ",t.getIn(["userInfo","rank"],1)," out of ",b+" "+f()("participant",b)),x,d.a.createElement("div",{className:"section-heading leaderboard-section-heading"},"Friend Leaderboard"),T.size>0?T:L),M],this.state.isQuestionsListCollapsed?d.a.createElement("div",{className:"section"},d.a.createElement("button",{className:"section-heading review-section-heading",onClick:this.toggleQuestionsList},"Review Your Answers")):d.a.createElement("div",{className:"questions-section"},d.a.createElement("div",{className:"section"},d.a.createElement("button",{className:"section-heading review-section-heading close-button",onClick:this.toggleQuestionsList},"Collapse")),d.a.createElement("div",{className:"section-heading"},"Questions"),S,M))));return d.a.createElement(y.Element,{className:this.state.resultsPageVisible&&""==!this.props.currentLoggedInUser?"quiz-section results-quiz-section":"quiz-section",name:"quiz-section",onClickCapture:this.onContentClick},""==this.props.currentLoggedInUser?P:k?this.props.shouldLinkToDiscussion?P:I.get(p):0==p?P:this.state.resultsPageVisible?j:this.props.shouldLinkToDiscussion?P:S.get(p-1))}}]),t}(d.a.PureComponent),V=n.i(p.connect)(c,{startQuizQuestion:S.w,fetchDiscussionMetadata:S.e})(z)},984:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){i(this,e),this.block=t,this.getProperties=this.getProperties.bind(this),this.getProperty=this.getProperty.bind(this),this.getName=this.getName.bind(this),this.isInterrupt=this.isInterrupt.bind(this),this.isOverlay=this.isOverlay.bind(this),this.getAnimatedProperties=this.getAnimatedProperties.bind(this),this.getAnimatedOperations=this.getAnimatedOperations.bind(this),this.isAnimated=this.isAnimated.bind(this),this.getRefName=this.getRefName.bind(this),this.getRef=this.getRef.bind(this),this.getOperation=this.getOperation.bind(this),this.getOperationType=this.getOperationType.bind(this),this.getContent=this.getContent.bind(this),this.getContentType=this.getContentType.bind(this),this.getTimeStamp=this.getTimeStamp.bind(this),this.getDuration=this.getDuration.bind(this),this.isCodeBlock=this.isCodeBlock.bind(this),this.isHighlight=this.isHighlight.bind(this)}return o(e,[{key:"getProperties",value:function(){return this.getOperation().properties}},{key:"getProperty",value:function(e){var t=this.getProperties();if(t)return t[e]}},{key:"getName",value:function(){return this.getProperty("name")}},{key:"isInterrupt",value:function(){return this.getProperty("interrupt")}},{key:"isOverlay",value:function(){return this.getProperty("overlay")}},{key:"getSlideStyles",value:function(){var e=this.getProperty("backgroundImage");return e?{background:"linear-gradient(rgba(255,255,255,.75), rgba(255,255,255,.75)), url("+e+") center / cover no-repeat"}:null}},{key:"getAnimatedProperties",value:function(){var e=this.getProperty("animate");return e&&"none"!=e.type?e:null}},{key:"getMaxLineProperty",value:function(){return this.getProperty("maxLines")||null}},{key:"isExecutable",value:function(){return!1!==this.getProperty("executable")}},{key:"isNumbered",value:function(){return!1!==this.getProperty("numbered")}},{key:"getAnimatedOperations",value:function(){var e=this.getContent();return e&&e.animationOperations}},{key:"isAnimated",value:function(){return!(!this.getAnimatedOperations()||"code"!=this.getContentType())}},{key:"getRefName",value:function(){return e.getRefName(this.getName())}},{key:"getRef",value:function(t){return e.getRef(this.getName(),t)}},{key:"getVoice",value:function(){return this.block.voice}},{key:"getOperation",value:function(){return this.block.operation}},{key:"getOperationType",value:function(){var e=this.getOperation();return e&&e.type}},{key:"getContent",value:function(){var e=this.getOperation();return e&&e.display}},{key:"getContentType",value:function(){var e=this.getContent();return e&&e.type}},{key:"isCodeBlock",value:function(){return"code"==this.getContentType()}},{key:"isHighlight",value:function(){return"highlight"==this.getContentType()}},{key:"getTimeStamp",value:function(){return this.block.timestamp}},{key:"getDuration",value:function(){return parseInt(this.block.duration)||parseInt(this.getProperty("duration"))||0}}],[{key:"getRefName",value:function(e){return"blockRef-"+e}},{key:"getRef",value:function(t,n){return n&&n[e.getRefName(t)]}}]),e}();t.a=a},991:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){i(this,e);var n=[];t=t||{},this.subscribe=function(e){n.push(e)},this.unsubscribe=function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)},this.update=function(e){e&&e(t),n.forEach(function(e){return e(t)})}};t.default=o,e.exports=t.default},992:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=t.StickyContainer=t.Sticky=void 0;var o=n(1058),a=i(o),s=n(1057),r=i(s),l=n(991),c=i(l);t.Sticky=a.default,t.StickyContainer=r.default,t.Channel=c.default,t.default=a.default},993:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{myCommunities:e.get("myCommunities"),communities:e.get("communities"),currentLoggedInUser:e.get("currentLoggedInUser"),searchResults:e.get("search"),isFetchingGlobalSearch:e.get("isFetchingGlobalSearch")}}n.d(t,"a",function(){return b});var r=n(1),l=n.n(r),c=n(37),u=(n.n(c),n(15)),d=(n.n(u),n(39)),p=(n.n(d),n(38)),h=n(903),m=n.n(h),f=n(325),g=(n(324),n(58),n(131),n(97)),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.search("","popularCommunities"),n.onClick=n.onClick.bind(n),n}return a(t,e),v(t,[{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props.searchResults.getIn(["","popularCommunities"])||n.i(d.List)(),i=t,o=i.map(function(t,i){return l.a.createElement(u.Link,{className:"no-decoration",to:"/community/"+t,title:e.props.communities.get(t).get("name"),onClick:e.onClick},l.a.createElement("div",{className:"sidebar-row sidebar-community-row"},l.a.createElement("div",{className:"avatar-image",style:{backgroundImage:"url("+(n.i(f.c)(e.props.communities.get(t).get("coverImg"),60)||m.a)+")"}}),l.a.createElement("div",{className:e.props.activeCommunityId==t?"sidebar-label active":"sidebar-label"},e.props.communities.get(t).get("name"))))});return l.a.createElement("div",{className:"communities-section"},l.a.createElement("div",null,o.size>0?[l.a.createElement("div",{className:"spacer"}),o,l.a.createElement("div",{className:"spacer"})]:this.props.isFetchingGlobalSearch?l.a.createElement("div",{className:"loader-div"},l.a.createElement(g.a,null),l.a.createElement("div",{className:"loading-text"},"Loading...")):null))}}]),t}(l.a.PureComponent),b=n.i(c.connect)(s,{fetchUserCommunities:p.F,search:p.G})(n.i(u.withRouter)(y))},994:function(e,t,n){"use strict";function i(e,t){var n=e,i=!0,o=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value,c=n[l];if(!c)return null;n=c}}catch(e){o=!0,a=e}finally{try{!i&&r.return&&r.return()}finally{if(o)throw a}}return n}function o(e,t){if(e===t)return!0;if(e&&t&&"object"==(void 0===e?"undefined":s(e))&&"object"==(void 0===t?"undefined":s(t))){var n,i,a,d=r(e),p=r(t);if(d&&p){if((i=e.length)!=t.length)return!1;for(n=i;0!=n--;)if(!o(e[n],t[n]))return!1;return!0}if(d!=p)return!1;var h=e instanceof Date,m=t instanceof Date;if(h!=m)return!1;if(h&&m)return e.getTime()==t.getTime();var f=e instanceof RegExp,g=t instanceof RegExp;if(f!=g)return!1;if(f&&g)return e.toString()==t.toString();var v=l(e);if((i=v.length)!==l(t).length)return!1;for(n=i;0!=n--;)if(!c.call(t,v[n]))return!1;if(u&&e instanceof Element)return!1;for(n=i;0!=n--;)if(!("_owner"===(a=v[n])&&e.$$typeof||o(e[a],t[a])))return!1;return!0}return e!==e&&t!==t}function a(e,t){try{return o(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}t.b=i,t.a=a;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Array.isArray,l=Object.keys,c=Object.prototype.hasOwnProperty,u="undefined"!=typeof Element},997:function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d?null===d.parentNode&&document.body.appendChild(d):(d=document.createElement("textarea"),document.body.appendChild(d));var a=o(e,t),s=a.paddingSize,r=a.borderSize,c=a.boxSizing,u=a.sizingStyle;Object.keys(u).map(function(e){d.style[e]=u[e]}),Object.keys(l).map(function(e){d.style.setProperty(e,l[e],"important")}),d.value=e.value||e.placeholder||"x";var p=-1/0,h=1/0,m=d.scrollHeight;if("border-box"===c?m+=r:"content-box"===c&&(m-=s),null!==n||null!==i){d.value="x";var f=d.scrollHeight-s;null!==n&&(p=f*n,"border-box"===c&&(p=p+s+r),m=Math.max(p,m)),null!==i&&(h=f*i,"border-box"===c&&(h=h+s+r),m=Math.min(h,m))}return{height:m,minHeight:p,maxHeight:h}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&u[n])return u[n];var i=window.getComputedStyle(e),o=c.reduce(function(e,t){return e[t]=i.getPropertyValue(t),e},{}),a=o[r];s&&"border-box"===a&&(o.width=parseFloat(o.width)+parseFloat(i["border-right-width"])+parseFloat(i["border-left-width"])+parseFloat(i["padding-right"])+parseFloat(i["padding-left"])+"px");var l=parseFloat(o["padding-bottom"])+parseFloat(o["padding-top"]),d=parseFloat(o["border-bottom-width"])+parseFloat(o["border-top-width"]),p={sizingStyle:o,paddingSize:l,borderSize:d,boxSizing:a};return t&&n&&(u[n]=p),p}t.a=i;var a="undefined"!=typeof window&&"undefined"!=typeof document,s=!!a&&!!document.documentElement.currentStyle,r=function(){if(!a)return"box-sizing";var e=window.getComputedStyle(document.documentElement);return e.getPropertyValue("box-sizing")?"box-sizing":e.getPropertyValue("-moz-box-sizing")?"-moz-box-sizing":e.getPropertyValue("-webkit-box-sizing")?"-webkit-box-sizing":"box-sizing"}(),l={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},c=["letter-spacing","line-height","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width",r],u={},d=void 0},999:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentLoggedInUser:e.get("currentLoggedInUser"),users:e.get("users"),pricingInfo:e.get("pricingInfo")}}n.d(t,"a",function(){return g});var r=n(1),l=n.n(r),c=n(15),u=(n.n(c),n(37)),d=(n.n(u),n(204)),p=n(38),h=n(1008),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onUpgradeClick=n.onUpgradeClick.bind(n),n}return a(t,e),m(t,[{key:"onUpgradeClick",value:function(){this.props.users.getIn([this.props.currentLoggedInUser,"plan","isPromo"],!1)||this.props.fetchPixelInformation("click.pro_content_start_pro")}},{key:"render",value:function(){var e=d.a.get("defaultFrequency"),t=this.props.users.getIn([this.props.currentLoggedInUser,"plan","isPromo"],!1),n=d.a.get("monthlyPrice",{frequency:e}),i=d.a.get("discount",{frequency:e});return l.a.createElement("div",{className:"upgrade-box"},l.a.createElement("div",{className:"left-section"},l.a.createElement("div",{className:"lock-icon"})),l.a.createElement("div",{className:"right-section"},l.a.createElement("div",{className:"title"},"This "+(this.props.entityType?this.props.entityType+" ":"")+"is for Pro Members"),l.a.createElement("div",{className:"copy"},"We like how far you've come. Upgrade today and get access to all of CommonLounge."),l.a.createElement("div",{className:"copy"},l.a.createElement("strong",null,"Limited-time discount")," for early adopters: Pro Membership is only ",l.a.createElement("strong",null,n,"/month"),"month"==e?"":" when paid yearly",".",l.a.createElement("span",{className:"discount"},i,"% OFF")),l.a.createElement("div",{className:"copy"},l.a.createElement("strong",null,"Want a free month? "),l.a.createElement(c.Link,{to:"/referral"},"Refer a friend.")),l.a.createElement(c.Link,{to:this.props.paymentUrl,className:"cta-button zoom-on-hover",onClick:this.onUpgradeClick},t?"Subscribe Now â†’":"Start your free 7-day trial â†’"),this.props.currentLoggedInUser?null:l.a.createElement("div",{className:"copy sign-in"},"Already a member? ",l.a.createElement(c.Link,{to:"/sign-in"},"Sign in."))))}}]),t}(l.a.PureComponent),g=n.i(u.connect)(s,{fetchPixelInformation:p.a})(n.i(h.a)(f))}});