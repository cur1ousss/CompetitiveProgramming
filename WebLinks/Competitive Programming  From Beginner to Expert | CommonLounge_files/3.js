webpackJsonp([3],{1005:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u});var s=n(1),a=n.n(s),l=n(17),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loadImage=n.loadImage.bind(n),n.state={loadedImg:l.c?e.ssrUrl||e.url:e.url},n}return r(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){this.props.url!=e.url&&(this.numTimesTried=0,this.loadImage(e.url))}},{key:"componentDidMount",value:function(){this.loadImage(this.props.url)}},{key:"loadImage",value:function(e){this.currentlyLoadingImg&&(this.currentlyLoadingImg.onload=null,this.currentlyLoadingImg.onerror=null),this.currentlyLoadingImg=new Image,this.currentlyLoadingImg.onload=this.onLoad.bind(this),this.currentlyLoadingImg.onerror=this.onError.bind(this),this.currentlyLoadingImg.src=e}},{key:"onLoad",value:function(){this.setState({loadedImg:this.currentlyLoadingImg.src})}},{key:"onError",value:function(){var e=this.currentlyLoadingImg.src;if(e==this.props.url)return void(e!=this.props.backupUrl?this.loadImage(this.props.backupUrl):e!=this.props.defaultUrl&&this.loadImage(this.props.defaultUrl));e==this.props.backupUrl&&this.props.defaultUrl&&e!=this.props.defaultUrl&&this.loadImage(this.props.defaultUrl)}},{key:"render",value:function(){return a.a.createElement("div",{className:this.props.className||"cover-image",style:{backgroundImage:"url("+this.state.loadedImg+")"}})}}]),t}(a.a.PureComponent)},1035:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentUser:e.get("currentLoggedInUser"),users:e.get("users")}}n.d(t,"a",function(){return y});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(38)),p=n(938),f=n.n(p),d=n(58),m=n(17),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasCopiedLink:!1},n.logEvent=n.logEvent.bind(n),n.handleCopyClick=n.handleCopyClick.bind(n),n.getCurrentUrl=n.getCurrentUrl.bind(n),n}return r(t,e),h(t,[{key:"openPopup",value:function(e,t){this.logEvent(t),window.isApp?n.i(d.k)(null,e):window.open(e,"Share","height=640, width=640, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no")}},{key:"logEvent",value:function(e){this.props.logEvent({type:"share",payload:{obj:this.props.objId,obj_type:this.props.objType,sub_type:e}})}},{key:"handleCopyClick",value:function(){this.logEvent("link"),this.setState({hasCopiedLink:!0})}},{key:"getCurrentUrl",value:function(e){return e=e?e+"-":"",this.props.currentUser&&!this.props.referralCode?""+m.k+this.props.url+"?ref="+e+"user-share-"+this.props.currentUser:""+m.k+this.props.url}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"social-sharing","data-location":this.props.location},"referral-page"!=this.props.location&&l.a.createElement("div",{className:"section-heading"},this.props.prompt?"":"Share"),this.props.prompt?l.a.createElement("div",{className:"text"},l.a.createElement("p",null),l.a.createElement("p",null,"Hey ",l.a.createElement("strong",null,this.props.users.get(this.props.currentUser).get("firstName"),"!")),l.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.props.prompt}}),l.a.createElement("p",null)):null,l.a.createElement("div",{className:"social-sharing-tools"},l.a.createElement("div",{className:"link tool"},l.a.createElement(f.a,{"data-clipboard-text":this.getCurrentUrl("link"),onSuccess:this.handleCopyClick},l.a.createElement("span",{className:"link-icon icon"})),l.a.createElement("span",{className:"label"},this.state.hasCopiedLink?"Copied":"Copy Link")),l.a.createElement("div",{className:"messenger tool"},l.a.createElement("span",{className:"messenger-icon icon",onClick:function(){return e.openPopup("https://www.facebook.com/dialog/send?app_id="+window.ai+"&display=popup&link="+e.getCurrentUrl("messenger")+"&redirect_uri="+window.site+e.props.url,"messenger")}}),l.a.createElement("span",{className:"label"},"Messenger")),l.a.createElement("div",{className:"facebook tool"},l.a.createElement("span",{className:"facebook-icon icon",onClick:function(){return e.openPopup("https://www.facebook.com/dialog/share?app_id="+window.ai+"&display=popup&href="+e.getCurrentUrl("facebook")+"&redirect_uri="+window.site+e.props.url,"facebook")}}),l.a.createElement("span",{className:"label"},"Facebook")),l.a.createElement("div",{className:"twitter tool"},l.a.createElement("span",{className:"twitter-icon icon",onClick:function(){return e.openPopup("https://twitter.com/intent/tweet?url="+e.getCurrentUrl("twitter")+"&via=commonlounge&text="+encodeURIComponent(e.props.title),"twitter")}}),l.a.createElement("span",{className:"label"},"Twitter"))))}}]),t}(l.a.PureComponent),y=n.i(c.connect)(s,{logEvent:u.c})(g)},1045:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),a=n.n(s),l=n(39),c=(n.n(l),n(891)),u=n.n(c),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return r(t,e),p(t,[{key:"onClick",value:function(e){this.props.onClick(e,this.props.info.get("href"))}},{key:"render",value:function(){var e=this.props.info.toJS(),t="sidebar-label multi discussion-title zoom-on-hover zoom-to-normal";return"h2"==e.type&&(t+=" indented-1"),"editHistory"==e.type&&(t+=" edit-history"),e.href==this.props.currentActiveSection&&(t+=" active"),a.a.createElement("li",{id:""+e.href,className:t,onClick:this.onClick},"editHistory"==e.type?[a.a.createElement("span",null,a.a.createElement(u.a,{date:e.dtEdited})," by ",e.authorName," ","suggested"==e.status?a.a.createElement("span",{className:"label large"}," • Suggested"):"current"==e.status?a.a.createElement("span",{className:"label bold large"}," • Current"):""),a.a.createElement("div",null,a.a.createElement("span",{className:"additions"}," ",e.numAdditions," ++"),a.a.createElement("span",{className:"deletions"}," ",e.numDeletions," --"))]:e.display)}}]),t}(a.a.PureComponent),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.onClickDiscussion=n.onClickDiscussion.bind(n),n.getToc=n.getToc.bind(n),n}return r(t,e),p(t,[{key:"getToc",value:function(){var e=this;if(!this.props.discussion)return null;var t=[];if(this.props.showEditHistory)t=this.props.discussion.getIn(["editHistory","history"],n.i(l.List)()).map(function(t,o){return n.i(l.fromJS)({dtEdited:t.get("dtEdited"),authorName:e.props.users.getIn([t.get("author"),"displayName"]),numAdditions:t.get("numAdditions"),numDeletions:t.get("numDeletions"),status:t.get("status"),href:t.get("dtEdited"),type:"editHistory"})});else{t=this.props.discussion.get("toc");var o=this.props.discussion.getIn(["typeInfo","items","toc"]);o&&t&&(t=t.concat(o))}return t}},{key:"onClick",value:function(e,t){this.props.onClick(e,t)}},{key:"onClickDiscussion",value:function(e){this.props.onClick(e,"")}},{key:"render",value:function(){var e=this,t=this.getToc();return t&&t.size>0||this.props.playlistDiscussionId?a.a.createElement("div",null,this.props.playlistDiscussionId?a.a.createElement("div",{className:"sidebar-row current-discussion-row"},a.a.createElement("div",{className:"related-discussion zoom-on-hover zoom-to-normal "},a.a.createElement("div",{className:"sidebar-label multi discussion-title",onClick:this.onClickDiscussion},this.props.discussion.getIn(["name"],"")))):a.a.createElement("div",{className:"section-heading extra-padding-bottom"},this.props.showEditHistory?"Revisions":"Table of contents"),t&&t.size>0?a.a.createElement("div",{className:this.props.playlistDiscussionId?"toc-container with-left-border":"toc-container"},a.a.createElement("ol",{className:"toc"},t.map(function(t,n){return a.a.createElement(f,{onClick:e.onClick,info:t,currentActiveSection:e.props.currentActiveSection})}))):null):null}}]),t}(a.a.PureComponent);t.a=d},1056:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentLoggedInUser:e.get("currentLoggedInUser"),users:e.get("users"),discussions:e.get("discussions"),pricingInfo:e.get("pricingInfo"),experiments:e.get("experiments")}}n.d(t,"a",function(){return b});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(323)),f=n(39),d=(n.n(f),n(204)),m=n(38),h=(n(340),n(132)),g=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),y=n.i(p.a)("button",p.c),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEnrollWithProClick=n.onEnrollWithProClick.bind(n),n}return r(t,e),g(t,[{key:"onEnrollWithProClick",value:function(){this.props.fetchPixelInformation("click.course_enroll_with_pro"),u.browserHistory.push("/upgrade")}},{key:"render",value:function(){var e=this,t=(d.a.get("defaultFrequency"),this.props.discussions.getIn([this.props.discussionId]));if(!t)return null;var o=(t.getIn(["typeInfo","type"]),this.props.currentLoggedInUser),i=(this.props.users.getIn([this.props.currentLoggedInUser,"plan","isPromo"],!1),t.getIn(["typeInfo","items","discussions"],n.i(f.List)()).filter(function(t){return e.props.discussions.getIn([t,"isPremium"],!1)}).size),r=t.getIn(["typeInfo","items","discussions"],n.i(f.List)()).size-i,s="active"==this.props.users.getIn([o,"plan","status"]);t.getIn(["typeInfo","stats","projectCount"],0),t.getIn(["typeInfo","stats","quizCount"],0),d.a.get("symbol");return l.a.createElement("div",{className:"course-section course-enrollment-section"},this.props.onSubscribeClick?l.a.createElement(y,{className:"action-button blue large centered block no-max-width very-very-wide zoom-on-hover zoom-to-normal",onClick:this.props.onSubscribeClick,to:"/discussion/"+this.props.discussionId+"?action=playlist-subscribe",entityId:this.props.discussionId,action:"playlist-subscribe"},s||0==r?"Get Started":"Get Started for Free"):null,this.props.onUnSubscribeClick?l.a.createElement("div",{className:"action-button large centered block no-max-width very-very-wide gray with-padding zoom-on-hover zoom-to-normal",onClick:this.props.onUnSubscribeClick},"Enrolled"):null)}}]),t}(l.a.PureComponent),b=n.i(c.connect)(s,{fetchPixelInformation:m.a})(v)},1057:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{discussions:e.get("discussions")}}n.d(t,"a",function(){return y});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(947)),p=n.n(u),f=n(132),d=n.n(f),m=n(15),h=(n.n(m),function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),g=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),h(t,[{key:"render",value:function(){var e=this.props.discussions.getIn([this.props.discussionId]);if(!e)return null;var t=(e.getIn(["typeInfo","prerequisites"],null),e.getIn(["rating","avgRating"])),n=e.getIn(["typeInfo","subscribersCount"],0),o=e.getIn(["hasPremiumItems"]),i=n>99,r=e.getIn(["typeInfo","stats","videoCount"]),s=e.getIn(["typeInfo","stats","questionCount"]),a=e.getIn(["typeInfo","stats","projectCount"],0),c=e.getIn(["typeInfo","stats","tutorialCount"]);return l.a.createElement("div",{className:"course-section","data-location":this.props.location},l.a.createElement("div",{className:"course-info"},"sidebar"==this.props.location?l.a.createElement("div",{className:"course-name"},e.get("name")):null,i||t?l.a.createElement("div",{className:"course-rating-row"},t?l.a.createElement(p.a,{className:"inline-rating-box",edit:!1,value:t+.25}):null,i?l.a.createElement("span",null,l.a.createElement("strong",null,n)," students enrolled"):null):null,l.a.createElement("div",{className:"course-stats"},l.a.createElement("div",{className:"label with-bottom-padding"},"This course consists of:"),r>0&&l.a.createElement("div",{className:"videos course-stat"},l.a.createElement("strong",null,r," Interactive")," ",d()("Video",r)),s>0&&l.a.createElement("div",{className:"quizzes course-stat"},l.a.createElement("strong",null,s)," ",d()("Exercise",s)),c>0&&l.a.createElement("div",{className:"tutorials course-stat"},l.a.createElement("strong",null,c)," ",d()("Tutorial",c)),a>0&&l.a.createElement("div",{className:"projects course-stat"},l.a.createElement("strong",null,a)," ",d()("Project",a)),o?l.a.createElement("div",{className:"certificate course-stat"},"Certificate of Completion"):null),"sidebar"==this.props.location&&l.a.createElement("div",{className:"course-toc"},l.a.createElement("div",{className:"sidebar-row current-discussion-row"},l.a.createElement("a",{href:"#overview",className:"zoom-on-hover zoom-to-normal no-decoration"},"Overview")),l.a.createElement("div",{className:"sidebar-row current-discussion-row"},l.a.createElement("a",{href:"#syllabus",className:"zoom-on-hover zoom-to-normal no-decoration"},"Syllabus")),l.a.createElement("div",{className:"sidebar-row current-discussion-row"},l.a.createElement("a",{href:"#faqs",className:"zoom-on-hover zoom-to-normal no-decoration"},"FAQs")))))}}]),t}(l.a.PureComponent),y=n.i(c.connect)(s)(g)},1058:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users")}}n.d(t,"a",function(){return y});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(132)),f=n.n(p),d=n(131),m=n(324),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onContentClick=n.onContentClick.bind(n),n.state={showFullText:!1},n}return r(t,e),h(t,[{key:"onContentClick",value:function(){this.props.shouldLinkToDiscussion&&u.browserHistory.push("/discussion/"+this.props.discussion.get("eid"))}},{key:"createMarkup",value:function(e){return{__html:n.i(d.p)(n.i(d.q)(e))}}},{key:"render",value:function(){var e=this,t=this.props.users.get(this.props.discussion.get("creator"));if(t){var o=this.props.discussion.get("postsCount")?this.props.discussion.get("postsCount"):this.props.discussion.getIn(["posts","all","postsCount"],0),i=this.props.discussion.get("name"),r=this.props.discussion.get("description")||this.props.discussion.getIn(["snippet40","snippet"])||this.props.discussion.getIn(["snippet20","snippet"]);return l.a.createElement("div",{className:this.props.shouldLinkToDiscussion?"post-preview preview clickable":"post-preview preview",onClick:this.onContentClick},i?l.a.createElement("div",{className:"title"},i):"",l.a.createElement("div",{className:this.state.showFullText?"text show-full-text":"text"},this.state.showFullText?n.i(d.n)(r):n.i(d.n)(r,300)),l.a.createElement("div",{className:"byline"},t.get("displayName")," · ",this.props.discussion.getIn(["byline"],"")," ",!0!==this.props.ignorePostsCount?"· "+o+" "+f()(m.d,o):"",this.props.isTextExpandable?l.a.createElement("span",{className:"clickable",onClick:function(){return e.setState({showFullText:!e.state.showFullText})}},this.state.showFullText?" · Collapse":" · Show full text"):null))}}}]),t}(l.a.PureComponent),y=n.i(c.connect)(s)(g)},1059:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users")}}n.d(t,"a",function(){return d});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(131)),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showFullText:!1},n}return r(t,e),p(t,[{key:"render",value:function(){var e=this;if(!this.props.post)return null;var t=this.props.users.get(this.props.post.get("author"));if(!t)return null;var o=this.props.post.get("text")||this.props.post.getIn(["snippet40","snippet"])||this.props.post.getIn(["snippet20","snippet"]);return l.a.createElement("div",{className:"post-preview preview"},this.props.post.get("name")?l.a.createElement("div",{className:"title"},this.props.post.get("name")):null,l.a.createElement("div",{className:this.state.showFullText?"text show-full-text":"text"},l.a.createElement("span",{className:this.props.post.hasQuote?"hightlight":""},this.state.showFullText?n.i(u.n)(o):n.i(u.n)(o,300))),l.a.createElement("div",{className:"author-name"},t.get("displayName"),this.props.isTextExpandable?l.a.createElement("span",{className:"clickable",onClick:function(){return e.setState({showFullText:!e.state.showFullText})}},this.state.showFullText?" · Collapse":" · Show full text"):null))}}]),t}(l.a.PureComponent),d=n.i(c.connect)(s)(f)},1135:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{topics:e.get("topics")}}n.d(t,"a",function(){return m});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(132)),p=n.n(u),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),f(t,[{key:"render",value:function(){var e=this.props.topics.get(this.props.topicId);return e?l.a.createElement("div",{className:"topic-box box"},l.a.createElement("div",{className:"shifted-right"},l.a.createElement("div",{className:"title"},e.get("name")),l.a.createElement("div",{className:"label"},e.get("followersCount")," ",p()("follower",e.get("followersCount"))))):null}}]),t}(l.a.PureComponent),m=n.i(c.connect)(s)(d)},1306:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var s=n(1),a=n.n(s),l=n(37),c=(n.n(l),n(15)),u=(n.n(c),n(132)),p=n.n(u),f=(n(1005),n(324),n(58)),d=n(17),m=n(325),h=n(905),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onContentClick=n.onContentClick.bind(n),n}return r(t,e),g(t,[{key:"onContentClick",value:function(e,t){var o=this.props.discussion.get("eid");this.props.onClick&&this.props.onClick(e,o),n.i(f.o)(e,""+d.k+t)}},{key:"render",value:function(){var e=this;if(!this.props.discussion)return null;var t=this.props.discussion.get("eid"),o=n.i(m.c)(this.props.isPlaylistItem?this.props.playlist.getIn(["primaryImage"],null):this.props.discussion.getIn(["primaryImage"],null),null,300),i=this.props.discussion.getIn(["name"],null)||this.props.discussion.getIn(["snippet20"],""),r="/discussion/"+t,s=this.props.discussion.getIn(["typeInfo","stats","courseCount"],null),l=s>0,u=this.props.discussion.getIn(["typeInfo","stats","tutorialCount"],null),f=u>0,d=this.props.discussion.getIn(["typeInfo","stats","projectCount"],null),g=d>0,y=this.props.discussion.getIn(["typeInfo","stats","quizCount"],null),v=y>0;return a.a.createElement(c.Link,{className:"search-result course-search-result no-decoration",to:r,onClick:function(t){return e.onContentClick(t,r)}},a.a.createElement("div",{className:"main-content"},a.a.createElement("div",{className:"text-labels"},a.a.createElement("div",{className:"title"},i),a.a.createElement("div",{className:"pro-content-labels"},l?a.a.createElement("div",{className:"pro-content-label courses"},s," ",p()("Course",s)):null,f?a.a.createElement("div",{className:"pro-content-label tutorials"},u," ",p()("Tutorial",u)):null,g?a.a.createElement("div",{className:"pro-content-label projects"},d," ",p()("Project",d)):null,v?a.a.createElement("div",{className:"pro-content-label quizzes"},y," ",p()("Quiz",y)):null))),o?a.a.createElement(h.c,{className:"shifted-right-image",image:o}):null)}}]),t}(a.a.PureComponent),v=y},1307:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users")}}n.d(t,"a",function(){return v});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(132)),f=(n.n(p),n(1005),n(324),n(58)),d=n(17),m=n(325),h=n(905),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),y=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onContentClick=n.onContentClick.bind(n),n}return r(t,e),g(t,[{key:"onContentClick",value:function(e,t){var o=this.props.discussion.get("eid");this.props.onClick&&this.props.onClick(e,o),n.i(f.o)(e,""+d.k+t)}},{key:"render",value:function(){var e=this;if(!this.props.discussion)return null;var t=this.props.users.get(this.props.discussion.get("creator"));if(t){var o=this.props.discussion.get("eid"),i=n.i(m.c)(this.props.isPlaylistItem?this.props.playlist.getIn(["primaryImage"],null):this.props.discussion.getIn(["primaryImage"],null),null,300),r=this.props.discussion.getIn(["name"],null)||this.props.discussion.getIn(["snippet20"],""),s="/discussion/"+o;return l.a.createElement(u.Link,{className:"search-result tutorial-search-result no-decoration",to:s,onClick:function(t){return e.onContentClick(t,s)}},l.a.createElement("div",{className:"main-content"},l.a.createElement("div",{className:"text-labels"},l.a.createElement("div",{className:"title"},r),l.a.createElement("div",{className:"stats-line"},t.get("displayName")," · ",this.props.discussion.getIn(["byline"],"")))),i?l.a.createElement(h.c,{className:"shifted-right-image",image:i}):null)}}}]),t}(l.a.PureComponent),v=n.i(c.connect)(s)(y)},827:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentUser:e.get("currentLoggedInUser"),users:e.get("users"),notifications:e.get("notifications"),notificationsFeed:e.get("notificationsFeed"),isFetchingNotifications:e.getIn(["pagination","notifications","isFetching"],!1),currentOffsetBeingFetched:e.getIn(["pagination","notifications","currentOffsetBeingFetched"],0)}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Notifications",function(){return I}),n.d(t,"NotificationsContainer",function(){return P});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(891)),f=n.n(p),d=n(39),m=(n.n(d),n(132)),h=(n.n(m),n(899)),g=n.n(h),y=n(133),v=n(887),b=(n(134),n(97)),E=n(323),w=n(38),k=n(894),C=n.n(k),N=(n(324),n(131)),_=n(32),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),I=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.fetchNotifications(0),n.isDataAvailable=n.isDataAvailable.bind(n),n.onNotificationClick=n.onNotificationClick.bind(n),n.loadMore=n.loadMore.bind(n),n}return r(t,e),O(t,[{key:"loadMore",value:function(){this.props.fetchNotifications()}},{key:"onNotificationClick",value:function(e){this.props.toggleNotificationRead([e])}},{key:"componentWillUnmount",value:function(){}},{key:"isDataAvailable",value:function(){return this.props.notificationsFeed.size}},{key:"render",value:function(){var e=this,t=n.i(E.a)(null),o=null;this.props.currentUser&&(o=this.props.notificationsFeed.map(function(t,o){var i=e.props.notifications.get(t);return l.a.createElement(u.Link,{to:i.get("mainObjectPath"),className:"no-decoration",key:o,onClick:function(){return e.onNotificationClick(i.get("eid"))}},l.a.createElement("div",{className:i.get("isRead")?"notification read":"notification unread"},l.a.createElement(y.a,{preserveOriginal:!0,size:50,className:"avatar-image",src:i.get("avatar")?i.get("avatar"):i.get("avatarName")?null:C.a,name:i.get("avatarName")}),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"text"},n.i(N.k)(i.get("genericTemplate").toJS())),l.a.createElement("div",{className:"timeago label"},l.a.createElement("span",{className:"emoji"},i.get("emoji")),l.a.createElement(f.a,{date:i.get("dt")})))))}));var i=this.props.isFetchingNotifications?l.a.createElement("div",{className:"loader-div"},l.a.createElement(b.a,null),0==this.props.currentOffsetBeingFetched?l.a.createElement("div",{className:"loading-text no-uppercase"},"Checking for new notifications…"):l.a.createElement("div",{className:"loading-text"},"Loading…")):null,r=0!=this.props.isPage;return l.a.createElement("div",{className:r?"page notifications-page":"notifications-container"},r?l.a.createElement(t,{checkAuthOn:"load",allowLurker:!0,to:"/notifications"}):null,r?l.a.createElement(v.a,{noBack:!0,isNav:!0}):null,this.props.currentUser&&this.props.users.get(this.props.currentUser).get("unreadNotificationsCount")>0&&(0!=this.props.currentOffsetBeingFetched||!this.props.isFetchingNotifications)?l.a.createElement("div",{className:r?"mark-all-as-read-button with-margin-top":"mark-all-as-read-button",onClick:this.props.markAllNotificationsAsRead},"Mark all as read"):null,0===this.props.currentOffsetBeingFetched?i:null,this.props.notifications.size?o:this.props.isFetchingNotifications?null:l.a.createElement("div",{className:"onboarding-text-label"},"You have no notifications (yet)."),r?l.a.createElement(g.a,{onEnter:this.loadMore,scrollableAncestor:n.i(_.f)()?window:null,bottomOffset:"-200px"}):l.a.createElement("div",{className:"show-older-notifications-button"},l.a.createElement(u.Link,{to:"/notifications"},"Show older notifications")),0!=this.props.currentOffsetBeingFetched?i:null)}}]),t}(l.a.PureComponent),P=n.i(c.connect)(s,{fetchNotifications:w.z,toggleNotificationRead:w.A,markAllNotificationsAsRead:w.B,resetPagination:w.C})(I)},834:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{searchResults:e.get("search"),discussions:e.get("discussions"),discussionPosts:e.get("discussionPosts"),isFetchingGlobalSearch:e.get("isFetchingGlobalSearch")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Search",function(){return I}),n.d(t,"SearchContainer",function(){return P});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(887)),p=n(15),f=(n.n(p),n(17)),d=n(58),m=n(38),h=n(972),g=n(889),y=(n(1135),n(1306)),v=n(1307),b=n(1059),E=n(1058),w=n(932),k=n(927),C=n(39),N=(n.n(C),n(97)),_=(n(134),n(324)),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),I=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.search=r.search.bind(r),r.onChange=r.onChange.bind(r),r.isFetchingSearch=!1,r.clearQuery=r.clearQuery.bind(r),r.shouldShowType=r.shouldShowType.bind(r);var s=n.i(d.c)("q")||"";return r.state={query:s,deferredSearchQuery:null},r}return r(t,e),O(t,[{key:"componentWillReceiveProps",value:function(e){this.props.params.filter!=e.params.filter&&this.search(this.state.query,e.params.filter)}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.params.filter,n=0!=this.props.isPage;void 0!=e&&(t="top"==t?"all":t,this.props.search(e,t),this.setState({query:e}),n&&history.replaceState("",document.title,location.pathname+"?q="+e))}},{key:"onChange",value:function(e){var t=this;this.isFetchingSearch||f.c?this.setState({deferredSearchQuery:e}):(this.isFetchingSearch=!0,this.search(e),window.setTimeout(function(){if(t.state.deferredSearchQuery){var e=t.state.deferredSearchQuery;t.isFetchingSearch=!1,t.setState({deferredSearchQuery:null}),t.onChange(e)}else t.isFetchingSearch=!1},500))}},{key:"shouldShowType",value:function(e){var t=this.props.params.filter||"top";return 0!=this.props.isPage?"top"==t||t==e:"paths"==e||"courses"==e||"tutorials"==e}},{key:"clearQuery",value:function(){this.setState({query:""})}},{key:"isFilterTop",value:function(){return"top"==(this.props.params.filter||"top")}},{key:"render",value:function(){var e=this,t=this.props.searchResults.get(this.state.query),n=this.props.params.filter||"top",o=0!=this.props.isPage;if(t){if(t=t.toJS(),this.shouldShowType("paths"))var i=t.paths?t.paths.map(function(t,n){return l.a.createElement(y.a,{discussion:e.props.discussions.get(t)})}):[];if(this.shouldShowType("courses"))var r=t.courses?t.courses.map(function(t,n){return l.a.createElement(y.a,{discussion:e.props.discussions.get(t)})}):[];if(this.shouldShowType("tutorials"))var s=t.tutorials?t.tutorials.map(function(t,n){return l.a.createElement(v.a,{discussion:e.props.discussions.get(t)})}):[];if(this.shouldShowType("communities"))var a=t.communities?t.communities.map(function(e,t){return l.a.createElement(h.a,{communityId:e,shouldLinkToCommunity:!0,hasFollow:!0})}):[];if(this.shouldShowType("users"))var c=t.users?t.users.map(function(e,t){return l.a.createElement(g.a,{key:t,userId:e,shouldLinkToUser:!0})}):[];if(this.shouldShowType("discussions"))var d=t.discussions?t.discussions.map(function(t,n){return l.a.createElement(p.Link,{className:"no-decoration",to:"/discussion/"+t},l.a.createElement(E.a,{discussion:e.props.discussions.get(t),ignorePostsCount:!0}))}):[];if(this.shouldShowType("posts"))var m=t.posts?t.posts.map(function(t,n){var o=e.props.discussionPosts.get(t);return l.a.createElement(p.Link,{className:"no-decoration",to:"/discussion/"+e.props.discussions.get(o.get("discussion")).get("eid")+"/all/"+t},l.a.createElement(b.a,{post:o}))}):[]}var C=[{name:"top",linkTo:"/search/top",isActive:"top"==n,displayName:"Top"},{name:"paths",linkTo:"/search/paths",isActive:"paths"==n,displayName:"Paths"},{name:"courses",linkTo:"/search/courses",isActive:"courses"==n,displayName:"Courses"},{name:"tutorials",linkTo:"/search/tutorials",isActive:"tutorials"==n,displayName:"Tutorials"},{name:"communities",linkTo:"/search/communities",isActive:"communities"==n,displayName:"Communities"},{name:"users",linkTo:"/search/users",isActive:"users"==n,displayName:"People"},{name:"discussions",linkTo:"/search/discussions",isActive:"discussions"==n,displayName:"Discussions"},{name:"posts",linkTo:"/search/posts",isActive:"posts"==n,displayName:_.b}],O=C.map(function(t){return l.a.createElement(p.Link,{to:t.linkTo+(e.state.query?"?q="+e.state.query:"")},l.a.createElement("div",{className:t.isActive?"active tab-link":"tab-link"},t.displayName,l.a.createElement("div",{className:"line"})))}),I=l.a.createElement("div",{className:"search-results"},this.props.isFetchingGlobalSearch&&(!this.props.isPage&&this.state.query||this.props.isPage)?l.a.createElement("div",{className:"loader-div"},l.a.createElement(N.a,null),l.a.createElement("div",{className:"loading-text"},"Loading…")):null,t&&!this.props.isFetchingGlobalSearch?l.a.createElement("div",null,this.shouldShowType("paths")&&i.length>0?l.a.createElement("div",{className:"list paths-list"},l.a.createElement("div",{className:"section-heading"},"Paths"),l.a.createElement("div",{className:"section-items"},o?i:i.slice(0,3))):"paths"==this.props.params.filter?l.a.createElement("div",{className:"list"},this.isFilterTop()?l.a.createElement("div",{className:"section-heading"},"Paths"):null,l.a.createElement("div",{className:"onboarding-text-label"},l.a.createElement("br",null),""!=this.state.query?"Sorry, your search did not match any paths.":"Search for a path above to see results.")):null,this.shouldShowType("courses")&&r.length>0?l.a.createElement("div",{className:"list courses-list"},l.a.createElement("div",{className:"section-heading"},"Courses"),l.a.createElement("div",{className:"section-items"},o?r:r.slice(0,3))):"courses"==this.props.params.filter?l.a.createElement("div",{className:"list"},this.isFilterTop()?l.a.createElement("div",{className:"section-heading"},"Courses"):null,l.a.createElement("div",{className:"onboarding-text-label"},l.a.createElement("br",null),""!=this.state.query?"Sorry, your search did not match any courses.":"Search for a course above to see results.")):null,this.shouldShowType("tutorials")&&s.length>0?l.a.createElement("div",{className:"list tutorials-list"},l.a.createElement("div",{className:"section-heading"},"Tutorials"),l.a.createElement("div",{className:"section-items"},o?s:s.slice(0,3))):"tutorials"==this.props.params.filter?l.a.createElement("div",{className:"list"},this.isFilterTop()?l.a.createElement("div",{className:"section-heading"},"Tutorials"):null,l.a.createElement("div",{className:"onboarding-text-label"},l.a.createElement("br",null),""!=this.state.query?"Sorry, your search did not match any tutorials.":"Search for a tutorial above to see results.")):null,this.shouldShowType("communities")&&a.length>0?l.a.createElement("div",{className:"list communities-list"},l.a.createElement("div",{className:"section-heading"},"Communities"),l.a.createElement("div",{className:"section-items"},a)):"communities"==this.props.params.filter?l.a.createElement("div",{className:"list"},this.isFilterTop()?l.a.createElement("div",{className:"section-heading"},"Communities"):null,l.a.createElement("div",{className:"onboarding-text-label"},l.a.createElement("br",null),"Sorry, your search did not match any communities",this.state.query.length<4?l.a.createElement("span",null,".",l.a.createElement("br",null),"Try typing in a few more characters!"):"!",l.a.createElement("br",null),l.a.createElement("br",null),"Didn't find a community you were looking for?",l.a.createElement("br",null),"You should request one ",l.a.createElement(p.Link,{to:"/discussion/a422f5395ba742aba1802bcd62bcf8e0/main"},"here."))):null,this.shouldShowType("discussions")&&d.length>0?l.a.createElement("div",{className:"list discussions-list"},l.a.createElement("div",{className:"section-heading"},"Discussions"),l.a.createElement("div",{className:"section-items"},d)):"discussions"==this.props.params.filter?l.a.createElement("div",{className:"list"},this.isFilterTop()?l.a.createElement("div",{className:"section-heading"},"Discussions"):null,l.a.createElement("div",{className:"onboarding-text-label"},l.a.createElement("br",null),""!=this.state.query?"Sorry, your search did not match any discussions.":"Search for a discussion above to see results.")):null,this.shouldShowType("posts")&&m.length>0?l.a.createElement("div",{className:"list posts-list"},l.a.createElement("div",{className:"section-heading"},_.b),l.a.createElement("div",{className:"section-items"},m)):"posts"==this.props.params.filter?l.a.createElement("div",{className:"list"},this.isFilterTop()?l.a.createElement("div",{className:"section-heading"},_.b):null,l.a.createElement("div",{className:"onboarding-text-label"},l.a.createElement("br",null),""!=this.state.query?"Sorry, your search did not match any "+_.e+".":"Search for "+_.e+" above to see results.")):null,this.shouldShowType("users")&&c.length>0?l.a.createElement("div",{className:"list user-list"},l.a.createElement("div",{className:"section-heading"},"People"),l.a.createElement("div",{className:"section-items"},c)):"users"==this.props.params.filter?l.a.createElement("div",{className:"list"},this.isFilterTop()?l.a.createElement("div",{className:"section-heading"},"People"):null,l.a.createElement("div",{className:"onboarding-text-label"},""!=this.state.query?l.a.createElement("span",null,l.a.createElement("br",null),"Sorry, your search did not match any users!",l.a.createElement("br",null),"Are you sure you spelled it right? "):l.a.createElement("span",null,l.a.createElement("br",null),"Search for a user above to see results."))):null,o||""==this.state.query?null:l.a.createElement(p.Link,{to:"/search?q="+this.state.query,className:"label block centered-text bold large uppercase with-margin"},"See all results")):null);return l.a.createElement("div",{className:o?"page search-page":""==this.state.query?"search-container":"search-container with-results"},o?l.a.createElement(u.a,{routerGoBack:!0}):null,l.a.createElement(k.a,{initialSearchTerm:this.state.query,query:this.state.deferredSearchQuery||this.state.query,placeholder:this.props.placeholder,onChange:this.onChange,isPage:this.props.isPage,hasBorder:!0,clearQuery:this.clearQuery,autoFocus:o}),o?l.a.createElement("div",{className:"tabs-bar"},O):null,o||""!=this.state.query?I:null,!f.a&&o?l.a.createElement(w.a,{filters:C,showFilters:!0}):null)}}]),t}(l.a.PureComponent),P=n.i(c.connect)(s,{search:m.G,clearState:m._15},null,{withRef:!0})(I)},843:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{communities:e.get("communities"),currentLoggedInUser:e.get("currentLoggedInUser")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Followers",function(){return v}),n.d(t,"FollowersContainer",function(){return b});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(39)),f=(n.n(p),n(887)),d=(n(972),n(38)),m=n(932),h=n(889),g=n(134),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchCommunities=n.fetchCommunities.bind(n),n.onChange=n.onChange.bind(n),n.isDataAvailable=n.isDataAvailable.bind(n),n.fetchCommunities(),n}return r(t,e),y(t,[{key:"fetchCommunities",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.fetchCommunityMetadata(this.props.params.communityId,null,["followers","accessLevel","isModerator","followersCount"])}},{key:"onChange",value:function(e){this.fetchCommunities(e)}},{key:"isDataAvailable",value:function(){var e=this.props.communities.get(this.props.params.communityId);return e&&e.get("followers")}},{key:"render",value:function(){var e=this.props.params.communityId;if(!this.isDataAvailable())return l.a.createElement("div",{className:"communities-page page"},l.a.createElement(f.a,{routerGoBack:!0}),l.a.createElement("div",{className:"fixed-width-tabs-bar"},l.a.createElement(u.Link,{to:"/community/"+e+"/members"},"Members"),l.a.createElement("span",{className:"vertical-separator"}),l.a.createElement(u.Link,{to:"/community/"+e+"/followers",className:"active"},"Followers")),l.a.createElement(g.a,null),l.a.createElement(m.a,{activeCommunityId:e}));var t=this.props.communities.get(e),n=t.get("followers").toJS(),o="closed_contribution"==t.get("accessLevel"),i=t.get("isModerator").get(this.props.currentLoggedInUser)&&o,r=t.get("followersCount"),s=n.map(function(e,t){return l.a.createElement(h.a,{key:t,userId:e,shouldLinkToUser:!0})});return l.a.createElement("div",{className:"communities-page page"},l.a.createElement(f.a,{routerGoBack:!0}),l.a.createElement("div",{className:"fixed-width-tabs-bar"},l.a.createElement(u.Link,{to:"/community/"+e+"/members"},"Members"),l.a.createElement("span",{className:"vertical-separator"}),l.a.createElement(u.Link,{to:"/community/"+e+"/followers",className:"active"},"Followers"),i?l.a.createElement("span",{className:"vertical-separator"}):null,i?l.a.createElement(u.Link,{to:"/community/"+e+"/pending"},"Pending"):null),l.a.createElement("div",{className:"communities-list list"},s.length>0?l.a.createElement("div",null,l.a.createElement("div",{className:"section-heading"},"Followers"),l.a.createElement("div",{className:"section-items"},s)):null,r>50?l.a.createElement("div",{className:"onboarding-text-label"},r-50," other followers"):null),l.a.createElement(m.a,{activeCommunityId:e}))}}]),t}(l.a.PureComponent),b=n.i(c.connect)(s,{fetchCommunityMetadata:d.X})(v)},844:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{communities:e.get("communities"),users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Members",function(){return v}),n.d(t,"MembersContainer",function(){return b});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(39)),f=(n.n(p),n(887)),d=(n(972),n(932)),m=n(38),h=n(889),g=n(134),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchCommunities=n.fetchCommunities.bind(n),n.isDataAvailable=n.isDataAvailable.bind(n),n.removeUser=n.removeUser.bind(n),n.fetchCommunities(),n}return r(t,e),y(t,[{key:"fetchCommunities",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.fetchCommunityMetadata(this.props.params.communityId,null,["members","moderators","accessLevel","isModerator","membersCount"])}},{key:"isDataAvailable",value:function(){var e=this.props.communities.get(this.props.params.communityId);return e&&e.get("members")&&e.get("moderators")}},{key:"removeUser",value:function(e,t){confirm("Are you sure you want to remove "+this.props.users.get(e).get("displayName")+" "+(t?"as a moderator of":"from")+" your community?")&&this.props.manageCommunityMembership(this.props.params.communityId,e,"remove")}},{key:"render",value:function(){var e=this,t=this.props.params.communityId;if(!this.isDataAvailable())return l.a.createElement("div",{className:"communities-page page"},l.a.createElement(f.a,{routerGoBack:!0}),l.a.createElement("div",{className:"fixed-width-tabs-bar"},l.a.createElement(u.Link,{to:"/community/"+t+"/members",className:"active"},"Members"),l.a.createElement("span",{className:"vertical-separator"}),l.a.createElement(u.Link,{to:"/community/"+t+"/followers"},"Followers")),l.a.createElement("div",{className:"communities-list list"},l.a.createElement("div",null,l.a.createElement("div",{className:"section-heading"},"Moderators")),l.a.createElement("div",{className:"section-heading"},"Members You Follow"),l.a.createElement("div",{className:"section-heading"},"Other Members")),l.a.createElement(g.a,null),l.a.createElement(d.a,{activeCommunityId:t}));var n=this.props.communities.get(t),o=n.get("isModerator").get(this.props.currentLoggedInUser),i="closed_contribution"==n.get("accessLevel"),r=n.get("membersCount"),s=o&&i,a=n.get("moderators").toJS(),c=n.get("members").toJS(),p=c.filter(function(t){return-1==a.indexOf(t)&&!0===e.props.users.get(t).get("isFollowing")}),m=c.filter(function(t){return-1==a.indexOf(t)&&!1===e.props.users.get(t).get("isFollowing")}),y=void 0,v=void 0,b=void 0;return o?(y=a.map(function(t,n){return l.a.createElement(h.a,{key:n,userId:t,hideFollowButton:!0,shouldLinkToUser:!0,removeButton:!0,removeUser:function(t){return e.removeUser(t,!0)}})}),v=p.map(function(t,n){return l.a.createElement(h.a,{key:n,userId:t,hideFollowButton:!0,shouldLinkToUser:!0,removeButton:!0,removeUser:function(t){return e.removeUser(t,!1)}})}),b=m.map(function(t,n){return l.a.createElement(h.a,{key:n,userId:t,hideFollowButton:!0,shouldLinkToUser:!0,removeButton:!0,removeUser:function(t){return e.removeUser(t,!1)}})})):(y=a.map(function(e,t){return l.a.createElement(h.a,{key:t,userId:e,shouldLinkToUser:!0})}),v=p.map(function(e,t){return l.a.createElement(h.a,{key:t,userId:e,hideFollowButton:!0,shouldLinkToUser:!0})}),b=m.map(function(e,t){return l.a.createElement(h.a,{key:t,userId:e,shouldLinkToUser:!0})})),l.a.createElement("div",{className:"communities-page page"},l.a.createElement(f.a,{routerGoBack:!0}),l.a.createElement("div",{className:"fixed-width-tabs-bar"},l.a.createElement(u.Link,{to:"/community/"+t+"/members",className:"active"},"Members"),l.a.createElement("span",{className:"vertical-separator"}),l.a.createElement(u.Link,{to:"/community/"+t+"/followers"},"Followers"),s?l.a.createElement("span",{className:"vertical-separator"}):null,s?l.a.createElement(u.Link,{to:"/community/"+t+"/pending"},"Pending"):null),l.a.createElement("div",{className:"communities-list list"},y.length>0?l.a.createElement("div",null,l.a.createElement("div",{className:"section-heading"},"Moderators"),l.a.createElement("div",{className:"section-items"},y)):null,l.a.createElement("div",{className:"section-heading"},"Members You Follow"),v.length>0?l.a.createElement("div",{className:"section-items"},v):l.a.createElement("div",{className:"onboarding-text-label"}),l.a.createElement("div",{className:"section-heading"},"Other Members"),b.length>0?l.a.createElement("div",{className:"section-items"},b):l.a.createElement("div",{className:"onboarding-text-label"}),r>50?l.a.createElement("div",{className:"onboarding-text-label"},r-50," other members"):null),l.a.createElement(d.a,{activeCommunityId:t}))}}]),t}(l.a.PureComponent),b=n.i(c.connect)(s,{fetchCommunityMetadata:m.X,manageCommunityMembership:m._37})(v)},846:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{communities:e.get("communities")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PendingRequests",function(){return b}),n.d(t,"PendingRequestsContainer",function(){return E});var l=n(1),c=n.n(l),u=n(37),p=(n.n(u),n(15)),f=(n.n(p),n(39)),d=(n.n(f),n(887)),m=(n(972),n(38)),h=n(932),g=n(889),y=n(134),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),b=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchCommunities=n.fetchCommunities.bind(n),n.isDataAvailable=n.isDataAvailable.bind(n),n.acceptUser=n.acceptUser.bind(n),n.ignoreUser=n.ignoreUser.bind(n),n.undoAcceptUser=n.undoAcceptUser.bind(n),n.undoIgnoreUser=n.undoIgnoreUser.bind(n),n.processUserId=n.processUserId.bind(n),n.fetchCommunities(),n.state={acceptedUsers:[],ignoredUsers:[]},n}return s(t,e),v(t,[{key:"fetchCommunities",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.fetchCommunityMetadata(this.props.params.communityId,null,["pending_join_requests","ignored_join_requests","access_level","is_moderator"])}},{key:"isDataAvailable",value:function(){var e=this.props.communities.get(this.props.params.communityId);return e&&e.get("pendingJoinRequests")}},{key:"acceptUser",value:function(e){this.props.manageCommunityMembership(this.props.params.communityId,e,"accept"),this.setState({acceptedUsers:[].concat(o(this.state.acceptedUsers),[e])})}},{key:"ignoreUser",value:function(e){this.props.manageCommunityMembership(this.props.params.communityId,e,"ignore"),this.setState({ignoredUsers:[].concat(o(this.state.ignoredUsers),[e])})}},{key:"undoAcceptUser",value:function(e){if(confirm("Are you sure you want to undo the acceptance?")){this.props.manageCommunityMembership(this.props.params.communityId,e,"pending");var t=this.state.acceptedUsers.indexOf(e);this.setState({acceptedUsers:[].concat(o(this.state.acceptedUsers.slice(0,t)),o(this.state.acceptedUsers.slice(t+1)))})}}},{key:"undoIgnoreUser",value:function(e){if(confirm("Are you sure you want to undo the ignore?")){this.props.manageCommunityMembership(this.props.params.communityId,e,"pending");var t=this.state.ignoredUsers.indexOf(e);this.setState({ignoredUsers:[].concat(o(this.state.ignoredUsers.slice(0,t)),o(this.state.ignoredUsers.slice(t+1)))})}}},{key:"processUserId",value:function(e,t){return this.state.acceptedUsers.indexOf(e)>-1?c.a.createElement(g.a,{key:t,userId:e,hideFollowButton:!0,shouldLinkToUser:!0,undoAcceptButton:!0,undoAcceptUser:this.undoAcceptUser}):this.state.ignoredUsers.indexOf(e)>-1?c.a.createElement(g.a,{key:t,userId:e,hideFollowButton:!0,shouldLinkToUser:!0,undoIgnoreButton:!0,undoIgnoreUser:this.undoIgnoreUser}):c.a.createElement(g.a,{key:t,userId:e,acceptIgnoreButtons:!0,hideFollowButton:!0,shouldLinkToUser:!0,acceptUser:this.acceptUser,ignoreUser:this.ignoreUser})}},{key:"render",value:function(){if(!this.isDataAvailable())return c.a.createElement(y.a,null);var e=this.props.params.communityId,t=this.props.communities.get(e),n=t.get("pendingJoinRequests").toJS(),o=t.get("ignoredJoinRequests").toJS(),i=n.map(this.processUserId),r=o.map(this.processUserId);return c.a.createElement("div",{className:"communities-page page"},c.a.createElement(d.a,{routerGoBack:!0}),c.a.createElement("div",{className:"fixed-width-tabs-bar"},c.a.createElement(p.Link,{to:"/community/"+e+"/members"},"Members"),c.a.createElement("span",{className:"vertical-separator"}),c.a.createElement(p.Link,{to:"/community/"+e+"/followers"},"Followers"),c.a.createElement("span",{className:"vertical-separator"}),c.a.createElement(p.Link,{to:"/community/"+e+"/pending",className:"active"},"Pending")),c.a.createElement("div",{className:"communities-list list"},c.a.createElement("div",{className:"section-heading"},"Pending Requests"),n.length>0?c.a.createElement("div",{className:"section-items"},i):c.a.createElement("div",{className:"onboarding-text-label"},"There are no pending requests at this time :)"),o.length>0?c.a.createElement("div",null,c.a.createElement("div",{className:"section-heading"},"Ignored Requests"),c.a.createElement("div",{className:"section-items"},r)):null),c.a.createElement(h.a,{activeCommunityId:e}))}}]),t}(c.a.PureComponent),E=n.i(u.connect)(a,{fetchCommunityMetadata:m.X,manageCommunityMembership:m._37})(b)},878:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{myTopics:e.get("myTopics")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Topics",function(){return v}),n.d(t,"TopicsContainer",function(){return b});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(887)),f=n(1135),d=n(38),m=n(323),h=n(932),g=n(927),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchTopics=n.fetchTopics.bind(n),n.onChange=n.onChange.bind(n),n.fetchTopics(),n.state={isFetchingSearch:!1,deferredSearchQuery:null},n}return r(t,e),y(t,[{key:"fetchTopics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.props.fetchUserTopics(e)}},{key:"onChange",value:function(e){var t=this;this.state.isFetchingSearch?this.setState({deferredSearchQuery:e}):(this.setState({isFetchingSearch:!0}),this.fetchTopics(e),window.setTimeout(function(){if(t.state.deferredSearchQuery){var e=t.state.deferredSearchQuery;t.setState({deferredSearchQuery:null,isFetchingSearch:!1}),t.onChange(e)}else t.setState({isFetchingSearch:!1})},500))}},{key:"render",value:function(){var e=n.i(m.a)(null),t=this.props.myTopics.get("following").map(function(e,t){return l.a.createElement(u.Link,{className:"no-decoration",to:"/topic/"+e},l.a.createElement(f.a,{topicId:e}))});return l.a.createElement("div",{className:"topics-page page"},l.a.createElement(e,{checkAuthOn:"load",allowLurker:!0,to:"/me/topics"}),l.a.createElement(p.a,{routerGoBack:!0}),l.a.createElement(g.a,{placeholder:"Search your topics",onChange:this.onChange}),l.a.createElement("div",{className:"topic-list list"},l.a.createElement("div",{className:"section-heading"},"Following"),t.size>0?l.a.createElement("div",{className:"section-items"},t):l.a.createElement("div",{className:"onboarding-text-label"},"(Topics you follow will appear here)")),l.a.createElement(h.a,null))}}]),t}(l.a.PureComponent),b=n.i(c.connect)(s,{fetchUserTopics:d._24})(v)},887:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentUser:e.get("currentLoggedInUser"),users:e.get("users"),visitedPaths:e.get("visitedPaths")}}n.d(t,"a",function(){return k});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(59)),f=n.n(p),d=n(134),m=n(133),h=(n(323),n(897)),g=n(889),y=n(827),v=n(17),b=n(38),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isSignInSignUpModalOpen:!1,isProfileOptionsModalOpen:!1,isNotificationsModalOpen:!1,isMobile:v.h},n.onProfileIconClick=n.onProfileIconClick.bind(n),n.routerGoBack=n.routerGoBack.bind(n),n.onLogout=n.onLogout.bind(n),n.onGoProClick=n.onGoProClick.bind(n),n}return r(t,e),E(t,[{key:"onGoProClick",value:function(){this.props.fetchPixelInformation("click.top_nav_bar_go_pro")}},{key:"routerGoBack",value:function(){this.props.visitedPaths.size>1?this.props.router.goBack():u.browserHistory.push("/")}},{key:"onProfileIconClick",value:function(e){e.stopPropagation(),e.preventDefault(),this.setState({isProfileOptionsModalOpen:!this.state.isProfileOptionsModalOpen})}},{key:"onLogout",value:function(e){this.setState({loggingOut:!0})}},{key:"render",value:function(){var e=this,t=this.props.isNav?"":" desktop-only",n=this.props.classModifier||"",o=this.props.users.getIn([this.props.currentUser]),i=o&&"active"==o.getIn(["plan","status"])?o.getIn(["plan","type"]):null,r=this.props.users.getIn([this.props.currentUser,"unreadNotificationsCount"],0),s=this.props.users.getIn([this.props.currentUser,"unreadThreadCount"],0),a=this.state.isMobile?"":i?l.a.createElement("span",null,"CommonLounge",l.a.createElement("span",{className:"pro-label"},i)):"CommonLounge",c="avatar-image";return this.state.isMobile?s>0?c+=" flair medium message-icon":r>0&&(c+=" flair medium notification-icon"):s>0&&(c+=" flair medium message-icon"),l.a.createElement("div",{className:"topbar"+n},l.a.createElement("div",{className:"topbar-content"},l.a.createElement(f.a,{isOpen:this.state.isProfileOptionsModalOpen,onRequestClose:function(){return e.setState({isProfileOptionsModalOpen:!1})},overlayClassName:"modal-overlay profile-options-modal-overlay",className:"modal-content profile-options-modal-content"},l.a.createElement(g.a,{hideFollowButton:!0,userId:this.props.currentUser,shouldLinkToUser:!0,byline:i?"Pro Member":"View Profile"}),l.a.createElement(u.Link,{to:"/profile/subscriptions"},l.a.createElement("button",{className:"button profile-option-button"},"Enrollments")),l.a.createElement(u.Link,{to:"/profile/bookmarks"},l.a.createElement("button",{className:"button profile-option-button with-border-bottom"},"Bookmarks")),this.state.isMobile?l.a.createElement(u.Link,{to:"/notifications"},l.a.createElement("button",{className:"button profile-option-button"},"Notifications",r>0?l.a.createElement("span",{className:"red"}," (",r,")"):null)):null,l.a.createElement(u.Link,{to:"/inbox"},l.a.createElement("button",{className:"button profile-option-button with-border-bottom"},"Inbox",s>0?l.a.createElement("span",{className:"red"}," (",s,")"):null)),l.a.createElement(u.Link,{to:"/contribute"},l.a.createElement("button",{className:"button profile-option-button"},"How to contribute")),l.a.createElement(u.Link,{to:"/discussion/new?type=playlist"},l.a.createElement("button",{className:"button profile-option-button"},"Create a course")),l.a.createElement(u.Link,{to:"/discussion/new?type=wiki"},l.a.createElement("button",{className:"button profile-option-button with-border-bottom"},"Write a tutorial")),l.a.createElement(u.Link,{to:"/profile"},l.a.createElement("button",{className:"button profile-option-button"},"Profile")),l.a.createElement(u.Link,{to:"/profile/settings"},l.a.createElement("button",{className:"button profile-option-button"},"Settings")),l.a.createElement(u.Link,{to:"/referral"},l.a.createElement("button",{className:"button profile-option-button"},"Get a free month 🎁")),l.a.createElement("a",{href:"/logout/",onClick:this.onLogout},l.a.createElement("button",{className:"button profile-option-button"},"Logout"))),l.a.createElement(f.a,{isOpen:this.state.isNotificationsModalOpen,onRequestClose:function(){return e.setState({isNotificationsModalOpen:!1})},overlayClassName:"modal-overlay notifications-modal-overlay",className:"modal-content notifications-modal-content"},l.a.createElement(y.NotificationsContainer,{isPage:!1})),l.a.createElement(f.a,{isOpen:this.state.loggingOut,overlayClassName:"modal-overlay",className:"modal-content"},l.a.createElement(d.a,{customText:"Logging you out…"})),this.props.shomHome?l.a.createElement("div",{className:"left"},l.a.createElement(u.Link,{to:"/",className:"home no-decoration",activeClassName:"active",title:"Home"},a),this.props.children):null,this.props.noBack?null:l.a.createElement("div",{className:"left"},l.a.createElement("span",{className:"back-icon",onClick:this.props.routerGoBack?this.routerGoBack:this.props.goBack,title:"Back"}),l.a.createElement(u.Link,{to:"/",className:"home desktop-only no-decoration",activeClassName:"active",title:"Home"},a),this.props.children),this.props.isNav?l.a.createElement("div",{className:"left"},l.a.createElement(u.Link,{to:"/",className:"home no-decoration",activeClassName:"active",title:"Home"},a),this.props.children):null,this.props.currentUser?l.a.createElement("div",{className:"shifted-right"},l.a.createElement(u.Link,{to:"/search",className:"search",activeClassName:"active",title:"Search for people, communities, topics, discussions or replies"}),l.a.createElement(u.Link,{to:"/about",className:"thin-button no-decoration"},"About"),l.a.createElement(u.Link,{to:"/upgrade",className:i?"thin-button no-decoration":"thin-button no-decoration never-hide",onClick:this.onGoProClick},"Pricing"),this.props.infoUrl?l.a.createElement(u.Link,{to:this.props.infoUrl,className:"info",title:"Community Info"}):null,this.props.addUrl?l.a.createElement(u.Link,{to:this.props.addUrl,className:"add",title:"Start a new community"}):null,l.a.createElement("a",{className:this.props.currentUser&&r>0?"notifications unread"+t:"notifications"+t,activeClassName:"active",onClick:function(){e.setState({isNotificationsModalOpen:!0})}}),l.a.createElement("a",{className:this.props.currentUser?"avatar profile":"profile",onClick:this.onProfileIconClick},this.props.currentUser?l.a.createElement(m.a,{className:c,size:"25",name:this.props.users.get(this.props.currentUser).get("displayName"),src:this.props.users.get(this.props.currentUser).get("avatarUrl")}):null),this.props.onToggleSidebar?this.props.isRightSidebarOpen?l.a.createElement("div",{className:"close"}):l.a.createElement("div",{className:"hamburger",onClick:this.props.onToggleSidebar}):null):this.props.isNav||this.props.showSignUpInfoIfLoggedOut?l.a.createElement("div",{className:"shifted-right"},l.a.createElement(u.Link,{to:"/search",className:"search",activeClassName:"active",title:"Search for people, communities, topics, discussions or replies"}),l.a.createElement(u.Link,{to:"/about",className:"thin-button no-decoration"},"About"),l.a.createElement(u.Link,{to:"/upgrade",className:i?"thin-button no-decoration":"thin-button no-decoration never-hide",onClick:this.onGoProClick},"Pricing"),l.a.createElement("button",{className:"sign-up zoom-on-hover zoom-to-normal",onClick:function(){return e.setState({isSignInSignUpModalOpen:!0})}},"Get Started"),l.a.createElement(h.a,{postSignInSignUpTo:this.props.postSignInSignUpTo,isModalOpen:this.state.isSignInSignUpModalOpen,onRequestClose:function(){return e.setState({isSignInSignUpModalOpen:!1})}}),l.a.createElement(u.Link,{to:"/search/communities",className:this.props.forceShowCommunities?"explore":"explore{modifierString}",activeClassName:"active",checkAuthOn:"click",title:"Explore"}),this.props.onToggleSidebar?this.props.isRightSidebarOpen?l.a.createElement("div",{className:"close"}):l.a.createElement("div",{className:"hamburger",onClick:this.props.onToggleSidebar}):null):null))}}]),t}(l.a.PureComponent),k=n.i(c.connect)(s,{fetchPixelInformation:b.a})(n.i(u.withRouter)(w))},888:function(e,t,n){"use strict";function o(e){var t=new Date(e),n=(t.getDate(),t.getMonth(),t.getFullYear(),Math.round((Date.now()-t)/6048e5));return n>51?Math.round(n/52)+"y":n+"w"}function i(e){var t=Math.floor(e/3600),n=Math.floor(e/60%60),o=e%60,i="";return t>0&&(i+=t+" "+l()("hour",t)+" "),n>0&&(i+=n+" "+l()("minute",n)+" "),o>0&&(i+=o+" "+l()("second",o)),i}function r(e){var t=new Date,n=new Date(e),o=null;if(o=t-n>6048e5?{type:"full",format:{day:"2-digit",month:"2-digit",year:"2-digit"}}:t-n>864e5?{type:"mid",format:{weekday:"short"}}:{type:"short",format:{hour:"2-digit",minute:"2-digit"}},c[o.type][e])return c[o.type][e];var i=n.toLocaleString([],o.format);return c[o.type][e]=i,i}function s(e){return e?(e instanceof Date||(e=new Date(e)),e.toLocaleString([],{day:"2-digit",month:"short",year:"numeric"})):null}t.d=o,t.a=i,t.c=r,t.b=s;var a=n(132),l=n.n(a),c={full:{},mid:{},short:{}}},889:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser")}}n.d(t,"a",function(){return k});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(133)),p=n(890),f=n(38),d=n(15),m=(n.n(d),n(323)),h=n(894),g=n.n(h),y=n(888),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),b=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return r(t,e),v(t,[{key:"onClick",value:function(){this.props.isFollowing?window.confirm("Are you sure you want to unfollow "+this.props.displayName+"?")&&this.props.onClick():this.props.onClick()}},{key:"render",value:function(){return l.a.createElement("div",{className:"action-container",onClick:this.onClick},this.props.isFollowing?l.a.createElement("button",{className:"action-button following"},"Following"):l.a.createElement("button",{className:"action-button follow"},"Follow"))}}]),t}(l.a.PureComponent),E=n.i(m.a)(b),w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleUserFollow=n.toggleUserFollow.bind(n),n.onContentClick=n.onContentClick.bind(n),n.handleBioChange=n.handleBioChange.bind(n),n.onKeyPressForBio=n.onKeyPressForBio.bind(n),n.onDoneEditingBio=n.onDoneEditingBio.bind(n),n.state={hasCommunityBio:!(!e.communityId||!e.users.getIn([e.userId,"communitiesBio",e.communityId],!1)),hasBio:!!e.users.getIn([e.userId,"bio"],!1),byline:e.byline?e.byline:e.communityId?e.users.getIn([e.userId,"communitiesBio",e.communityId],e.users.getIn([e.userId,"bio"],"")):e.users.getIn([e.userId,"bio"],""),isEditingBio:!1},n}return r(t,e),v(t,[{key:"toggleUserFollow",value:function(){var e=this.props.userId;this.props.toggleUserFollow(e)}},{key:"onContentClick",value:function(e){this.props.shouldLinkToUser?d.browserHistory.push("/profile/"+this.props.userId):e.target.classList.contains("byline")&&this.props.isBioEditable&&this.setState({isEditingBio:!0})}},{key:"handleBioChange",value:function(e){this.setState({byline:e.target.value})}},{key:"onKeyPressForBio",value:function(e){13==(e.code||e.which)&&this.onDoneEditingBio()}},{key:"onDoneEditingBio",value:function(){this.props.communityId?this.props.editCommunityBio(this.props.communityId,this.state.byline):this.props.editProfile(this.props.currentLoggedInUser,{bio:this.state.byline},!1),this.setState({isEditingBio:!1,hasCommunityBio:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({hasCommunityBio:!(!e.communityId||!e.users.getIn([e.userId,"communitiesBio",e.communityId],!1)),hasBio:!!e.users.getIn([e.userId,"bio"],!1),byline:e.byline?e.byline:e.communityId?e.users.getIn([e.userId,"communitiesBio",e.communityId],e.users.getIn([e.userId,"bio"],"")):e.users.getIn([e.userId,"bio"],"")})}},{key:"render",value:function(){var e=this,t=this.props.users.get(this.props.userId);if(!t)return l.a.createElement("div",{className:"user-box"},l.a.createElement("div",{onClick:this.onContentClick},l.a.createElement(u.a,{className:"avatar-image",size:"30",src:g.a,name:"C L"})),l.a.createElement("div",{className:"shifted-right"},l.a.createElement("div",{className:"byline"},"Ask a question or start a poll…")));var o=this.state.byline,i="avatar-image";i+=this.props.flair?" flair "+this.props.flair:"",i+=this.props.shouldLinkToUser?" clickable":"";var r="user-box box";return r+=this.props.isCompact?" compact":"",r+=this.props.isSelected?" selected":"",l.a.createElement("div",{className:r,onClick:this.props.onClick?function(){return e.props.onClick(e.props.userId)}:null},this.props.rank?l.a.createElement("div",{className:"sidebar-label rank"},this.props.rank,"."):null,l.a.createElement("div",{onClick:this.onContentClick},l.a.createElement(u.a,{className:i,size:"30",name:t.get("displayName"),src:t.get("avatarUrl")})),l.a.createElement("div",{className:this.props.shouldLinkToUser?"shifted-right clickable":"shifted-right"},this.props.hideName?null:l.a.createElement("span",{className:"name",onClick:this.onContentClick},t.get("displayName")),this.props.timeAgoByline?l.a.createElement("span",{className:"byline",onClick:this.onContentClick},l.a.createElement(p.a,{date:this.props.timeAgoByline})):null,!o&&!this.props.isBioEditable||this.props.hideByline||this.props.timeAgoByline?null:this.state.isEditingBio?l.a.createElement("div",{style:{lineHeight:0}},l.a.createElement("input",{type:"text",maxLength:"60",className:"bio-input",autoFocus:"autofocus",placeholder:"Help others understand your experience with this topic",value:this.state.byline,onChange:this.handleBioChange,onKeyPress:this.onKeyPressForBio}),l.a.createElement("span",{className:"thin-button",onClick:this.onDoneEditingBio},"Done")):l.a.createElement("span",{className:"byline",onClick:this.onContentClick},o,this.props.isBioEditable?this.props.communityId?this.state.hasCommunityBio?l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," (Edit) "):l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," Set Community Bio "):this.state.hasBio?l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," (Edit) "):l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," Set Bio "):null),this.props.acceptIgnoreButtons?l.a.createElement("div",{className:"accept-ignore-buttons"},l.a.createElement("button",{className:"action-button accept",onClick:function(){return e.props.acceptUser(e.props.userId)}},"Accept"),l.a.createElement("button",{className:"action-button ignore",onClick:function(){return e.props.ignoreUser(e.props.userId)}},"Ignore")):null,this.props.undoAcceptButton?l.a.createElement("div",{className:"accept-ignore-buttons"},l.a.createElement("button",{className:"action-button accept",onClick:function(){return e.props.undoAcceptUser(e.props.userId)}},"Accepted")):null,this.props.undoIgnoreButton?l.a.createElement("div",{className:"accept-ignore-buttons"},l.a.createElement("button",{className:"action-button ignore",onClick:function(){return e.props.undoIgnoreUser(e.props.userId)}},"Ignored")):null),void 0!=this.props.score?l.a.createElement("div",{className:"label score"},this.props.score):null,void 0!=this.props.timestamp?l.a.createElement("div",{className:"label timestamp"},n.i(y.c)(this.props.timestamp)):null,this.props.isUnread?l.a.createElement("div",{className:"unread-dot"}):l.a.createElement("div",{className:"unread-dot read"}),this.props.addButton?l.a.createElement("div",{className:"action-container"},l.a.createElement("button",{className:"action-button add",onClick:function(){return e.props.addUser(e.props.userId)}},"Add")):this.props.removeButton&&this.props.userId!=this.props.currentLoggedInUser?l.a.createElement("div",{className:"action-container"},l.a.createElement("button",{className:"action-button remove",onClick:function(){return e.props.removeUser(e.props.userId)}},"Remove")):this.props.userId==this.props.currentLoggedInUser||this.props.hideFollowButton?null:l.a.createElement(E,{onClick:this.toggleUserFollow,allowLurker:!0,displayName:t.get("displayName"),isFollowing:t.get("isFollowing")}))}}]),t}(l.a.PureComponent),k=n.i(c.connect)(s,{toggleUserFollow:f.m,editCommunityBio:f.y,editProfile:f.h})(n.i(d.withRouter)(w))},890:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),a=n.n(s),l=n(891),c=n.n(l),u=n(888),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),p(t,[{key:"render",value:function(){var e=this.props.date,t=n.i(u.d)(e);return Date.now()-new Date(e)<6048e5?a.a.createElement(c.a,{date:e}):a.a.createElement("span",null,t)}}]),t}(a.a.PureComponent);t.a=f},891:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR=t.MONTH=t.WEEK=t.DAY=t.HOUR=t.MINUTE=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(1),f=o(p),d=n(903),m=o(d),h=n(902),g=o(h),y=t.MINUTE=60,v=t.HOUR=60*y,b=t.DAY=24*v,E=t.WEEK=7*b,w=t.MONTH=30*b,k=t.YEAR=365*b,C=function(e){function t(){var e,n,o,i;r(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.isStillMounted=!1,o.tick=function(e){if(o.isStillMounted&&o.props.live){var t=(0,g.default)(o.props.date).valueOf();if(!t)return void console.warn("[react-timeago] Invalid Date provided");var n=o.props.now(),i=Math.round(Math.abs(n-t)/1e3),r=i<y?1e3:i<v?1e3*y:i<b?1e3*v:0,s=Math.min(Math.max(r,1e3*o.props.minPeriod),1e3*o.props.maxPeriod);s&&(o.timeoutId=setTimeout(o.tick,s)),e||o.forceUpdate()}},i=n,s(o,i)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.isStillMounted=!0,this.props.live&&this.tick(!0)}},{key:"componentDidUpdate",value:function(e){this.props.live===e.live&&this.props.date===e.date||(!this.props.live&&this.timeoutId&&clearTimeout(this.timeoutId),this.tick())}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1,this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}},{key:"render",value:function(){var e=this.props,t=e.date,n=(e.formatter,e.component),o=(e.live,e.minPeriod,e.maxPeriod,e.title),r=e.now,s=i(e,["date","formatter","component","live","minPeriod","maxPeriod","title","now"]),a=(0,g.default)(t).valueOf();if(!a)return null;var u=r(),p=Math.round(Math.abs(u-a)/1e3),d=a<u?"ago":"from now",h=p<y?[Math.round(p),"second"]:p<v?[Math.round(p/y),"minute"]:p<b?[Math.round(p/v),"hour"]:p<E?[Math.round(p/b),"day"]:p<w?[Math.round(p/E),"week"]:p<k?[Math.round(p/w),"month"]:[Math.round(p/k),"year"],C=c(h,2),N=C[0],_=C[1],O=void 0===o?"string"==typeof t?t:(0,g.default)(t).toISOString().substr(0,16).replace("T"," "):o;"time"===n&&(s.dateTime=(0,g.default)(t).toISOString());var I=m.default.bind(null,N,_,d);return f.default.createElement(n,l({},s,{title:O}),this.props.formatter(N,_,d,a,I))}}]),t}(p.Component);C.displayName="TimeAgo",C.defaultProps={live:!0,component:"time",minPeriod:0,maxPeriod:1/0,formatter:m.default,now:function(){return Date.now()}},t.default=C},894:function(e,t,n){e.exports=n.p+"b38594fdb244e14f9de09f673844f2f7.png"},896:function(e,t,n){"use strict";function o(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function i(e,t,n){a(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var o=t[n];a(Array.isArray(o),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,o)}function r(e,t){if(a("object"==typeof t,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",h.join(", "),f),l.call(t,f))return a(1===Object.keys(t).length,"Cannot have more than one key in an object with %s",f),t[f];var n=o(e);if(l.call(t,d)){var y=t[d];a(y&&"object"==typeof y,"update(): %s expects a spec of type 'object'; got %s",d,y),a(n&&"object"==typeof n,"update(): %s expects a target of type 'object'; got %s",d,n),s(n,t[d])}l.call(t,c)&&(i(e,t,c),t[c].forEach(function(e){n.push(e)})),l.call(t,u)&&(i(e,t,u),t[u].forEach(function(e){n.unshift(e)})),l.call(t,p)&&(a(Array.isArray(e),"Expected %s target to be an array; got %s",p,e),a(Array.isArray(t[p]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,t[p]),t[p].forEach(function(e){a(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",p,t[p]),n.splice.apply(n,e)})),l.call(t,m)&&(a("function"==typeof t[m],"update(): expected spec of %s to be a function; got %s.",m,t[m]),n=t[m](n));for(var v in t)g.hasOwnProperty(v)&&g[v]||(n[v]=r(e[v],t[v]));return n}var s=n(9),a=n(2),l={}.hasOwnProperty,c="$push",u="$unshift",p="$splice",f="$set",d="$merge",m="$apply",h=[c,u,p,f,d,m],g={};h.forEach(function(e){g[e]=!0}),e.exports=r},897:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),a=n.n(s),l=n(59),c=n.n(l),u=n(136),p=n(17),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){void 0!=e.isModalOpen&&p.a&&(e.isModalOpen?document.getElementById("app").style.display="none":document.getElementById("app").style.display="")}},{key:"componentWillUnmount",value:function(){p.a&&(document.getElementById("app").style.display="")}},{key:"render",value:function(){return a.a.createElement(c.a,{isOpen:this.props.isModalOpen,onRequestClose:this.props.onRequestClose,className:"modal-content signup-modal-hack",overlayClassName:"modal-overlay"},a.a.createElement("div",{className:"close-button",onClick:this.props.onRequestClose}),this.props.actionBlockedMessage?a.a.createElement("div",{className:"sign-in-message"},"You need to be signed in to complete this action"):null,a.a.createElement(u.a,{to:this.props.postSignInSignUpTo,onComplete:this.props.onRequestClose,isModal:!0}))}}]),t}(a.a.PureComponent);t.a=d},899:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(944),c=n(31),u=o(c),p=n(1),f=o(p),d=n(948),m=o(d),h=n(904),g=o(h),y=n(949),v=(o(y),n(950)),b=o(v),E=n(951),w=o(E),k=n(953),C=o(k),N=n(956),_=o(N),O={topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},I=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refElement=function(e){return n._ref=e},n}return s(t,e),a(t,[{key:"componentWillMount",value:function(){if((0,b.default)(this.props.children),this.props.scrollableParent)throw new Error("The `scrollableParent` prop has changed name to `scrollableAncestor`.")}},{key:"componentDidMount",value:function(){var e=this;t.getWindow()&&(this.cancelInitialTimeout=(0,C.default)(function(){e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=(0,l.addEventListener)(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=(0,l.addEventListener)(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)}))}},{key:"componentWillReceiveProps",value:function(e){(0,b.default)(e.children)}},{key:"componentDidUpdate",value:function(){t.getWindow()&&this.scrollableAncestor&&this._handleScroll(null)}},{key:"componentWillUnmount",value:function(){t.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelInitialTimeout&&this.cancelInitialTimeout())}},{key:"_findScrollableAncestor",value:function(){var e=this.props,t=e.horizontal,n=e.scrollableAncestor;if(n)return(0,_.default)(n);for(var o=this._ref;o.parentNode;){if((o=o.parentNode)===document.body)return window;var i=window.getComputedStyle(o),r=t?i.getPropertyValue("overflow-x"):i.getPropertyValue("overflow-y"),s=r||i.getPropertyValue("overflow");if("auto"===s||"scroll"===s)return o}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=(0,w.default)(t),o=this._previousPosition;if(this._previousPosition=n,o!==n){var i={currentPosition:n,previousPosition:o,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};this.props.onPositionChange.call(this,i),n===g.default.inside?this.props.onEnter.call(this,i):o===g.default.inside&&this.props.onLeave.call(this,i);var r=o===g.default.below&&n===g.default.above,s=o===g.default.above&&n===g.default.below;this.props.fireOnRapidScroll&&(r||s)&&(this.props.onEnter.call(this,{currentPosition:g.default.inside,previousPosition:o,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),this.props.onLeave.call(this,{currentPosition:n,previousPosition:g.default.inside,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e=this.props.horizontal,t=this._ref.getBoundingClientRect(),n=t.left,o=t.top,i=t.right,r=t.bottom,s=e?n:o,a=e?i:r,l=void 0,c=void 0;this.scrollableAncestor===window?(l=e?window.innerWidth:window.innerHeight,c=0):(l=e?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,c=e?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var u=this.props,p=u.bottomOffset,f=u.topOffset;return{waypointTop:s,waypointBottom:a,viewportTop:c+(0,m.default)(f,l),viewportBottom:c+l-(0,m.default)(p,l)}}},{key:"render",value:function(){var e=this,t=this.props.children;if(!t)return f.default.createElement("span",{ref:this.refElement,style:{fontSize:0}});var n=function(n){e.refElement(n),t.ref&&t.ref(n)};return f.default.cloneElement(t,{ref:n})}}]),t}(f.default.Component);t.default=I,I.propTypes={children:u.default.element,debug:u.default.bool,onEnter:u.default.func,onLeave:u.default.func,onPositionChange:u.default.func,fireOnRapidScroll:u.default.bool,scrollableAncestor:u.default.any,horizontal:u.default.bool,topOffset:u.default.oneOfType([u.default.string,u.default.number]),bottomOffset:u.default.oneOfType([u.default.string,u.default.number])},I.above=g.default.above,I.below=g.default.below,I.inside=g.default.inside,I.invisible=g.default.invisible,I.getWindow=function(){if("undefined"!=typeof window)return window},I.defaultProps=O,I.displayName="Waypoint",e.exports=t.default},901:function(e,t,n){e.exports=n.p+"d106b1f59ca10ab9ae13c149249d2e6d.png"},902:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return Array.isArray(e)?e:Array.from(e)}function r(e){var t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;var n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;var r=n.map(function(e){return parseInt(e)}),s=i(r),a=s[0],l=s[1],c=s.slice(2),u=[a,l-1].concat(o(c));return new Date(Date.UTC.apply(Date,o(u)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},903:function(e,t,n){"use strict";function o(e,t,n){return 1!==e&&(t+="s"),e+" "+t+" "+n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={above:"above",inside:"inside",below:"below",invisible:"invisible"},e.exports=t.default},905:function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return b});var s=n(137),a=n(38),l=n(17),c=n(32),u=n(37),p=(n.n(u),n(1)),f=n.n(p),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=function(){function e(){var t=this;if(r(this,e),this.images={},this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loadImage=this.loadImage.bind(this),this.isImageLoaded=this.isImageLoaded.bind(this),n.i(c.f)()){document.addEventListener("lazybeforeunveil",function(e){var n=e.target,o=n.getAttribute("data-bg"),i=n.getAttribute("data-bg-comp");o&&(i&&t.loadImage(i),t.loadImage(o),e.preventDefault())});var o=window.loadedImages||[],i=!0,l=!1,u=void 0;try{for(var p,f=o[Symbol.iterator]();!(i=(p=f.next()).done);i=!0){var d=p.value;this.images[d]={status:"finished"},s.a.dispatch(n.i(a.p)(["loadedImages",d,"status"],"finished"))}}catch(e){l=!0,u=e}finally{try{!i&&f.return&&f.return()}finally{if(l)throw u}}}}return m(e,[{key:"onLoad",value:function(e){this.images[e].status="finished",s.a.dispatch(n.i(a.p)(["loadedImages",e,"status"],"finished"))}},{key:"onError",value:function(e){this.images[e].status="error",s.a.dispatch(n.i(a.p)(["loadedImages",e,"status"],"error"))}},{key:"isImageLoaded",value:function(e){if(!e||l.c)return!1;var t=this.images[e];return!(!t||"finished"!=t.status)}},{key:"loadImage",value:function(e){var t=this;if(!e||l.c)return null;var o=this.isImageLoaded(e);if(o)return o;if(this.images[e]&&"loading"==this.images[e].status)return!1;var i=new Image;return i.src=e,i.complete||i.width+i.height>0?(this.images[e]={status:"finished"},s.a.dispatch(n.i(a.p)(["loadedImages",e,"status"],"finished")),!0):(i.onload=function(){return t.onLoad(e)},i.onerror=function(){return t.onError(e)},this.images[e]={status:"loading"},s.a.dispatch(n.i(a.p)(["loadedImages",e,"status"],"loading")),!1)}}]),e}(),g=new h,y="https://img.imageboss.me/width/20/blur:2,webp:auto/",v=function(e){function t(e){return{loadedImages:e.get("loadedImages")}}var s=function(t){function n(e){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.isImageLoaded=t.isImageLoaded.bind(t),t.filterImgURL=y,t.getOriginalImage=t.getOriginalImage.bind(t),t.getCompressedImage=t.getCompressedImage.bind(t),t.loadImage=t.loadImage.bind(t),t.getLargestAvailableWithSmallestFallback=t.getLargestAvailableWithSmallestFallback.bind(t),t}return i(n,t),m(n,[{key:"getOriginalImage",value:function(e){return e?e.replace(this.filterImgURL,""):null}},{key:"getCompressedImage",value:function(e){return e?-1==e.indexOf(this.filterImgURL)?this.filterImgURL+e:e:null}},{key:"isImageLoaded",value:function(e){return g.isImageLoaded(e)||this.props.loadedImages&&"finished"==this.props.loadedImages.getIn([e,"status"])}},{key:"loadImage",value:function(e){return g.loadImage(e)}},{key:"getLargestAvailableWithSmallestFallback",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(l.c||!l.j)return e;var n=this.getOriginalImage(e),o=this.getCompressedImage(e);return this.isImageLoaded(n)?n:this.isImageLoaded(o)?o:t?o:null}},{key:"render",value:function(){return!!e&&f.a.createElement(e,d({},this.props,{isImageLoaded:this.isImageLoaded,getOriginalImage:this.getOriginalImage,getCompressedImage:this.getCompressedImage,loadImage:this.loadImage,getLargestAvailableWithSmallestFallback:this.getLargestAvailableWithSmallestFallback,ref:"component"}))}}]),n}(f.a.Component);return n.i(u.connect)(t,{},null,{withRef:!0})(s)},b=v(function(e){return function(t){function n(e){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return i(n,t),m(n,[{key:"componentWillReceiveProps",value:function(e){this.props.image!=e.image&&this.refs.img&&this.refs.img.classList.contains("lazyloaded")&&(this.refs.img.className=this.refs.img.className.replace("lazyloaded","lazyload"))}},{key:"render",value:function(){if(!e)return!1;var t=this.props.image,n=this.props.className?this.props.className+" lazyload":"lazyload";if(l.c)return f.a.createElement(e,d({},this.props,{"data-bg":t,className:n}));var o=this.props.getLargestAvailableWithSmallestFallback(t,!1);return f.a.createElement(e,d({},this.props,{"data-bg":this.props.getOriginalImage(t),"data-bg-comp":this.props.getCompressedImage(t),className:n,ref:"img",style:o?{backgroundImage:"url("+o+")"}:{}}))}}]),n}(f.a.Component)}("div"))},927:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),l=n.n(a),c=n(896),u=n.n(c),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.state={highlightedOptions:[]},n.onOptionClick=n.onOptionClick.bind(n),n.isOptionHighlighted=n.isOptionHighlighted.bind(n),n.resetHighlights=n.resetHighlights.bind(n),n.onFocus=n.onFocus.bind(n),n.props.onChange(n.props.initialSearchTerm||"",n.props.type),n}return s(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){this.props.selectedOptions!=e.selectedOptions&&this.resetHighlights()}},{key:"isOptionHighlighted",value:function(e){return-1!=this.state.highlightedOptions.indexOf(e.get("name"))}},{key:"onOptionClick",value:function(e){e.get("disabled")||(this.isOptionHighlighted(e)?this.props.onToggle(e.toJS()):this.setState(u()(this.state,o({},"highlightedOptions",{$push:[e.get("name")]}))))}},{key:"componentDidMount",value:function(){var e=this.refs["search-box"];this.props.autofocus&&e&&e.focus()}},{key:"resetHighlights",value:function(){this.setState({highlightedOptions:[]})}},{key:"onChange",value:function(e){var t=e.target.value;this.props.maxLength&&(t=t.substring(0,this.props.maxLength)),this.resetHighlights(),this.props.onChange(t,this.props.type)}},{key:"onFocus",value:function(e){this.resetHighlights(),this.props.onFocus&&this.props.onFocus()}},{key:"render",value:function(){var e=this,t=this.props.selectedOptions||[],n=0!=this.props.isPage,o=t.map(function(t){return l.a.createElement("div",{className:t.get("type")+" selected-option"+(e.isOptionHighlighted(t)?" highlighted":"")+(t.get("disabled")?"":" editable"),onClick:function(){return e.onOptionClick(t)}},t.get("name"))});return l.a.createElement("div",{className:this.props.hasBorder?"search-box has-border":"search-box"},l.a.createElement("div",{className:"selected-options"},o,l.a.createElement("div",{className:"search-term"},l.a.createElement("input",{type:"text",ref:"search-box",value:this.props.query,placeholder:this.props.placeholder?this.props.placeholder:this.props.type?this.props.showAddLanguage?"Search or add a new "+this.props.type:"Search for a "+this.props.type:"Search",onChange:this.onChange,onFocus:this.onFocus,autoFocus:!!this.props.autoFocus}),this.props.clearQuery&&this.props.query.length>0?l.a.createElement("span",{className:"label clickable uppercase blue",onClick:this.props.clearQuery},n?"Clear":"Close"):null)))}}]),t}(l.a.PureComponent);t.a=f},932:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{myCommunities:e.get("myCommunities"),communities:e.get("communities"),currentLoggedInUser:e.get("currentLoggedInUser"),searchResults:e.get("search"),sidebarScrollOffset:e.get("sidebarScrollOffset"),tagsMap:e.get("tags"),discussions:e.get("discussions"),users:e.get("users"),visitedPaths:e.get("visitedPaths")}}n.d(t,"a",function(){return k});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(39)),f=(n.n(p),n(1045)),d=n(1057),m=n(1056),h=n(990),g=n(38),y=n(901),v=(n.n(y),n(325),n(324)),b=(n(131),n(889),n(1035)),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.currentLoggedInUser&&n.props.fetchUserCommunities(),n.props.search("","popularCommunities"),n.updatePage=n.updatePage.bind(n),n.onClick=n.onClick.bind(n),n.state={adminOptionsShown:!1},n}return r(t,e),E(t,[{key:"onClick",value:function(e){this.updatePage()}},{key:"componentDidMount",value:function(){var e=this;if(void 0!=this.props.sidebarScrollOffset){var t=this.props.sidebarScrollOffset;setTimeout(function(){var n=e.refs.community_list;n&&(n.scrollTop=t)},1e3)}}},{key:"componentWillReceiveProps",value:function(e){e.currentActiveSection&&e.currentActiveSection!=this.props.currentActiveSection&&document.getElementById(e.currentActiveSection)&&document.getElementById(e.currentActiveSection).scrollIntoView(),(1==e.hasScrolledPastDiscussionMetadata&&0==this.props.hasScrolledPastDiscussionMetadata||0==e.isDiscussionCollapsed&&1==this.props.isDiscussionCollapsed)&&setTimeout(function(){return document.getElementById("discussion-filters")&&document.getElementById("discussion-filters").scrollIntoView()},100)}},{key:"updatePage",value:function(){var e=this.refs.community_list;if(e){var t=e.scrollTop;this.props.setStateAtPath(["sidebarScrollOffset"],t)}}},{key:"render",value:function(){var e=this,t=null,o=this.props.discussions.getIn([this.props.discussionId]),i=o&&"PLAYLIST"==o.getIn(["typeInfo","type"]),r=(this.props.pricingInfo||n.i(p.fromJS)({}),this.props.currentLoggedInUser),s=this.props.users.getIn([this.props.currentLoggedInUser,"plan","isPromo"],!1),a=(this.props.users.getIn([r,"plan","status"]),o&&(o.getIn(["typeInfo","stats","projectCount"],0),o.getIn(["typeInfo","stats","quizCount"],0)),null);this.props.acButtons&&(a=this.props.acButtons.map(function(e){return l.a.createElement("a",{href:e.url,target:"_blank"},l.a.createElement("button",{className:"label with-right-padding"},e.display))}));var c=o&&o.get("ah")?{__html:o.get("ah")}:null;this.props.tags&&(t=this.props.tags.map(function(t,n){return e.props.tagsMap.get(t)?l.a.createElement(u.Link,{className:"no-decoration",to:"/discussion/"+e.props.discussionId+"/"+t,onClick:e.onTagClick},l.a.createElement("div",{className:"sidebar-row thin zoom-on-hover"},l.a.createElement("div",{className:e.props.activeTagId==t?"sidebar-label tag-label active":"sidebar-label tag-label"},e.props.tagsMap.get(t).get("name")," ",l.a.createElement("span",{className:"posts-count"},e.props.tagsMap.get(t).get("postsCount"))))):null}));var g=null;this.props.filters&&(g=this.props.filters.map(function(e,t){return l.a.createElement(u.Link,{className:"no-decoration",to:e.linkTo},l.a.createElement("div",{className:"sidebar-row thin zoom-on-hover"},l.a.createElement("div",{className:e.isActive?"sidebar-label active":"sidebar-label"},e.displayName)))}));var y="sidebar";return this.props.noRightSidebar&&(y+=" no-right-sidebar"),this.props.miniLeftSidebar&&(y+=" mini-left-sidebar"),this.props.isFaded&&(y+=" faded"),this.props.onTwoColumnLayoutPage&&(y+=" on-two-column-layout-page"),l.a.createElement("div",{className:y,id:"sidebar"},l.a.createElement("div",{className:"content"},this.props.showTags||this.props.showFilters?null:l.a.createElement(h.a,null),this.props.showEditHistory?l.a.createElement("div",null,l.a.createElement(f.a,{onClick:this.props.onClickTOC,showEditHistory:!0,users:this.props.users,discussion:this.props.discussions.getIn([this.props.discussionId])})):i?l.a.createElement("div",null,l.a.createElement(d.a,{discussionId:this.props.discussionId,location:"sidebar"}),l.a.createElement(m.a,{onSubscribeClick:this.props.onSubscribeClick,onUnSubscribeClick:this.props.onUnSubscribeClick,discussionId:this.props.discussionId,location:"sidebar"}),l.a.createElement("div",{className:"course-share-section"},l.a.createElement(b.a,{url:"/discussion/"+this.props.discussionId+"/main",title:this.props.discussions.getIn([this.props.discussionId,"name"],""),objId:this.props.discussionId,objType:"discussion",location:"sidebar"}))):l.a.createElement("div",null,this.props.playlistDiscussionId?l.a.createElement("div",null,l.a.createElement("div",{className:"section-heading"},"Part of course:"),l.a.createElement("div",{className:"sidebar-row playlist-row"},l.a.createElement("div",{className:"left-sidebar-discussion"},l.a.createElement(u.Link,{to:"/discussion/"+this.props.playlistDiscussionId},l.a.createElement("div",{className:"sidebar-label multi discussion-title playlist-discussion-title"},this.props.discussions.getIn([this.props.playlistDiscussionId,"name"],"")))))):null,this.props.previousDiscussionId?l.a.createElement("div",null,l.a.createElement("div",{className:"sidebar-row previous-discussion-row"},l.a.createElement("div",{className:"left-sidebar-discussion zoom-on-hover zoom-to-normal"},l.a.createElement(u.Link,{to:"/discussion/"+this.props.previousDiscussionId},l.a.createElement("div",{className:"sidebar-label multi discussion-title"},this.props.discussions.getIn([this.props.previousDiscussionId,"name"],"")),l.a.createElement("div",{className:"sidebar-label description-label"},"Previous item"))))):null,l.a.createElement(f.a,{onClick:this.props.onClickTOC,playlistDiscussionId:this.props.playlistDiscussionId,discussion:this.props.discussions.getIn([this.props.discussionId]),currentActiveSection:this.props.currentActiveSection}),this.props.nextDiscussionId?l.a.createElement("div",null,l.a.createElement("div",{className:"sidebar-row next-discussion-row"},l.a.createElement("div",{className:"left-sidebar-discussion zoom-on-hover zoom-to-normal"},l.a.createElement(u.Link,{to:"/discussion/"+this.props.nextDiscussionId},l.a.createElement("div",{className:"sidebar-label multi discussion-title"},this.props.discussions.getIn([this.props.nextDiscussionId,"name"],"")),l.a.createElement("div",{className:"sidebar-label description-label"},"Next item"))))):null),this.props.showFilters?l.a.createElement("div",{className:"filters-section"},l.a.createElement("div",{className:"section-heading"},"Filters"),g,l.a.createElement("div",{className:"sidebar-buttons no-border-top"})):null,0==this.props.isDiscussionCollapsed&&this.props.hasScrolledPastDiscussionMetadata&&this.props.showTags&&t?l.a.createElement("div",null,l.a.createElement("div",{className:"section-heading",id:"discussion-filters"},"Discussion Filters"),l.a.createElement(u.Link,{className:"no-decoration",to:"/discussion/"+this.props.discussionId+"/main",onClick:this.onTagClick},l.a.createElement("div",{className:"sidebar-row thin zoom-on-hover"},l.a.createElement("div",{className:"main"==this.props.activeTagId?"sidebar-label active":"sidebar-label"},this.props.shouldShowAllTag?"Summary":l.a.createElement("span",null,"All ",v.b," ",l.a.createElement("span",{className:"posts-count"},this.props.discussions.getIn([this.props.discussionId,"postsCount"],0)))))),this.props.shouldShowAllTag?l.a.createElement(u.Link,{className:"no-decoration",to:"/discussion/"+this.props.discussionId+"/all",onClick:this.onTagClick},l.a.createElement("div",{className:"sidebar-row thin zoom-on-hover"},l.a.createElement("div",{className:"all"==this.props.activeTagId?"sidebar-label active has-extra-margin":"sidebar-label has-extra-margin"},"All ",v.b," ",l.a.createElement("span",{className:"posts-count"},this.props.discussions.getIn([this.props.discussionId,"postsCount"],0))))):null,t):null,this.state.adminOptionsShown?l.a.createElement("div",null,a&&a.length>0?a:null,c?l.a.createElement("div",{dangerouslySetInnerHTML:c}):null,this.props.autolinkURL?l.a.createElement(u.Link,{to:this.props.autolinkURL},l.a.createElement("button",{className:"label"},"Autolink")):null):l.a.createElement("div",{className:"label with-margin pointer",onClick:function(){return e.setState({adminOptionsShown:!0})}},"Show admin stats")))}}]),t}(l.a.PureComponent),k=n.i(c.connect)(s,{fetchUserCommunities:g.F,search:g.G,setStateAtPath:g.p})(n.i(u.withRouter)(w))},938:function(e,t,n){!function(t,o){e.exports=o(n(1),n(965))}(0,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1).default,i=n(17).default,r=n(26).default,s=n(29).default,a=n(30).default,l=n(36).default,c=n(39).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(40),p=c(u),f=function(e){function t(){s(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),r(t,[{key:"propsWith",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n={};return l(this.props).forEach(function(o){if(-1!==o.search(e)){var i=t?o.replace(e,""):o;n[i]=this.props[o]}},this),n}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=p.default.version.match(/0\.13(.*)/)?this.refs.element.getDOMNode():this.refs.element,o=n(41);this.clipboard=new o(t,e);var i=this.propsWith(/^on/,!0);l(i).forEach(function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])},this)}},{key:"render",value:function(){var e=a({type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:"element"},this.propsWith(/^data-/),this.propsWith(/^button-/,!0));return p.default.createElement(this.getComponent(),e,this.props.children)}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}]),t}(p.default.Component);t.default=f,e.exports=t.default},function(e,t,n){"use strict";var o=n(2).default;t.default=function(e,t,n){for(var i=!0;i;){var r=e,s=t,a=n;i=!1,null===r&&(r=Function.prototype);var l=o(r,s);if(void 0!==l){if("value"in l)return l.value;var c=l.get;if(void 0===c)return;return c.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=s,n=a,i=!0,l=u=void 0}},t.__esModule=!0},function(e,t,n){e.exports={default:n(3),__esModule:!0}},function(e,t,n){var o=n(4);n(5),e.exports=function(e,t){return o.getDesc(e,t)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){var o=n(6);n(10)("getOwnPropertyDescriptor",function(e){return function(t,n){return e(o(t),n)}})},function(e,t,n){var o=n(7),i=n(9);e.exports=function(e){return o(i(e))}},function(e,t,n){var o=n(8);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var o=n(11),i=n(13),r=n(16);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),o(o.S+o.F*r(function(){n(1)}),"Object",s)}},function(e,t,n){var o=n(12),i=n(13),r=n(14),s=function(e,t,n){var a,l,c,u=e&s.F,p=e&s.G,f=e&s.S,d=e&s.P,m=e&s.B,h=e&s.W,g=p?i:i[t]||(i[t]={}),y=p?o:f?o[t]:(o[t]||{}).prototype;p&&(n=t);for(a in n)(l=!u&&y&&a in y)&&a in g||(c=l?y[a]:n[a],g[a]=p&&"function"!=typeof y[a]?n[a]:m&&l?r(c,o):h&&y[a]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(c):d&&"function"==typeof c?r(Function.call,c):c,d&&((g.prototype||(g.prototype={}))[a]=c))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var o=n(15);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var o=n(18).default,i=n(20).default;t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=o(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t,n){e.exports={default:n(19),__esModule:!0}},function(e,t,n){var o=n(4);e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){e.exports={default:n(21),__esModule:!0}},function(e,t,n){n(22),e.exports=n(13).Object.setPrototypeOf},function(e,t,n){var o=n(11);o(o.S,"Object",{setPrototypeOf:n(23).set})},function(e,t,n){var o=n(4).getDesc,i=n(24),r=n(25),s=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n(14)(Function.call,o(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return s(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:s}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var o=n(24);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";var o=n(27).default;t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),o(e,i.key,i)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),t.__esModule=!0},function(e,t,n){e.exports={default:n(28),__esModule:!0}},function(e,t,n){var o=n(4);e.exports=function(e,t,n){return o.setDesc(e,t,n)}},function(e,t){"use strict";t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0},function(e,t,n){"use strict";var o=n(31).default;t.default=o||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.__esModule=!0},function(e,t,n){e.exports={default:n(32),__esModule:!0}},function(e,t,n){n(33),e.exports=n(13).Object.assign},function(e,t,n){var o=n(11);o(o.S+o.F,"Object",{assign:n(34)})},function(e,t,n){var o=n(4),i=n(35),r=n(7);e.exports=n(16)(function(){var e=Object.assign,t={},n={},o=Symbol(),i="abcdefghijklmnopqrst";return t[o]=7,i.split("").forEach(function(e){n[e]=e}),7!=e({},t)[o]||Object.keys(e({},n)).join("")!=i})?function(e,t){for(var n=i(e),s=arguments,a=s.length,l=1,c=o.getKeys,u=o.getSymbols,p=o.isEnum;a>l;)for(var f,d=r(s[l++]),m=u?c(d).concat(u(d)):c(d),h=m.length,g=0;h>g;)p.call(d,f=m[g++])&&(n[f]=d[f]);return n}:Object.assign},function(e,t,n){var o=n(9);e.exports=function(e){return Object(o(e))}},function(e,t,n){e.exports={default:n(37),__esModule:!0}},function(e,t,n){n(38),e.exports=n(13).Object.keys},function(e,t,n){var o=n(35);n(10)("keys",function(e){return function(t){return e(o(t))}})},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(t,n){t.exports=e},function(e,n){e.exports=t}])})},940:function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(943),s=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(t){o(this,e),this.target=t,this.events={}}return i(e,[{key:"getEventHandlers",value:function(){function e(e,t){var n=String(e)+" "+String((0,s.default)(t));return this.events[n]||(this.events[n]={handlers:[],handleEvent:void 0}),this.events[n]}return e}()},{key:"handleEvent",value:function(){function e(e,t,n){this.getEventHandlers(e,t).handlers.forEach(function(e){e&&e(n)})}return e}()},{key:"add",value:function(){function e(e,t,n){var o=this,i=this.getEventHandlers(e,n);0===i.handlers.length&&(i.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,i.handleEvent,n)),i.handlers.push(t);var r=!0;return function(){function s(){if(r){r=!1;var s=i.handlers.indexOf(t);i.handlers.splice(s,1),0===i.handlers.length&&(o.target&&o.target.removeEventListener(e,i.handleEvent,n),i.handleEvent=void 0)}}return s}()}return e}()}]),e}();t.default=a},941:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n},942:function(e,t,n){function o(){if(!s.default)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){function t(){e=!0}return t}()});window.addEventListener("test",null,t)}catch(e){}return e}function i(){return void 0===a&&(a=o()),a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(941),s=function(e){return e&&e.__esModule?e:{default:e}}(r),a=void 0},943:function(e,t){function n(e){return e?!0===e?100:(e.capture<<0)+(e.passive<<1)+(e.once<<2):0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},944:function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,o){e[u]||(e[u]=new c.default(e));var i=(0,a.default)(o);return e[u].add(t,n,i)}function r(e){e()}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_HANDLERS_KEY=void 0,t.addEventListener=i,t.removeEventListener=r;var s=n(945),a=o(s),l=n(940),c=o(l),u=t.EVENT_HANDLERS_KEY="__consolidated_events_handlers__"},945:function(e,t,n){function o(e){if(e)return(0,r.default)()?e:!!e.capture}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(942),r=function(e){return e&&e.__esModule?e:{default:e}}(i)},947:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),u=o(c),p=n(31),f=o(p),d={overflow:"hidden",position:"relative"},m={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"},h=function(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"},g=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e=a({},e),n.state={uniqueness:(Math.random()+"").replace(".",""),value:e.value||0,stars:[],halfStar:{at:Math.floor(e.value),hidden:e.half&&e.value%1<.5}},n.state.config={count:e.count,size:e.size,char:e.char,color1:e.color1,color2:e.color2,half:e.half,edit:e.edit},n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.setState({stars:this.getStars(this.state.value)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({stars:this.getStars(e.value),value:e.value,halfStar:{at:Math.floor(e.value),hidden:this.state.config.half&&e.value%1<.5}})}},{key:"isDecimal",value:function(e){return e%1!=0}},{key:"getRate",value:function(){return this.state.config.half?Math.floor(this.state.value):Math.round(this.state.value)}},{key:"getStars",value:function(e){void 0===e&&(e=this.getRate());for(var t=[],n=0;n<this.state.config.count;n++)t.push({active:n<=e-1});return t}},{key:"mouseOver",value:function(e){var t=this.state,n=t.config,o=t.halfStar;if(n.edit){var i=Number(e.target.getAttribute("data-index"));if(n.half){var r=this.moreThanHalf(e,n.size);o.hidden=r,r&&(i+=1),o.at=i}else i+=1;this.setState({stars:this.getStars(i)})}}},{key:"moreThanHalf",value:function(e,t){var n=e.target,o=e.clientX-n.getBoundingClientRect().left;return(o=Math.round(Math.abs(o)))>t/2}},{key:"mouseLeave",value:function(){var e=this.state,t=e.value,n=e.halfStar,o=e.config;o.edit&&(o.half&&(n.hidden=!this.isDecimal(t),n.at=Math.floor(this.state.value)),this.setState({stars:this.getStars()}))}},{key:"clicked",value:function(e){var t=this.state,n=t.config,o=t.halfStar;if(n.edit){var i=Number(e.target.getAttribute("data-index")),r=void 0;if(n.half){var s=this.moreThanHalf(e,n.size);o.hidden=s,s&&(i+=1),r=s?i:i+.5,o.at=i}else r=i+=1;this.setState({value:r,stars:this.getStars(i)}),this.props.onChange(r)}}},{key:"renderHalfStarStyleElement",value:function(){var e=this.state,t=e.config,n=e.uniqueness;return u.default.createElement("style",{dangerouslySetInnerHTML:{__html:h(t.color2,n)}})}},{key:"renderStars",value:function(){var e=this,t=this.state,n=t.halfStar,o=t.stars,i=t.uniqueness,r=t.config,s=r.color1,l=r.color2,c=r.size,p=r.char,f=r.half,d=r.edit;return o.map(function(t,o){var r="";f&&!n.hidden&&n.at===o&&(r="react-stars-"+i);var h=a({},m,{color:t.active?l:s,cursor:d?"pointer":"default",fontSize:c+"px"});return u.default.createElement("span",{className:r,style:h,key:o,"data-index":o,"data-forhalf":p,onMouseOver:e.mouseOver.bind(e),onMouseMove:e.mouseOver.bind(e),onMouseLeave:e.mouseLeave.bind(e),onClick:e.clicked.bind(e)},p)})}},{key:"render",value:function(){var e=this.props.className;return u.default.createElement("div",{className:e,style:d},this.state.config.half?this.renderHalfStarStyleElement():"",this.renderStars())}}]),t}(c.Component);g.propTypes={className:f.default.string,edit:f.default.bool,half:f.default.bool,value:f.default.number,count:f.default.number,char:f.default.string,size:f.default.number,color1:f.default.string,color2:f.default.string},g.defaultProps={edit:!0,half:!0,value:0,count:5,char:"★",size:15,color1:"gray",color2:"#ffd700",onChange:function(){}},t.default=g},948:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=(0,l.default)(e);if("number"==typeof n)return n;var o=(0,s.default)(e);return"number"==typeof o?o*t:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(954),s=o(r),a=n(955),l=o(a);e.exports=t.default},949:function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},950:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&(s.default.Children.only(e),!(0,l.default)(e)))throw new Error("You must wrap any Component Elements passed to Waypoint in a DOM Element (eg; a <div>).")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=n(1),s=o(r),a=n(952),l=o(a);e.exports=t.default},951:function(e,t,n){"use strict";function o(e){return e.viewportBottom-e.viewportTop==0?r.default.invisible:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom?r.default.inside:e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom?r.default.inside:e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?r.default.inside:e.viewportBottom<e.waypointTop?r.default.below:e.waypointTop<e.viewportTop?r.default.above:r.default.invisible}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(904),r=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=t.default},952:function(e,t,n){"use strict";function o(e){return"string"==typeof e.type}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},953:function(e,t,n){"use strict";function o(e){r.push(e),i||(i=setTimeout(function(){i=null;for(var e=void 0;e=r.shift();)e()},0));var t=!0;return function(){if(t){t=!1;var n=r.indexOf(e);-1!==n&&(r.splice(n,1),!r.length&&i&&(clearTimeout(i),i=null))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=void 0,r=[];e.exports=t.default},954:function(e,t,n){"use strict";function o(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},955:function(e,t,n){"use strict";function o(e){return!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):"px"===e.slice(-2)?parseFloat(e.slice(0,-2)):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default},956:function(e,t,n){"use strict";(function(n){function o(e){return"window"===e?n.window:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,e.exports=t.default}).call(t,n(27))},964:function(e,t,n){var o,i,r;!function(s,a){i=[e,n(970)],o=a,void 0!==(r="function"==typeof o?o.apply(t,i):o)&&(e.exports=r)}(0,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(e){return e&&e.__esModule?e:{default:e}}(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return r(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},965:function(e,t,n){var o,i,r;!function(s,a){i=[e,n(964),n(971),n(969)],o=a,void 0!==(r="function"==typeof o?o.apply(t,i):o)&&(e.exports=r)}(0,function(e,t,n,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var c=i(t),u=i(n),p=i(o),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),m=function(e){function t(e,n){r(this,t);var o=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.resolveOptions(n),o.listenClick(e),o}return a(t,e),d(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===f(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,p.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(u.default);e.exports=m})},966:function(e,t){function n(e,t){for(;e&&e.nodeType!==o;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=n},967:function(e,t,n){function o(e,t,n,o,r){var s=i.apply(this,arguments);return e.addEventListener(n,s,r),{destroy:function(){e.removeEventListener(n,s,r)}}}function i(e,t,n,o){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&o.call(e,n)}}var r=n(966);e.exports=o},968:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},969:function(e,t,n){function o(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(e))return i(e,t,n);if(a.nodeList(e))return r(e,t,n);if(a.string(e))return s(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function r(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function s(e,t,n){return l(document.body,e,t,n)}var a=n(968),l=n(967);e.exports=o},970:function(e,t){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i),t=o.toString()}return t}e.exports=n},971:function(e,t){function n(){}n.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function o(){i.off(e,o),t.apply(n,arguments)}var i=this;return o._=t,this.on(e,o,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],i=[];if(o&&t)for(var r=0,s=o.length;r<s;r++)o[r].fn!==t&&o[r].fn._!==t&&i.push(o[r]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},972:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{communities:e.get("communities"),users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser")}}n.d(t,"a",function(){return C});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(132)),p=n.n(u),f=n(323),d=n(901),m=n.n(d),h=n(38),g=n(325),y=n(15),v=(n.n(y),n(32)),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),E=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return r(t,e),b(t,[{key:"onClick",value:function(){this.props.isFollowing?window.confirm("Are you sure you want to unfollow this community?")&&this.props.onClick():this.props.onClick()}},{key:"render",value:function(){return l.a.createElement("button",{className:this.props.isFollowing?"action-button following":"action-button",onClick:this.onClick},this.props.isFollowing?"":"Follow")}}]),t}(l.a.PureComponent),w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return r(t,e),b(t,[{key:"onClick",value:function(){this.props.isMember?window.confirm("Are you sure you want to leave this community?")&&this.props.onClick():this.props.onClick()}},{key:"render",value:function(){return l.a.createElement("button",{className:this.props.isMember?"action-button following":"action-button",onClick:this.onClick},this.props.isMember?"":"Join")}}]),t}(l.a.PureComponent),k=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onContentClick=n.onContentClick.bind(n),n.onToggle=n.onToggle.bind(n),n.handleBioChange=n.handleBioChange.bind(n),n.onKeyPressForBio=n.onKeyPressForBio.bind(n),n.onDoneEditingBio=n.onDoneEditingBio.bind(n),n.state={byline:e.byline?e.byline:e.showCommunityBio?e.users.getIn([e.currentLoggedInUser,"communitiesBio",e.communityId],""):null,isEditingBio:!1},n}return r(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({byline:e.byline?e.byline:e.showCommunityBio?e.users.getIn([e.currentLoggedInUser,"communitiesBio",e.communityId],""):null})}},{key:"onContentClick",value:function(e){if(e.stopPropagation(),this.props.shouldLinkToCommunity&&!e.target.classList.contains("thin-button")&&!e.target.classList.contains("bio-input")&&!e.target.classList.contains("action-button")){var t="/community/"+this.props.communityId;e.metaKey?n.i(v.a)(t):y.browserHistory.push(t)}}},{key:"onToggle",value:function(e){e.stopPropagation(),this.props.onClick&&this.props.onClick(this.props.communityId)}},{key:"handleBioChange",value:function(e){this.setState({byline:e.target.value})}},{key:"onKeyPressForBio",value:function(e){13==(e.code||e.which)&&this.onDoneEditingBio()}},{key:"onDoneEditingBio",value:function(){this.props.editCommunityBio(this.props.communityId,this.state.byline),this.setState({isEditingBio:!1})}},{key:"render",value:function(){var e=this,t=this.props.communityId,o=this.props.communities.get(t);if(!o)return l.a.createElement("div",{className:"community-box box"},l.a.createElement("div",{className:"avatar-image",style:{backgroundImage:"url("+m.a+")"}}),l.a.createElement("div",{className:"shifted-right",onClick:this.onContentClick},l.a.createElement("div",{className:"title dummy"}),l.a.createElement("div",{className:"byline dummy"})));var i="closed_contribution"==o.get("accessLevel"),r=n.i(f.a)(E),s=n.i(f.a)(w),a=this.props.to||"/community/"+t,c="";return c=i?o.get("followersCount")+" "+p()("follower",o.get("followersCount")):o.get("membersCount")+" "+p()("member",o.get("membersCount")),l.a.createElement("div",{className:this.props.shouldLinkToCommunity||this.props.onClick?"clickable community-box box":"community-box box",onClick:this.onContentClick},l.a.createElement("div",{className:"avatar-image",onClick:this.onContentClick,style:{backgroundImage:"url("+(n.i(g.c)(o.get("coverImg"),60)||m.a)+")"}}),l.a.createElement("div",{className:"shifted-right",onClick:this.onContentClick},l.a.createElement("div",{className:"title"},o.get("name")),i?l.a.createElement("div",{className:"label closed-contribution-label"},"Invite Only"):null,this.state.byline||this.props.isBioEditable?this.state.isEditingBio?l.a.createElement("div",{style:{lineHeight:0}},l.a.createElement("input",{type:"text",maxLength:"60",className:"bio-input",autoFocus:"autofocus",placeholder:"Help others understand your experience with this topic",value:this.state.byline,onChange:this.handleBioChange,onKeyPress:this.onKeyPressForBio}),l.a.createElement("span",{className:"thin-button",onClick:this.onDoneEditingBio},"Done")):l.a.createElement("div",{className:"byline"},this.state.byline," ",this.props.isBioEditable?l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}},this.state.byline?" (Edit) ":"Set Community Bio"):null):l.a.createElement("span",{className:"byline"},c)),this.props.hasFollow?i?l.a.createElement(r,{isFollowing:o.get("isFollowing")&&o.get("isFollowing").get(this.props.currentLoggedInUser),allowLurker:!0,onClick:function(){return e.props.toggleCommunityFollow(t)},to:a,entityId:this.props.entityId,action:this.props.action}):l.a.createElement(s,{isMember:o.get("isMember")&&o.get("isMember").get(this.props.currentLoggedInUser),allowLurker:!0,onClick:function(){return e.props.toggleCommunityJoin(t)},to:a,entityId:this.props.entityId,action:this.props.action}):null,this.props.hasToggle?l.a.createElement("button",{className:this.props.isSelected?"danger toggle-button":"normal toggle-button",onClick:this.onToggle},this.props.isSelected?"Clear":"Filter"):null)}}]),t}(l.a.PureComponent),C=n.i(c.connect)(s,{toggleCommunityFollow:h._4,toggleCommunityJoin:h._5,editCommunityBio:h.y})(k)},990:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{myCommunities:e.get("myCommunities"),communities:e.get("communities"),currentLoggedInUser:e.get("currentLoggedInUser"),searchResults:e.get("search"),isFetchingGlobalSearch:e.get("isFetchingGlobalSearch")}}n.d(t,"a",function(){return b});var a=n(1),l=n.n(a),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(39)),f=(n.n(p),n(38)),d=n(901),m=n.n(d),h=n(325),g=(n(324),n(58),n(131),n(97)),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.search("","popularCommunities"),n.onClick=n.onClick.bind(n),n}return r(t,e),y(t,[{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props.searchResults.getIn(["","popularCommunities"])||n.i(p.List)(),o=t,i=o.map(function(t,o){return l.a.createElement(u.Link,{className:"no-decoration",to:"/community/"+t,title:e.props.communities.get(t).get("name"),onClick:e.onClick},l.a.createElement("div",{className:"sidebar-row sidebar-community-row"},l.a.createElement("div",{className:"avatar-image",style:{backgroundImage:"url("+(n.i(h.c)(e.props.communities.get(t).get("coverImg"),60)||m.a)+")"}}),l.a.createElement("div",{className:e.props.activeCommunityId==t?"sidebar-label active":"sidebar-label"},e.props.communities.get(t).get("name"))))});return l.a.createElement("div",{className:"communities-section"},l.a.createElement("div",null,i.size>0?[l.a.createElement("div",{className:"spacer"}),i,l.a.createElement("div",{className:"spacer"})]:this.props.isFetchingGlobalSearch?l.a.createElement("div",{className:"loader-div"},l.a.createElement(g.a,null),l.a.createElement("div",{className:"loading-text"},"Loading...")):null))}}]),t}(l.a.PureComponent),b=n.i(c.connect)(s,{fetchUserCommunities:f.F,search:f.G})(n.i(u.withRouter)(v))}});