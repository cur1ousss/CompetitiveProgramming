webpackJsonp([9],{1006:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var r=n(37),s=(n.n(r),n(1)),l=n.n(s),c=n(888),u=n(204),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e){function t(e){var t=e.getIn(["users",e.get("currentLoggedInUser")]);if(t){var n=t.getIn(["plan","status"]),a=t.getIn(["plan","type"]),o="paypal"===t.getIn(["plan","provider"]),i=t.getIn(["plan","details","frequency"],"");return{user:t,plan:t.get("plan"),membershipStatus:n,isMemberShipActive:"active"==n,membershipLevel:a,displayedMembershipLevel:a&&a.charAt(0).toUpperCase()+a.slice(1),cancellationDate:t.getIn(["plan","cancelOn"])?new Date(t.getIn(["plan","cancelOn"])):null,endDate:t.getIn(["plan","details","expirationDate"])?new Date(t.getIn(["plan","details","expirationDate"])):null,isFutureStartDate:t.getIn(["plan","details","isFutureStartDate"])?new Date(t.getIn(["plan","details","isFutureStartDate"])):null,ppStatus:t.getIn(["plan","details","ppStatus"]),isPaypal:o,isPromo:"promo_plan"===t.getIn(["plan","provider"]),isManual:"manual_payment"===t.getIn(["plan","provider"]),defaultSource:o?"PayPal account":t.getIn(["defaultSource","last4"])?t.getIn(["defaultSource","brand"])+" ending in "+t.getIn(["defaultSource","last4"]):t.getIn(["defaultSource","cardNo"])?t.getIn(["defaultSource","cardNo"]):null,nextBillingDate:t&&t.getIn(["nextBillingDate"]),trialEnd:t.getIn(["plan","trialEnd"])?new Date(t.getIn(["plan","trialEnd"])):null,isInTrialPeriod:t.getIn(["plan","isInTrial"],!1),paymentProviderStatus:t.getIn(["paymentProviderStatus"]),frequency:i,frequencyStr:i+"ly"}}return{}}var s=function(t){function r(){return a(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return i(r,t),d(r,[{key:"render",value:function(){if(!e)return!1;var t="",a=this.props,o=a.membershipStatus,i=a.isMemberShipActive,r=a.displayedMembershipLevel,s=a.cancellationDate,d=a.endDate,m=a.isPaypal,f=a.isPromo,h=a.isManual,y=a.defaultSource,g=a.nextBillingDate,b=a.trialEnd,v=a.isInTrialPeriod,E=a.frequency,w=a.frequencyStr,k=a.ppStatus,N=(u.a.get("price",{frequency:E,currencyType:"USD"}),"/payment");return this.props.user&&this.props.plan&&(N="/payment/update",i?t=h?"user_cancelled"==k?"You've cancelled your "+r+" membership, and your membership privileges will end on "+n.i(c.b)(s)+".":v?"Your trial for the "+r+" membership is ongoing. Once your trial ends on "+n.i(c.b)(b)+", you will have access to CommonLounge "+r+" until "+n.i(c.b)(d)+".":"You are currently a "+r+" member. Your membership is valid until "+n.i(c.b)(d)+".":s?"You've cancelled your "+r+" membership, and your membership privileges will end on "+n.i(c.b)(s)+".":f?"Congratulations! You've received a promotional "+r+" membership. This will expire on: "+n.i(c.b)(d)+".":v?"Your trial for the "+r+" membership is ongoing. Your "+w+" subscription will begin on "+n.i(c.b)(b)+".":"You are currently a "+r+" member. Your "+w+" membership automatically renews at the end of your billing cycle"+(g?", on "+n.i(c.b)(g)+".":"."):"expired"==o?(N="/payment/reinstate",t=h?"Your "+r+" membership expired on "+n.i(c.b)(s)+".":"Your promotional "+r+" membership expired on "+n.i(c.b)(d)+"."):"unpaid"==o?(N="/payment/unpaid",t=["We couldn't charge your ",m?"PayPal account":l.a.createElement("span",{className:"label large bold"},y||"payment method")," and your "+r+" membership expired on "+(s&&n.i(c.b)(s))+". Please update your payment method below to reinstate your membership privileges."]):"user_cancelled"==o&&(N="/payment/reinstate",t=s>b?"You cancelled your "+r+" membership on "+n.i(c.b)(s):v?"You cancelled your trial for "+r+" membership on "+n.i(c.b)(s)+". You trial is still valid till "+n.i(c.b)(b)+".":"Your trial expired on "+n.i(c.b)(b))),l.a.createElement(e,p({},this.props,{paymentStatusStr:t,paymentUrl:N}))}}]),r}(l.a.Component);return n.i(r.connect)(t)(s)}},1584:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(1),s=n.n(r),l=n(97),c=(n(143),n(17)),u=n(345),p=n(906),d=n(323),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=n.i(d.a)(null,d.f),y=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tokenLoaded:n.props.paypalToken,paypalLoading:!0,hasMounted:!1,showAuth:!1},n.onSubmit=n.onSubmit.bind(n),n.loadInfo=n.loadInfo.bind(n),n.initializePaypal=n.initializePaypal.bind(n),n.onAuthClose=n.onAuthClose.bind(n),n.isLoggedInUser=n.isLoggedInUser.bind(n),n.setPaypaValidationActions=n.setPaypaValidationActions.bind(n),n.updateActions=n.updateActions.bind(n),n.actions=null,n}return i(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.paypalToken&&this.setState({tokenLoaded:!0},function(){return t.loadInfo()}),this.updateActions(e)}},{key:"loadInfo",value:function(){if(n.i(p.e)()&&this.state.tokenLoaded&&this.state.hasMounted)return void(this.hasBeenInitialized||this.initializePaypal());n.i(p.e)()||n.i(p.f)(this.loadInfo)}},{key:"isLoggedInUser",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).user}},{key:"updateActions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.actions&&(this.isLoggedInUser(e)?this.actions.enable():this.actions.disable())}},{key:"setPaypaValidationActions",value:function(e){this.actions=e,this.updateActions()}},{key:"initializePaypal",value:function(){var e=this;this.hasBeenInitialized=!0;var t=this.props.onSubmit,a=this.props.alertPixels,o=this.props.paypalToken,i=this.isLoggedInUser,r=this.props.extraSubmitArgs,s=this.setState.bind(this),l=this.setPaypaValidationActions;braintree.client.create({authorization:o},function(o,p){if(o)return void console.error("Error creating client:",o);braintree.paypalCheckout.create({client:p},function(o,p){if(o)return void console.error("Error creating PayPal Checkout:",o);paypal.Button.render({env:c.d?"production":"sandbox",payment:function(){return p.createPayment({flow:"vault",displayName:"CommonLounge",billingAgreementDescription:"Your subscription to CommonLounge PRO",enableShippingAddress:!1})},validate:function(e){l(e)},onClick:function(){n.i(u.a)(e.refs.paypalButton),s(function(e,t){return{showAuth:!i()}})},onAuthorize:function(e,n){return p.tokenizePayment(e).then(function(e){t(m({info:e},r)),a()})},onCancel:function(e){console.log("checkout.js payment cancelled",JSON.stringify(e,0,2)),alert("It looks like you cancelled the Paypal checkout process. If you wish, you can also pay using a card. Please reach out to us at hello@commonlounge.com if you need any help.")},onError:function(e){console.error("checkout.js error",e)}},"#paypal-button").then(function(){e.setState({paypalLoading:!1},function(){return document.getElementById("paypal-button").style.display="block"})})})})}},{key:"onAuthClose",value:function(){this.setState({showAuth:!this.state.showAuth})}},{key:"componentDidMount",value:function(){var e=this;this.setState({hasMounted:!0},function(){e.loadInfo()}),document.getElementById("paypal-button").style.display="none"}},{key:"onSubmit",value:function(e){this.setState({paypalDirect:!0})}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.showAuth&&s.a.createElement(h,{checkAuthOn:"load",to:location.pathname,allowClose:!0,onRequestClose:this.onAuthClose,authClassNames:"z-index-max"}),this.props.newAccountMessage?s.a.createElement("div",{className:"label with-bottom-padding centered-text"}," ",this.props.hasExistingPaypalMethod?"Use a different PayPal account:":"Set up a new PayPal account:"," "):null,this.state.paypalLoading?s.a.createElement("div",{className:"loader-div"},s.a.createElement("div",{className:"loading-text"},"Loading Paypal ",s.a.createElement("span",{className:"loader-span"},s.a.createElement(l.a,{isSmall:!0})))):null,s.a.createElement("div",{ref:"paypalButton",id:"paypal-button",className:this.props.extraClass}))}}]),t}(s.a.Component);t.a=y},1585:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(1),s=n.n(r),l=n(97),c=n(323),u=(n(17),n(906)),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"render",value:function(){return s.a.createElement("button",{className:"action-button large blue block no-max-width "+this.props.extraClass,onClick:this.props.onClick},this.props.message)}}]),t}(s.a.PureComponent),f=n.i(c.a)(m,c.f),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,stripeLoading:!0},n.onStripeUpdate=n.onStripeUpdate.bind(n),n}return i(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this,t=function(){e.setState({stripeLoading:!1,loading:!1})},a=function(t){e.setState({loading:!0}),e.props.onSubmit(p({info:t},e.props.extraSubmitArgs)),e.props.alertPixels()};n.i(u.g)(t,a)}},{key:"componentWillUnmount",value:function(){window.stripeHandler&&window.stripeHandler.close()}},{key:"onStripeUpdate",value:function(e){var t={name:"CommonLounge Pro",allowRememberMe:!1,email:this.props.userEmail};this.props.isUpdate?t.panelLabel="Update Card Details":(t.description=this.props.stripeDescription,t.amount=this.props.stripeAmountInCents),window.stripeHandler.open(t),e.preventDefault()}},{key:"render",value:function(){var e=this.state,t=e.stripeLoading,n=e.loading;return s.a.createElement("div",{className:"stripe-container"},t?s.a.createElement("div",{className:"loader-div"},s.a.createElement(l.a,null),s.a.createElement("div",{className:"loading-text"},"Loading...")):n?null:s.a.createElement(f,{onClick:this.onStripeUpdate,message:this.props.message,to:location.pathname,extraClass:this.props.extraClass,authClassNames:"z-index-max"}))}}]),t}(s.a.Component);t.a=h},1603:function(e,t,n){e.exports=n.p+"21bf80c4048cbdcfc6cc88dcba4f9a72.png"},1604:function(e,t,n){e.exports=n.p+"baf5371737a9735164858cab7098ee88.png"},827:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{currentUser:e.get("currentLoggedInUser"),users:e.get("users"),notifications:e.get("notifications"),notificationsFeed:e.get("notificationsFeed"),isFetchingNotifications:e.getIn(["pagination","notifications","isFetching"],!1),currentOffsetBeingFetched:e.getIn(["pagination","notifications","currentOffsetBeingFetched"],0)}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Notifications",function(){return S}),n.d(t,"NotificationsContainer",function(){return O});var s=n(1),l=n.n(s),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(891)),d=n.n(p),m=n(39),f=(n.n(m),n(132)),h=(n.n(f),n(899)),y=n.n(h),g=n(133),b=n(887),v=(n(134),n(97)),E=n(323),w=n(38),k=n(894),N=n.n(k),C=(n(324),n(131)),P=n(32),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),S=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.fetchNotifications(0),n.isDataAvailable=n.isDataAvailable.bind(n),n.onNotificationClick=n.onNotificationClick.bind(n),n.loadMore=n.loadMore.bind(n),n}return i(t,e),I(t,[{key:"loadMore",value:function(){this.props.fetchNotifications()}},{key:"onNotificationClick",value:function(e){this.props.toggleNotificationRead([e])}},{key:"componentWillUnmount",value:function(){}},{key:"isDataAvailable",value:function(){return this.props.notificationsFeed.size}},{key:"render",value:function(){var e=this,t=n.i(E.a)(null),a=null;this.props.currentUser&&(a=this.props.notificationsFeed.map(function(t,a){var o=e.props.notifications.get(t);return l.a.createElement(u.Link,{to:o.get("mainObjectPath"),className:"no-decoration",key:a,onClick:function(){return e.onNotificationClick(o.get("eid"))}},l.a.createElement("div",{className:o.get("isRead")?"notification read":"notification unread"},l.a.createElement(g.a,{preserveOriginal:!0,size:50,className:"avatar-image",src:o.get("avatar")?o.get("avatar"):o.get("avatarName")?null:N.a,name:o.get("avatarName")}),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"text"},n.i(C.k)(o.get("genericTemplate").toJS())),l.a.createElement("div",{className:"timeago label"},l.a.createElement("span",{className:"emoji"},o.get("emoji")),l.a.createElement(d.a,{date:o.get("dt")})))))}));var o=this.props.isFetchingNotifications?l.a.createElement("div",{className:"loader-div"},l.a.createElement(v.a,null),0==this.props.currentOffsetBeingFetched?l.a.createElement("div",{className:"loading-text no-uppercase"},"Checking for new notificationsâ€¦"):l.a.createElement("div",{className:"loading-text"},"Loadingâ€¦")):null,i=0!=this.props.isPage;return l.a.createElement("div",{className:i?"page notifications-page":"notifications-container"},i?l.a.createElement(t,{checkAuthOn:"load",allowLurker:!0,to:"/notifications"}):null,i?l.a.createElement(b.a,{noBack:!0,isNav:!0}):null,this.props.currentUser&&this.props.users.get(this.props.currentUser).get("unreadNotificationsCount")>0&&(0!=this.props.currentOffsetBeingFetched||!this.props.isFetchingNotifications)?l.a.createElement("div",{className:i?"mark-all-as-read-button with-margin-top":"mark-all-as-read-button",onClick:this.props.markAllNotificationsAsRead},"Mark all as read"):null,0===this.props.currentOffsetBeingFetched?o:null,this.props.notifications.size?a:this.props.isFetchingNotifications?null:l.a.createElement("div",{className:"onboarding-text-label"},"You have no notifications (yet)."),i?l.a.createElement(y.a,{onEnter:this.loadMore,scrollableAncestor:n.i(P.f)()?window:null,bottomOffset:"-200px"}):l.a.createElement("div",{className:"show-older-notifications-button"},l.a.createElement(u.Link,{to:"/notifications"},"Show older notifications")),0!=this.props.currentOffsetBeingFetched?o:null)}}]),t}(l.a.PureComponent),O=n.i(c.connect)(r,{fetchNotifications:w.z,toggleNotificationRead:w.A,markAllNotificationsAsRead:w.B,resetPagination:w.C})(S)},831:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PaymentHelp",function(){return d});var r=n(1),s=n.n(r),l=n(887),c=n(914),u=(n(17),n(973)),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleBankInstructions=n.toggleBankInstructions.bind(n),n.state={bankInstructionsVisible:!1},n}return i(t,e),p(t,[{key:"toggleBankInstructions",value:function(){this.setState({bankInstructionsVisible:!this.state.bankInstructionsVisible})}},{key:"render",value:function(){var e=s.a.createElement("div",{className:"payment-help"},this.props.showIntroMessage&&s.a.createElement("div",{className:"emphasis center"},"Common reasons why your payment is failing! ",s.a.createElement("hr",{className:"editor-hr"})),"Your bank may decline a transaction for a variety of reasons:",s.a.createElement("ul",null,s.a.createElement("li",null,"Your card may have restrictions on international purchases (CommonLounge is based in the USA). In this case, you need to ",s.a.createElement("strong",null,"enable international transactions.")," ",s.a.createElement("span",{className:"blue label",onClick:this.toggleBankInstructions}," ",this.state.bankInstructionsVisible?"- Collapse":"+ See specific instructions from some banks in India."),this.state.bankInstructionsVisible?s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("strong",null,"State Bank of India")," â€“ All Debit cards provided by SBI now have the capability of international transactions and just have to be enabled. Before enabling, you need to send a few SMSs from your account registered mobile number to 09223966666.",s.a.createElement("ul",null,s.a.createElement("li",null,"First send, ",s.a.createElement("strong",null,"SWON INTL [LAST 4 DIGIT OF YOUR CARD]")," to 09223966666."),s.a.createElement("li",null,"Then send, ",s.a.createElement("strong",null,"SWON ECOM  [LAST 4 DIGIT OF YOUR CARD]")," to 09223966666."),s.a.createElement("li",null,"Finally send, ",s.a.createElement("strong",null,"SWON POS [LAST 4 DIGIT OF YOUR CARD]")," to 09223966666.")),"After this is done, your CommonLounge payment should go through. If this is a new debit card, please make sure you do some ATM transactions (like a money withdrawal) before trying to activate international cross currency transaction.",s.a.createElement("br",null),s.a.createElement("br",null),"If you have an International Visa card from SBI, you can activate international usage by going to Net banking â†’ e-Services â†’ ATM Card services (from left sidebar) â†’ ATM card limit/channel/usage change â†’ Change usage type â†’ International Usage â†’ Enable."),s.a.createElement("li",null,s.a.createElement("strong",null,"Bank of Baroda")," â€“ Make sure you have an International Chip based card. Call the helpline to enable international transactions or do it via the NetBanking and wait for 24 hours before starting to use your card internationally."),s.a.createElement("li",null,s.a.createElement("strong",null,"ICICI Bank")," â€“ If you want to activate cross currency transaction on your Visa or Mastercard (Visa Preferred) debit card, you just have to send the following SMS from your bank registered mobile number: ",s.a.createElement("strong",null,"INTL")," to 5676766. Sometimes this SMS may not work properly, in those cases, try to send ",s.a.createElement("strong",null,"INTL [LAST 4 DIGITS OF YOUR DEBIT CARD]")," to 5676766 from your registered mobile number.  If you do not get any confirmation SMS for international usage activation after waiting for 3-4 days, please call the customer care and place a request of international usage manual activation on your card. Mention to them that you have already sent this SMS but you didnâ€™t get any activation confirmation message. They will take your request and manually activate it."),s.a.createElement("li",null,s.a.createElement("strong",null,"HDFC Bank")," â€“ Log on to Net Banking. Click on the Cards tab and go to the Debit Cards menu â†’ Click on Request â†’ Select Set International / Domestic Usage â†’ Select the option: Card to be enabled for International and Domestic Use."),s.a.createElement("li",null,s.a.createElement("strong",null,"Axis Bank")," â€“ Call the helpline to enable International Usage (can be done easily using the IVR or via the NetBanking as well). To activate using new net banking interface, go to Accounts â†’ My debit cards â†’ More Services â†’ Change Usage Preferences."),s.a.createElement("li",null,s.a.createElement("strong",null,"Kotak Mahindra Bank")," â€“ If your Kotak Jifi account comes with EMV Chip based international debit card (visa), you just need to use the Debit Card at any ATM to activate it and it should immediately started working.")):null),s.a.createElement("li",null,"Your bank may block transactions they don't recognize. Generally you can just call your bank and have them approve the transaction."),s.a.createElement("li",null,"Your debit card may require a PIN to be entered. If you are using one of these cards, you will need to use another card to make the purchase."),s.a.createElement("li",null,"Your card may be about to expire.")),s.a.createElement("div",{className:"with-margin-top-10"},"If none of the above applies to you, please reach out to us at hello@commonlounge.com and we'll help you out right away!"));return this.props.isEmbedded?e:s.a.createElement("div",{className:"page payment-help-page"},s.a.createElement(l.a,{noBack:!0,isNav:!0},s.a.createElement(u.a,{activeCommunityId:null})),s.a.createElement("h1",null,"Payment Help"),e,s.a.createElement(c.a,{currentLoggedInUser:this.props.currentLoggedInUser,to:"/privacy",hideSignupForm:!0}))}}]),t}(s.a.PureComponent)},865:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{currentLoggedInUser:e.get("currentLoggedInUser"),users:e.get("users"),planApiState:e.get("planApiState"),pricingInfo:e.get("pricingInfo"),discountCouponCodeInfo:e.get("discountCouponCodeInfo"),initialRecurringPaymentAuth:e.get("initialRecurringPaymentAuth"),allowedPaymentMethods:e.get("allowedPaymentMethods"),paypalToken:e.get("paypalToken"),afc:e.get("afc"),chosenUpgradePageCurrency:e.get("chosenUpgradePageCurrency"),createEmailUserRequestStatus:e.get("createEmailUserRequestStatus"),createEmailUserLocation:e.get("createEmailUserLocation")}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"Payment",function(){return Y}),n.d(t,"PaymentContainer",function(){return z});var s=n(1),l=n.n(s),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(38)),d=n(97),m=n(1585),f=n(1584),h=n(132),y=n.n(h),g=n(897),b=n(136),v=n(831),E=n(17),w=n(204),k=n(364),N=n(58),C=n(323),P=(n(887),n(973),n(906)),I=n(888),S=n(134),O=n(133),_=n(1604),T=n.n(_),L=n(1603),U=n.n(L),B=n(1006),x=n(326),M=(n.n(x),n(39)),D=(n.n(M),n(203)),j=n.n(D),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},q=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),F=n.i(C.a)("button",C.f),R=n.i(C.a)("div",C.f),Y=function(e){function t(e){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.alertPixels=i.alertPixels.bind(i),i.useExistingCard=i.useExistingCard.bind(i),i.useExistingPaypal=i.useExistingPaypal.bind(i),i.getInitialFrequency=i.getInitialFrequency.bind(i),i.getPrice=i.getPrice.bind(i),i.getPaymentOptions=i.getPaymentOptions.bind(i),i.onPhoneChange=i.onPhoneChange.bind(i),i.toggleDiscountInputVisibility=i.toggleDiscountInputVisibility.bind(i),i.isExistingPremiumUser=i.isExistingPremiumUser.bind(i),i.redirectToPayU=i.redirectToPayU.bind(i),i.onManualPaymentClick=i.onManualPaymentClick.bind(i),i.handleDiscountCodeSubmit=i.handleDiscountCodeSubmit.bind(i),i.setBillingFrequency=i.setBillingFrequency.bind(i),i.getSelectedManualDuration=i.getSelectedManualDuration.bind(i),i.setSelectedManualDuration=i.setSelectedManualDuration.bind(i),i.scrollToSection=i.scrollToSection.bind(i),i.onSignInClick=i.onSignInClick.bind(i),n.i(P.d)(),i.props.getPaypalToken(),e.users&&e.users.hasIn(["users",e.currentLoggedInUser,"nextBillingDate"])||e.fetchUserMetadata(e.currentLoggedInUser,["paymentProviderStatus","nextBillingDate"]),i.scrollTo=void 0,i.state={isSignInSignUpModalOpen:!1,isSubmitDisabled:!(e.users&&e.users.getIn([e.currentLoggedInUser,"hasPhoneNumber"])),isDiscountInputVisible:!1,isExistingPremiumUser:i.isExistingPremiumUser(),initialBillingFrequency:i.getInitialFrequency(),selectedBillingFrequency:i.getInitialFrequency(),selectedManualDuration:i.getSelectedManualDuration(),authArgs:{isSignUp:!0,isSignIn:!1}},i}return i(t,e),q(t,[{key:"onSignInClick",value:function(){this.setState({authArgs:{isSignUp:!1,isSignIn:!0}}),this.scrollToSection(null,"sign-up","sign-up")}},{key:"isExistingPremiumUser",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!e.users||!e.currentLoggedInUser)return!1;var t=e.users.getIn([e.currentLoggedInUser,"plan","isPromo"],!1);return null!=e.users.getIn([e.currentLoggedInUser,"plan","type"])&&!t}},{key:"getInitialFrequency",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.users&&e.users.getIn([e.currentLoggedInUser]),a="switch-yearly"==e.params.actionType?"year":"switch-monthly"==e.params.actionType?"month":null,o="manual-payment"==n.i(N.c)("type"),i="monthly"==n.i(N.c)("type");if(a)void 0===this.scrollTo&&(this.scrollTo="step-1");else if(o){var r="true"==n.i(N.c)("success")?"success":"error";this.props.setStateAtPath(["planApiState","manual"],{type:"subscribingToPlanState",status:r,error:n.i(N.c)("error")}),void 0===this.scrollTo&&"error"==r&&(this.scrollTo="step-2")}return a||(o?"manual":null)||t&&t.getIn(["plan","details","frequency"],"")||(i?"month":"year")}},{key:"getSelectedManualDuration",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return"manual-payment"==n.i(N.c)("type")&&"false"==n.i(N.c)("success")?n.i(N.c)("duration"):"12"}},{key:"componentWillReceiveProps",value:function(e){var t=e.currentLoggedInUser;!e.users||!e.users.hasIn([t,"plan"])||this.props.users&&this.props.users.hasIn([t,"plan"])||this.setState({isExistingPremiumUser:this.isExistingPremiumUser(e)}),!e.users||!e.users.hasIn([t,"plan","details","frequency"])||this.props.users&&this.props.users.hasIn([t,"plan","details","frequency"])||this.setState({selectedBillingFrequency:this.getInitialFrequency(e)})}},{key:"toggleDiscountInputVisibility",value:function(){this.setState({isDiscountInputVisible:!this.state.isDiscountInputVisible})}},{key:"handleDiscountCodeSubmit",value:function(){this.props.validateDiscountCoupon(this.refs.discountCodeInput.value)}},{key:"alertPixels",value:function(){this.props.fetchPixelInformation("purchase",{plan_type:this.state.selectedBillingFrequency}),E.d&&window.gtag&&gtag_report_paid_conversion()}},{key:"onPhoneChange",value:function(e){var t=e.target.value;10==t.length&&/^\d+$/.test(t)?this.setState({phone:t,isSubmitDisabled:!1}):this.setState({phone:t,isSubmitDisabled:!0})}},{key:"redirectToPayU",value:function(){this.setState({redirectingToPayU:!0})}},{key:"getPrice",value:function(){var e=this.state.selectedBillingFrequency;return this.props.discountCouponCodeInfo?parseInt(this.props.discountCouponCodeInfo.getIn(["price","USD","amount"])):w.a.get("price",{frequency:e,currencyType:"USD",formatNumber:!1})}},{key:"useExistingCard",value:function(){this.props.updatePlan({providerType:"stripe",updateType:this.props.apiStateType||void 0,frequency:this.state.selectedBillingFrequency})}},{key:"useExistingPaypal",value:function(){this.props.updatePlan({providerType:"paypal",updateType:this.props.apiStateType||void 0,frequency:this.state.selectedBillingFrequency})}},{key:"onManualPaymentClick",value:function(){this.setBillingFrequency("manual")}},{key:"getPaymentOptions",value:function(){var e=this;if(!this.props.allowedPaymentMethods)return null;var t=this.props.allowedPaymentMethods.get(this.state.selectedBillingFrequency),a=this.props.currentLoggedInUser&&this.props.users.getIn([this.props.currentLoggedInUser]),o=a&&null!=this.props.users.getIn([this.props.currentLoggedInUser,"plan","type"]),i=this.props.currentLoggedInUser&&this.props.users.getIn([this.props.currentLoggedInUser,"paymentProviderStatus"]),r=this.props.planApiState&&this.props.planApiState.get(this.state.selectedBillingFrequency),s=(r&&r.status,a&&a.getIn(["defaultSource","type"])),c=this.state.selectedBillingFrequency,p=a&&a.getIn(["plan","details","frequency"],""),d="update"==this.props.params.actionType&&p==this.state.selectedBillingFrequency,h=(a&&a.getIn(["defaultSource","type"]),new Date),g=new Date;g.setDate(g.getDate()+7);var b={year:"numeric",month:"long",day:"numeric"},v=[],E=[],N=[],C=l.a.createElement("div",{className:"faq"},l.a.createElement("div",{className:"question"},"Why are subscriptions via international payment methods cheaper than one-time payments?"),l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"If you have an International Debit/Credit Card or a Paypal account enabled for international use, you can use our recurring billing option at a lower price. By charging you in US Dollars","manual"!=this.state.selectedBillingFrequency?" ("+w.a.get("price",{frequency:this.state.selectedBillingFrequency,currencyType:"USD"})+")":"",", we are not required to charge you GST applicable in India, and we pass on these savings to you.")));if(-1!=t.indexOf("stripe")){var P=a&&!0===a.getIn(["defaultSource","hasStripe"]),I=this.getPrice(),S=100*I,O="You'll be charged $"+I+" per "+c,_=l.a.createElement("span",null,this.state.isExistingPremiumUser?"Use a New Card":"Pay with Card",l.a.createElement("div",null,l.a.createElement("span",{className:"credit-card-info-message"}," Credit Â· Debit"))),T=l.a.createElement(m.a,{userEmail:a&&a.get("email"),message:_,onSubmit:this.props.updatePlan,isUpdate:d,alertPixels:this.alertPixels,stripeAmountInCents:S,stripeDescription:O,extraClass:"very-very-wide centered",extraSubmitArgs:{planType:"pro",providerType:"stripe",frequency:c,updateType:this.props.apiStateType||void 0}}),L=i&&"failed"==i.getIn(["stripe","status"]),U=P&&(!d||d&&"stripe"!=s)?l.a.createElement(F,{className:"action-button large blue block no-max-width very-very-wide centered",to:location.pathname,onClick:this.useExistingCard},"Use Existing Card",l.a.createElement("div",null,l.a.createElement("span",{className:"credit-card-info-message "+(L?"red":"")},L?a.getIn(["defaultSource","brand"],"")+" "+a.getIn(["defaultSource","last4"],"")+" Â· Failed "+i.getIn(["stripe","ntransactions"])+" times":a.getIn(["defaultSource","brand"],"")?a.getIn(["defaultSource","brand"],"")+" "+a.getIn(["defaultSource","last4"],""):a.getIn(["defaultSource","cardNo"])?a.getIn(["defaultSource","cardNo"]):""))):null;v=v.concat([U,T])}if(-1!=t.indexOf("paypal")){var B=a&&!0===a.getIn(["defaultSource","hasPaypal"]),x=l.a.createElement(f.a,{onSubmit:this.props.updatePlan,user:a,paypalToken:this.props.paypalToken,alertPixels:this.alertPixels,newAccountMessage:this.state.isExistingPremiumUser,hasExistingPaypalMethod:B,extraClass:"on-settings-page",extraSubmitArgs:{planType:"pro",providerType:"paypal",frequency:c,updateType:this.props.apiStateType||void 0}}),M=B&&(!d||d&&"paypal"!=s)?l.a.createElement(F,{className:"action-button large blue block no-max-width very-very-wide centered",onClick:this.useExistingPaypal},"Use Existing PayPal Account",i&&"failed"==i.getIn(["paypal","status"])?l.a.createElement("div",null,l.a.createElement("span",{className:"credit-card-info-message red"},"Failed ",i.getIn(["paypal","ntransactions"])," times")):null):null;E=l.a.createElement("div",{className:"hero-section"},l.a.createElement("div",{className:"heading no-padding-top"},"Frequently Asked Questions"),l.a.createElement("div",{name:"faqs",className:"faqs"},!o&&l.a.createElement("div",{className:"faq"},l.a.createElement("div",{className:"question"},"Why do you need payment details for a free trial?"),l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"We ask for your payment details to ensure a seamless subscription experience, and to prevent abuse of the free trial program. You can cancel anytime before ",g.toLocaleDateString("en-US",b)," to avoid being charged."))),this.props.allowedPaymentMethods.get("manual")&&C,!o&&l.a.createElement("div",{className:"faq"},l.a.createElement("div",{className:"question"},"When will my free trial begin and end?"),l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"Your free trial will begin today, ",h.toLocaleDateString("en-US",b),", and end on ",g.toLocaleDateString("en-US",b),".",l.a.createElement("br",null),"You will be able to ",currentLoggedInUser?l.a.createElement(u.Link,{to:"/profile/settings"},"cancel the subscription"):"cancel the subscription"," any time before ",g.toLocaleDateString("en-US",b)," to avoid being charged."))),this.props.initialRecurringPaymentAuth&&l.a.createElement("div",{className:"faq"},l.a.createElement("div",{className:"question"},"What is the $0.50 charge on my card?"),l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"A small transaction of $0.50 will be made on your card to check if it is valid and will be immediately refunded. The refund can take up to 7 days to show up in your account."))),l.a.createElement("div",{className:"faq"},l.a.createElement("div",{className:"question"},"Will the subscription price increase over time?"),l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"Your subscription cost will stay at this price as long as you stay subscribed."))))),"paypal"==s?v.unshift(M,x):v=v.concat([this.state.isExistingPremiumUser?null:l.a.createElement("div",{className:"label bold large with-margin centered-text"},"OR"),M,x])}if(-1!=t.indexOf("payu-manual")){var D=l.a.createElement("form",{action:"/payments/payu-manual-start/",method:"post"},a&&a.get("hasPhoneNumber")?null:l.a.createElement("div",{className:"phonewrapper"},"+91-",l.a.createElement("input",{type:"tel",name:"phone",ref:"phone",spellCheck:"false",className:"phone-input",placeholder:"9810012345",onChange:this.onPhoneChange})),l.a.createElement(F,{type:"submit",className:"action-button large blue block no-max-width very-very-wide centered",disabled:this.state.isSubmitDisabled,authClassNames:"z-index-max",onClick:this.redirectToPayU},"Complete Checkout"),l.a.createElement("div",{className:"label with-margin centered-text"},"You will be redirected to PayU, our secure Indian Payment Processor."),l.a.createElement("input",{type:"hidden",name:"csrfmiddlewaretoken",value:n.i(k.a)("csrftoken")}),l.a.createElement("input",{type:"hidden",name:"duration",value:this.state.selectedManualDuration}),l.a.createElement("input",{type:"hidden",name:"redirect_path",value:"/payment"})),j=this.props.pricingInfo.getIn(["pro","manual","plans"]).map(function(e){return e.get("duration")});j.sortBy(function(e){return e});var A=w.a.get("chargeCurrency",{frequency:"manual"});N=j.map(function(t){t=t.toString();var n={frequency:"manual",currencyType:A,duration:t};return l.a.createElement("div",{className:(e.state.selectedManualDuration==t?"selected":"")+" manual-payment-option",onClick:function(){return e.setSelectedManualDuration(t)}},"12"==t?l.a.createElement("div",{className:"best-value-star"}):null,l.a.createElement("div",{className:"plan-name"},t," ",y()("month",parseInt(t))),l.a.createElement("div",{className:"discount label large"},l.a.createElement("span",{className:"dark-gray bold"},w.a.get("monthlyPrice",n)," / month"),"1"!=t&&l.a.createElement("span",{className:"discount-pct"}," ",w.a.get("discount",n),"% off")),l.a.createElement("div",{className:"price label large dark-gray"},w.a.get("price",n)))}),E=l.a.createElement("div",{className:"hero-section"},l.a.createElement("div",{className:"heading no-padding-top"},"Frequently Asked Questions"),l.a.createElement("div",{name:"faqs",className:"faqs"},l.a.createElement("div",{className:"faq"},l.a.createElement("div",{className:"question"},"What does a One-time Payment mean?"),l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"You can buy a one-time payment pass for CommonLounge Pro by using Indian Debit / Credit cards or Indian Net Banking and Wallets. You will be charged in INR. You can keep topping up your access by buying as many one-time passes as you'd like!"))),!o&&l.a.createElement("div",{className:"faq"},l.a.createElement("div",{className:"question"},"How does the 7-day money back guarantee work?"),l.a.createElement("div",{className:"answer"},l.a.createElement("p",null,"You will be charged right now, but if for some reason you're unhappy with your CommonLounge Pro experience, you can request a 100% refund within the next 7 days. No questions asked. Simply click cancel on the ",l.a.createElement(u.Link,{to:"/profile/settings"},"settings page"),"."))),C)),v=v.concat([D])}return{payuFrequencyOptions:N,paymentOptions:v,faq:E}}},{key:"componentWillUnmount",value:function(){this.props.setStateAtPath(["planApiState"],n.i(M.Map)())}},{key:"componentDidUpdate",value:function(){this.scrollTo&&this.refs[this.scrollTo]&&(x.scroller.scrollTo(this.scrollTo,{duration:500,smooth:!0,offset:-50}),this.scrollTo=!1)}},{key:"setBillingFrequency",value:function(e){this.setState({selectedBillingFrequency:e},function(){E.a?x.scroller.scrollTo("manual"!=e?"order-summary":"manual-payment",{duration:500,smooth:!0,offset:-150}):x.scroller.scrollTo("billing-cycle",{duration:500,smooth:!0,offset:-100})})}},{key:"setSelectedManualDuration",value:function(e){this.setState({selectedManualDuration:e},function(){E.a&&x.scroller.scrollTo("order-summary",{duration:500,smooth:!0,offset:-150})})}},{key:"scrollToSection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"order-summary",n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"step-2",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500;if(this.refs[t]){x.scroller.scrollTo(t,{duration:o,smooth:!0,offset:-100});var i=this.refs[a].className;this.refs[a].className+=" shake",setTimeout(function(){n.refs[a].className=i},1600)}}},{key:"render",value:function(){var e=this;if(!this.props.pricingInfo)return l.a.createElement(S.a,null);var t=this.props.users&&this.props.users.getIn([this.props.currentLoggedInUser]),a=this.props,o=(a.membershipStatus,a.isMemberShipActive),i=a.displayedMembershipLevel,r=(a.cancellationDate,a.endDate,a.isPaypal,a.isPromo,a.isManual,a.defaultSource),s=a.nextBillingDate,c=(a.trialEnd,a.isInTrialPeriod,a.paymentStatusStr),p=o?l.a.createElement("span",null,"CommonLounge",l.a.createElement("span",{className:"pro-label"},i)):"CommonLounge",m="update"==this.props.params.actionType,f="switch-monthly"==this.props.params.actionType,h="switch-yearly"==this.props.params.actionType,y="reinstate"==this.props.params.actionType,E="unpaid"==this.props.params.actionType,k=this.props.planApiState&&this.props.planApiState.get(this.state.selectedBillingFrequency),N=k&&k.status,C=k&&k.error,P=(E||C)&&l.a.createElement(v.PaymentHelp,{isEmbedded:!0}),_=this.getPaymentOptions(),L=(w.a.get("savingsInYearlyPrice",{currencyType:"USD"}),t&&null!=this.props.users.getIn([this.props.currentLoggedInUser,"plan","type"])),B=t&&this.props.users.getIn([this.props.currentLoggedInUser,"plan","isPromo"],!1),M=(t&&this.props.users.getIn([this.props.currentLoggedInUser,"plan","status"]),t&&t.getIn(["plan","details","frequency"],"")),D=t&&t.hasIn(["defaultSource","type"]),q="manual"==this.state.selectedBillingFrequency,F=w.a.get("chargeCurrency",{frequency:this.state.selectedBillingFrequency}),Y=this.props.chosenUpgradePageCurrency||w.a.get("displayCurrency",{frequency:this.state.selectedBillingFrequency}),z=(w.a.get("symbol",{currencyType:Y}),w.a.get("currencyCode",{currencyType:Y})),H=null;t&&L&&(H=l.a.createElement("div",{className:"current-plan-info"},l.a.createElement("span",null,c),!B&&l.a.createElement("div",{className:"payment-method"},"Your current payment method: ",l.a.createElement("span",null,r||(D?"No card on file.":null)))));var W=(this.state.selectedManualDuration,null),V=null,G=null,K=this.props.discountCouponCodeInfo&&this.props.discountCouponCodeInfo.get("isSuccess")&&"month"==this.state.selectedBillingFrequency;K&&(W=w.a.toPrecision(this.props.discountCouponCodeInfo.getIn(["price",z,"amount"])),V=this.props.discountCouponCodeInfo.getIn(["price",z,"currencySymbol"]),G=z!=F?"($"+parseInt(this.props.discountCouponCodeInfo.getIn(["price",F,"amount"]))+")":"");var J=L?null:this.state.isDiscountInputVisible?this.props.discountCouponCodeInfo&&this.props.discountCouponCodeInfo.get("price")?l.a.createElement("div",{className:"label success with-bottom-padding centered-text"},"month"==this.state.selectedBillingFrequency?l.a.createElement("div",null,"Your ",this.props.discountCouponCodeInfo.get("isReferralCode")?"referral code":"discount coupon"," is valid! ",l.a.createElement("br",null),"Enjoy your Pro access for ",V,W," ",G," at a ",this.props.discountCouponCodeInfo.get("discount"),"% discount! ðŸŽ‰"):l.a.createElement("div",null,this.props.discountCouponCodeInfo.get("isReferralCode")?l.a.createElement("span",null,"Your referral code has been noted!",l.a.createElement("br",null)," For now, discounts associated with this referral only work for the monthly subscription plans."):"Discount Coupon codes only apply to the monthly subscription plans.")):l.a.createElement("div",{className:"discount-code-wrapper"},this.props.discountCouponCodeInfo&&this.props.discountCouponCodeInfo.get("error")?l.a.createElement("div",{className:"label error with-bottom-padding centered-text"},this.props.discountCouponCodeInfo.get("error")):null,l.a.createElement("input",{type:"text",ref:"discountCodeInput",spellCheck:"false",className:"discount-code-input",placeholder:"Enter discount code...",defaultValue:this.props.afc||""}),l.a.createElement("div",{className:"button discount-code-button",onClick:this.handleDiscountCodeSubmit},"Apply"),this.props.isValidatingCoupon?l.a.createElement("div",{className:"loader-div"},l.a.createElement(d.a,null),l.a.createElement("div",{className:"loading-text"},"Validating Discount Coupon...")):null):l.a.createElement(R,{to:"/payment",className:"label with-bottom-padding blue large bold centered-text",authClassNames:"z-index-max",onClick:this.toggleDiscountInputVisibility},"Have a Discount or Referral Code?"),$=l.a.createElement("div",{className:"order-summary"},l.a.createElement("div",{className:"order-summary-label label large dark-blue bold uppercase"},"Order Summary"),l.a.createElement("div",{className:"split-row"},l.a.createElement("div",{className:"label proper-case dark"},"manual"!=this.state.selectedBillingFrequency?this.state.selectedBillingFrequency+"ly Pro Subscription":this.state.selectedManualDuration+" Month Pro Subscription"),l.a.createElement("div",{className:"label dark"},w.a.get("monthlyPrice",{frequency:this.state.selectedBillingFrequency,currencyType:Y,duration:this.state.selectedManualDuration}),"/month","year"==this.state.selectedBillingFrequency?" Ã— 12":q?" Ã— "+this.state.selectedManualDuration:"")),K?l.a.createElement("div",{className:"split-row"},l.a.createElement("div",{className:"label dark proper-case"},"Discount"),l.a.createElement("div",{className:"label dark"},"â€” ",V,w.a.toPrecision(w.a.get("monthlyPrice",{frequency:this.state.selectedBillingFrequency,currencyType:Y,duration:this.state.selectedManualDuration,includeSymbol:!1})-W)," (",this.props.discountCouponCodeInfo.get("discount"),"%)")):null,q?null:l.a.createElement("div",{className:"split-row"},l.a.createElement("div",{className:"label proper-case dark"},this.state.selectedBillingFrequency+"ly "+(L?"":"after free trial")),l.a.createElement("div",{className:"label dark"},K?""+V+W+" "+G:l.a.createElement("span",null,w.a.get("price",{frequency:this.state.selectedBillingFrequency,currencyType:Y,duration:this.state.selectedManualDuration}),F!=Y&&" ("+w.a.get("price",{frequency:this.state.selectedBillingFrequency,currencyType:F,duration:this.state.selectedManualDuration})+")"))),l.a.createElement("div",{className:"split-row"},l.a.createElement("div",{className:"label with-top-padding dark"},"Early Adopter Discount"),l.a.createElement("div",{className:"label with-top-padding dark"},"Applied")),l.a.createElement("div",{className:"split-row total-row"},l.a.createElement("div",{className:"label with-top-padding dark bold"},"Today's Total"),l.a.createElement("div",{className:"label with-top-padding dark bold"},"manual"!=this.state.selectedBillingFrequency?L?w.a.get("price",{frequency:this.state.selectedBillingFrequency,currencyType:F,duration:this.state.selectedManualDuration}):"$0.00":l.a.createElement("span",null,w.a.get("price",{frequency:this.state.selectedBillingFrequency,currencyType:Y,duration:this.state.selectedManualDuration})," ",F!=Y&&"("+w.a.get("price",{frequency:this.state.selectedBillingFrequency,currencyType:F,duration:this.state.selectedManualDuration})+")"))),F!=Y?[l.a.createElement("div",{className:""},l.a.createElement("div",{className:"label centered-text large with-border-top"},"* Prices are shown in ",z,", but you will be charged in ",K?F+" ($"+parseInt(this.props.discountCouponCodeInfo.getIn(["price",F,"amount"]))+")":"USD ("+w.a.get("price",{frequency:this.state.selectedBillingFrequency,currencyType:F})+")"," ",l.a.createElement("br",null)," Your card must be enabled for international use within the United States."))]:null,q?[l.a.createElement("div",{className:""},l.a.createElement("div",{className:"label centered-text large with-border-top"},"* You will be charged in INR. You can use any local debit card, credit card, net banking & wallets. ",!L&&l.a.createElement("div",null,"100% money back guarantee within the next 7 days")))]:null),Q=[],Z=this.props.allowedPaymentMethods;Z.has("year")&&Q.push(l.a.createElement("div",{className:"billing-cycle-option annual "+("year"==this.state.selectedBillingFrequency?"selected":"")+" "+("year"==M?"active":""),onClick:function(){return e.setBillingFrequency("year")}},l.a.createElement("div",{className:"active-checkmark"}),l.a.createElement("div",{className:"label best-value-label uppercase"},"Best Value"),l.a.createElement("div",{className:"plan-name"},"Yearly"),!L&&l.a.createElement("div",{className:"label large"},"7-day free trial"),l.a.createElement("div",{className:"label large"},L?"":"then"," ",w.a.get("price",{frequency:"year",currencyType:Y})," yearly (",l.a.createElement("span",{className:"dark-gray"},w.a.get("monthlyPrice",{frequency:"year",currencyType:Y})," / month"),")"),l.a.createElement("div",{className:"label large"},l.a.createElement("img",{src:T.a})))),Z.has("month")&&Q.push(l.a.createElement("div",{className:"billing-cycle-option monthly "+("month"==this.state.selectedBillingFrequency?"selected":"")+" "+("month"==M?"active":""),onClick:function(){return e.setBillingFrequency("month")}},l.a.createElement("div",{className:"active-checkmark"}),l.a.createElement("div",{className:"plan-name"},"Monthly"),!L&&l.a.createElement("div",{className:"label large"},"7-day free trial"),l.a.createElement("div",{className:"label large"},L?"":"then"," ",l.a.createElement("span",{className:"dark-gray"},w.a.get("monthlyPrice",{frequency:"month",currencyType:Y})," / month")),l.a.createElement("div",{className:"label large"},l.a.createElement("img",{src:T.a})))),Z.has("manual")&&(Q.push(l.a.createElement("div",{className:"vertical-separator"})),Q.push(l.a.createElement("div",{className:"billing-cycle-option manual "+(q?"selected":"")+" "+("manual"==M?"current":""),onClick:function(){return e.setBillingFrequency("manual")}},l.a.createElement(x.Element,{name:"manual-payment"},l.a.createElement("div",{className:"plan-name"},"One-time Payment"),!L&&l.a.createElement("div",{className:"label large"},"7-day money back guarantee"),l.a.createElement("div",{className:"label large"},"For Indian cards, Net Banking & Wallets"),l.a.createElement("div",{className:"label large"},l.a.createElement("img",{src:U.a}))))));var X=Z.has("manual")&&!q&&l.a.createElement("div",{className:"label large with-margin dark-gray suggestion-box"},"Consider using local Indian payment options under the ",l.a.createElement("span",{className:"blue",onClick:this.onManualPaymentClick},"One-Time Payment")," section, which will allow you to pay via local Indian Debit/Credit Cards, Net Banking, Wallets, etc."),ee=[];this.state.selectedBillingFrequency==M?ee=q?y?[l.a.createElement("div",{className:"label extra-large with-margin dark-gray"},"Buy access ",l.a.createElement("span",{className:"blue",onClick:this.scrollToSection},"in Step 2 below")," to continue using Commonlouge ",i,". You may also switch to another billing cycle below if you like.")]:[l.a.createElement("div",{className:"label extra-large with-margin dark-gray"},"Add more time to your ",i," membership ",l.a.createElement("span",{className:"blue",onClick:this.scrollToSection},"in Step 2 below"),"! You may also switch to another billing cycle below if you like.")]:y?[l.a.createElement("div",{className:"label extra-large with-margin dark-gray error-box"},"Please select from one of the ",l.a.createElement("span",{className:"blue",onClick:this.scrollToSection},"payment options in Step 2")," to reinstate your membership privileges. You may also switch to another billing cycle below if you like.")]:E?[l.a.createElement("div",{className:"label extra-large with-margin dark-gray error-box"},"Please select from one of the ",l.a.createElement("span",{className:"blue",onClick:this.scrollToSection},"payment options in Step 2")," to reinstate your membership privileges. You may also switch to another billing cycle below if you like."),X]:[l.a.createElement("div",{className:"label extra-large with-margin dark-gray"},"You can update your payment method using the options in ",l.a.createElement("span",{className:"blue",onClick:this.scrollToSection},"Step 2 below"),". You may also switch to another billing cycle below if you like.")]:f&&"month"==this.state.selectedBillingFrequency?ee.push(l.a.createElement("div",{className:"label extra-large with-margin dark-gray"},"Switch to the monthly plan by ",l.a.createElement("span",{className:"blue",onClick:this.scrollToSection},"choosing a payment method below"),". ",s?l.a.createElement("span",null,"You will only be charged at your next billing date ",l.a.createElement("span",{className:"label large"},"(",n.i(I.b)(s),")"),"."):null)):h&&"year"==this.state.selectedBillingFrequency?ee.push(l.a.createElement("div",{className:"label extra-large with-margin dark-gray"},"Switch to the yearly plan by ",l.a.createElement("span",{className:"blue",onClick:this.scrollToSection},"choosing a payment method below"),". ",s?l.a.createElement("span",null,"You will only be charged at your next billing date ",l.a.createElement("span",{className:"label large"},"(",n.i(I.b)(s),")"),"."):null)):ee.push(l.a.createElement("div",{className:"label extra-large with-margin dark-gray"},"You can ",q?"buy access to CommonLounge "+i+" for the future. "+(o?"Your current recurring subscription will be cancelled at the end of the current billing period.":""):"switch to the "+this.state.selectedBillingFrequency+"ly plan. At the end of your current billing period, your new "+this.state.selectedBillingFrequency+"ly subscription will start.")),M||(ee=[]);var te=this.props.createEmailUserRequestStatus&&"success"==this.props.createEmailUserRequestStatus.status&&this.props.createEmailUserLocation&&-1!=this.props.createEmailUserLocation.indexOf("/payment"),ne=this.props.currentLoggedInUser||te;return l.a.createElement("div",{className:"landing payment-page"},l.a.createElement(g.a,{isModalOpen:this.state.isSignInSignUpModalOpen,onRequestClose:function(){return e.setState({isSignInSignUpModalOpen:!1})},postSignInSignUpTo:location.pathname}),l.a.createElement("div",{className:"landing-topbar visible"},l.a.createElement("div",{className:"left"},l.a.createElement(u.Link,{to:"/",className:"no-decoration"},l.a.createElement("div",{className:"landing-logo zoom-on-hover"},p))),l.a.createElement("div",{className:"right"},l.a.createElement(u.Link,{to:"/",className:"link zoom-on-hover"},"Home"),l.a.createElement(u.Link,{to:"/about",className:"link zoom-on-hover"},"About"),l.a.createElement(u.Link,{to:"/upgrade",className:"link zoom-on-hover"},"Pricing"),this.props.currentLoggedInUser?l.a.createElement(u.Link,{to:"/profile",className:"avatar profile"},l.a.createElement(O.a,{className:"avatar-image",size:"30",name:t.get("displayName"),src:t.get("avatarUrl")})):l.a.createElement("div",{className:"action-button large cta-button zoom-on-hover",onClick:function(){return e.scrollToSection(null,"step-reg","step-reg")}},"Get Started"))),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"hero-section "},l.a.createElement("div",{className:"heading"},"Enroll in Pro")),"success"==N?l.a.createElement("div",{className:"success-message"},l.a.createElement("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},l.a.createElement("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),l.a.createElement("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})),m&&this.state.initialBillingFrequency==M?l.a.createElement("div",{className:"copy"},"You have successfully updated your payment information."):l.a.createElement("div",{className:"copy"},"You are subscribed to CommonLounge Pro! ",l.a.createElement(u.Link,{to:"/home"},"Go Home")," to explore all the offerings.")):l.a.createElement("div",{className:"payment-options",id:"options"},H,l.a.createElement("div",{className:"step",id:"step-1",ref:"step-1"},l.a.createElement("div",{className:"index"},"1"),l.a.createElement("div",{className:"copy"},"Choose your billing cycle")),ee,l.a.createElement(x.Element,{name:"billing-cycle"},l.a.createElement("div",{className:"billing-cycle"},Q)),q?l.a.createElement("div",{className:"manual-payment"},_.payuFrequencyOptions):null,l.a.createElement("div",{className:"reverse-split-section-on-desktop"},l.a.createElement("div",{className:"right"},l.a.createElement("div",{id:"order-summary",ref:"order-summary"},$,J)),l.a.createElement("div",{className:"left"},(!this.props.currentLoggedInUser||te)&&[l.a.createElement("div",{className:"step",id:"step-reg",ref:"step-reg"},l.a.createElement("div",{className:"index"},"2"),l.a.createElement("div",{className:"copy"},"Enter your details"))],this.props.currentLoggedInUser?null:l.a.createElement("div",null,l.a.createElement("div",{className:"label large dark-gray padding-left-50"},"Your email will be used for creating an account â€” this process will take just 15 seconds."),l.a.createElement("div",{className:"label large dark-gray padding-left-50"},"You can also ",l.a.createElement("a",{className:"no-decoration blue",onClick:this.onSignInClick},"sign in")," below if you already have an account."),l.a.createElement("div",{id:"sign-up",ref:"sign-up"},l.a.createElement(b.a,A({},this.state.authArgs,{to:location.pathname,preventAutoFocus:!0,hideHeading:!0})))),te&&[l.a.createElement("div",{className:"label dark-gray large padding-left-50"},"Your account has been created ðŸŽ‰"),l.a.createElement("div",{className:"label dark-gray large padding-left-50"},"Please choose your payment method in step 3 below.")],ne&&l.a.createElement("div",{className:"step",id:"step-2",ref:"step-2"},l.a.createElement("div",{className:"index"},this.props.currentLoggedInUser&&!te?"2":"3"),l.a.createElement("div",{className:"copy"},q?t&&t.get("hasPhoneNumber")?"Enter your payment information":"Enter your mobile number":"Select your payment method",!q||t&&t.get("hasPhoneNumber")?l.a.createElement("span",{className:"secure-payment"},"Secure Payment"):null)),ne&&l.a.createElement("div",{className:"label with-margin centered-text"},"Payments are fully processed by Stripe, PayPal or PayU.",l.a.createElement("br",null),"We never receive or store your card details."),!N&&ne?l.a.createElement(j.a,{transitionName:"post",transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"payment-options-section"},_.paymentOptions)):null,"requesting"==N||this.state.redirectingToPayU?l.a.createElement("div",{className:"loader-div"},l.a.createElement(d.a,null),l.a.createElement("div",{className:"loading-text"},this.state.redirectingToPayU?"Taking you to PayU India payment portalâ€¦":m?"Updating your payment informationâ€¦":"Subscribing you to your planâ€¦")):null,"error"==N?l.a.createElement(x.Element,{name:"error"},l.a.createElement("div",{ref:"error"},l.a.createElement("span",{className:"label large with-margin dark-gray error-box inline-block"},"The following error occurred while processing your request: ",l.a.createElement("strong",null,C)," Please ",q?"click the button below to choose another option in the payment portal":"try one of the other payment methods below"," or contact us at hello@commonlounge.com."),X,_.paymentOptions,P)):null,N?null:l.a.createElement("div",null,!q&&P))),_.faq)))}}]),t}(l.a.PureComponent),z=n.i(c.connect)(r,{updatePlan:p.T,getPaypalToken:p.U,fetchPixelInformation:p.a,validateDiscountCoupon:p.V,fetchUserMetadata:p.l,setStateAtPath:p.p})(n.i(B.a)(n.i(u.withRouter)(Y)))},887:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{currentUser:e.get("currentLoggedInUser"),users:e.get("users"),visitedPaths:e.get("visitedPaths")}}n.d(t,"a",function(){return k});var s=n(1),l=n.n(s),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(59)),d=n.n(p),m=n(134),f=n(133),h=(n(323),n(897)),y=n(889),g=n(827),b=n(17),v=n(38),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),w=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isSignInSignUpModalOpen:!1,isProfileOptionsModalOpen:!1,isNotificationsModalOpen:!1,isMobile:b.h},n.onProfileIconClick=n.onProfileIconClick.bind(n),n.routerGoBack=n.routerGoBack.bind(n),n.onLogout=n.onLogout.bind(n),n.onGoProClick=n.onGoProClick.bind(n),n}return i(t,e),E(t,[{key:"onGoProClick",value:function(){this.props.fetchPixelInformation("click.top_nav_bar_go_pro")}},{key:"routerGoBack",value:function(){this.props.visitedPaths.size>1?this.props.router.goBack():u.browserHistory.push("/")}},{key:"onProfileIconClick",value:function(e){e.stopPropagation(),e.preventDefault(),this.setState({isProfileOptionsModalOpen:!this.state.isProfileOptionsModalOpen})}},{key:"onLogout",value:function(e){this.setState({loggingOut:!0})}},{key:"render",value:function(){var e=this,t=this.props.isNav?"":" desktop-only",n=this.props.classModifier||"",a=this.props.users.getIn([this.props.currentUser]),o=a&&"active"==a.getIn(["plan","status"])?a.getIn(["plan","type"]):null,i=this.props.users.getIn([this.props.currentUser,"unreadNotificationsCount"],0),r=this.props.users.getIn([this.props.currentUser,"unreadThreadCount"],0),s=this.state.isMobile?"":o?l.a.createElement("span",null,"CommonLounge",l.a.createElement("span",{className:"pro-label"},o)):"CommonLounge",c="avatar-image";return this.state.isMobile?r>0?c+=" flair medium message-icon":i>0&&(c+=" flair medium notification-icon"):r>0&&(c+=" flair medium message-icon"),l.a.createElement("div",{className:"topbar"+n},l.a.createElement("div",{className:"topbar-content"},l.a.createElement(d.a,{isOpen:this.state.isProfileOptionsModalOpen,onRequestClose:function(){return e.setState({isProfileOptionsModalOpen:!1})},overlayClassName:"modal-overlay profile-options-modal-overlay",className:"modal-content profile-options-modal-content"},l.a.createElement(y.a,{hideFollowButton:!0,userId:this.props.currentUser,shouldLinkToUser:!0,byline:o?"Pro Member":"View Profile"}),l.a.createElement(u.Link,{to:"/profile/subscriptions"},l.a.createElement("button",{className:"button profile-option-button"},"Enrollments")),l.a.createElement(u.Link,{to:"/profile/bookmarks"},l.a.createElement("button",{className:"button profile-option-button with-border-bottom"},"Bookmarks")),this.state.isMobile?l.a.createElement(u.Link,{to:"/notifications"},l.a.createElement("button",{className:"button profile-option-button"},"Notifications",i>0?l.a.createElement("span",{className:"red"}," (",i,")"):null)):null,l.a.createElement(u.Link,{to:"/inbox"},l.a.createElement("button",{className:"button profile-option-button with-border-bottom"},"Inbox",r>0?l.a.createElement("span",{className:"red"}," (",r,")"):null)),l.a.createElement(u.Link,{to:"/contribute"},l.a.createElement("button",{className:"button profile-option-button"},"How to contribute")),l.a.createElement(u.Link,{to:"/discussion/new?type=playlist"},l.a.createElement("button",{className:"button profile-option-button"},"Create a course")),l.a.createElement(u.Link,{to:"/discussion/new?type=wiki"},l.a.createElement("button",{className:"button profile-option-button with-border-bottom"},"Write a tutorial")),l.a.createElement(u.Link,{to:"/profile"},l.a.createElement("button",{className:"button profile-option-button"},"Profile")),l.a.createElement(u.Link,{to:"/profile/settings"},l.a.createElement("button",{className:"button profile-option-button"},"Settings")),l.a.createElement(u.Link,{to:"/referral"},l.a.createElement("button",{className:"button profile-option-button"},"Get a free month ðŸŽ")),l.a.createElement("a",{href:"/logout/",onClick:this.onLogout},l.a.createElement("button",{className:"button profile-option-button"},"Logout"))),l.a.createElement(d.a,{isOpen:this.state.isNotificationsModalOpen,onRequestClose:function(){return e.setState({isNotificationsModalOpen:!1})},overlayClassName:"modal-overlay notifications-modal-overlay",className:"modal-content notifications-modal-content"},l.a.createElement(g.NotificationsContainer,{isPage:!1})),l.a.createElement(d.a,{isOpen:this.state.loggingOut,overlayClassName:"modal-overlay",className:"modal-content"},l.a.createElement(m.a,{customText:"Logging you outâ€¦"})),this.props.shomHome?l.a.createElement("div",{className:"left"},l.a.createElement(u.Link,{to:"/",className:"home no-decoration",activeClassName:"active",title:"Home"},s),this.props.children):null,this.props.noBack?null:l.a.createElement("div",{className:"left"},l.a.createElement("span",{className:"back-icon",onClick:this.props.routerGoBack?this.routerGoBack:this.props.goBack,title:"Back"}),l.a.createElement(u.Link,{to:"/",className:"home desktop-only no-decoration",activeClassName:"active",title:"Home"},s),this.props.children),this.props.isNav?l.a.createElement("div",{className:"left"},l.a.createElement(u.Link,{to:"/",className:"home no-decoration",activeClassName:"active",title:"Home"},s),this.props.children):null,this.props.currentUser?l.a.createElement("div",{className:"shifted-right"},l.a.createElement(u.Link,{to:"/search",className:"search",activeClassName:"active",title:"Search for people, communities, topics, discussions or replies"}),l.a.createElement(u.Link,{to:"/about",className:"thin-button no-decoration"},"About"),l.a.createElement(u.Link,{to:"/upgrade",className:o?"thin-button no-decoration":"thin-button no-decoration never-hide",onClick:this.onGoProClick},"Pricing"),this.props.infoUrl?l.a.createElement(u.Link,{to:this.props.infoUrl,className:"info",title:"Community Info"}):null,this.props.addUrl?l.a.createElement(u.Link,{to:this.props.addUrl,className:"add",title:"Start a new community"}):null,l.a.createElement("a",{className:this.props.currentUser&&i>0?"notifications unread"+t:"notifications"+t,activeClassName:"active",onClick:function(){e.setState({isNotificationsModalOpen:!0})}}),l.a.createElement("a",{className:this.props.currentUser?"avatar profile":"profile",onClick:this.onProfileIconClick},this.props.currentUser?l.a.createElement(f.a,{className:c,size:"25",name:this.props.users.get(this.props.currentUser).get("displayName"),src:this.props.users.get(this.props.currentUser).get("avatarUrl")}):null),this.props.onToggleSidebar?this.props.isRightSidebarOpen?l.a.createElement("div",{className:"close"}):l.a.createElement("div",{className:"hamburger",onClick:this.props.onToggleSidebar}):null):this.props.isNav||this.props.showSignUpInfoIfLoggedOut?l.a.createElement("div",{className:"shifted-right"},l.a.createElement(u.Link,{to:"/search",className:"search",activeClassName:"active",title:"Search for people, communities, topics, discussions or replies"}),l.a.createElement(u.Link,{to:"/about",className:"thin-button no-decoration"},"About"),l.a.createElement(u.Link,{to:"/upgrade",className:o?"thin-button no-decoration":"thin-button no-decoration never-hide",onClick:this.onGoProClick},"Pricing"),l.a.createElement("button",{className:"sign-up zoom-on-hover zoom-to-normal",onClick:function(){return e.setState({isSignInSignUpModalOpen:!0})}},"Get Started"),l.a.createElement(h.a,{postSignInSignUpTo:this.props.postSignInSignUpTo,isModalOpen:this.state.isSignInSignUpModalOpen,onRequestClose:function(){return e.setState({isSignInSignUpModalOpen:!1})}}),l.a.createElement(u.Link,{to:"/search/communities",className:this.props.forceShowCommunities?"explore":"explore{modifierString}",activeClassName:"active",checkAuthOn:"click",title:"Explore"}),this.props.onToggleSidebar?this.props.isRightSidebarOpen?l.a.createElement("div",{className:"close"}):l.a.createElement("div",{className:"hamburger",onClick:this.props.onToggleSidebar}):null):null))}}]),t}(l.a.PureComponent),k=n.i(c.connect)(r,{fetchPixelInformation:v.a})(n.i(u.withRouter)(w))},888:function(e,t,n){"use strict";function a(e){var t=new Date(e),n=(t.getDate(),t.getMonth(),t.getFullYear(),Math.round((Date.now()-t)/6048e5));return n>51?Math.round(n/52)+"y":n+"w"}function o(e){var t=Math.floor(e/3600),n=Math.floor(e/60%60),a=e%60,o="";return t>0&&(o+=t+" "+l()("hour",t)+" "),n>0&&(o+=n+" "+l()("minute",n)+" "),a>0&&(o+=a+" "+l()("second",a)),o}function i(e){var t=new Date,n=new Date(e),a=null;if(a=t-n>6048e5?{type:"full",format:{day:"2-digit",month:"2-digit",year:"2-digit"}}:t-n>864e5?{type:"mid",format:{weekday:"short"}}:{type:"short",format:{hour:"2-digit",minute:"2-digit"}},c[a.type][e])return c[a.type][e];var o=n.toLocaleString([],a.format);return c[a.type][e]=o,o}function r(e){return e?(e instanceof Date||(e=new Date(e)),e.toLocaleString([],{day:"2-digit",month:"short",year:"numeric"})):null}t.d=a,t.a=o,t.c=i,t.b=r;var s=n(132),l=n.n(s),c={full:{},mid:{},short:{}}},889:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{users:e.get("users"),currentLoggedInUser:e.get("currentLoggedInUser")}}n.d(t,"a",function(){return k});var s=n(1),l=n.n(s),c=n(37),u=(n.n(c),n(133)),p=n(890),d=n(38),m=n(15),f=(n.n(m),n(323)),h=n(894),y=n.n(h),g=n(888),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return i(t,e),b(t,[{key:"onClick",value:function(){this.props.isFollowing?window.confirm("Are you sure you want to unfollow "+this.props.displayName+"?")&&this.props.onClick():this.props.onClick()}},{key:"render",value:function(){return l.a.createElement("div",{className:"action-container",onClick:this.onClick},this.props.isFollowing?l.a.createElement("button",{className:"action-button following"},"Following"):l.a.createElement("button",{className:"action-button follow"},"Follow"))}}]),t}(l.a.PureComponent),E=n.i(f.a)(v),w=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleUserFollow=n.toggleUserFollow.bind(n),n.onContentClick=n.onContentClick.bind(n),n.handleBioChange=n.handleBioChange.bind(n),n.onKeyPressForBio=n.onKeyPressForBio.bind(n),n.onDoneEditingBio=n.onDoneEditingBio.bind(n),n.state={hasCommunityBio:!(!e.communityId||!e.users.getIn([e.userId,"communitiesBio",e.communityId],!1)),hasBio:!!e.users.getIn([e.userId,"bio"],!1),byline:e.byline?e.byline:e.communityId?e.users.getIn([e.userId,"communitiesBio",e.communityId],e.users.getIn([e.userId,"bio"],"")):e.users.getIn([e.userId,"bio"],""),isEditingBio:!1},n}return i(t,e),b(t,[{key:"toggleUserFollow",value:function(){var e=this.props.userId;this.props.toggleUserFollow(e)}},{key:"onContentClick",value:function(e){this.props.shouldLinkToUser?m.browserHistory.push("/profile/"+this.props.userId):e.target.classList.contains("byline")&&this.props.isBioEditable&&this.setState({isEditingBio:!0})}},{key:"handleBioChange",value:function(e){this.setState({byline:e.target.value})}},{key:"onKeyPressForBio",value:function(e){13==(e.code||e.which)&&this.onDoneEditingBio()}},{key:"onDoneEditingBio",value:function(){this.props.communityId?this.props.editCommunityBio(this.props.communityId,this.state.byline):this.props.editProfile(this.props.currentLoggedInUser,{bio:this.state.byline},!1),this.setState({isEditingBio:!1,hasCommunityBio:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({hasCommunityBio:!(!e.communityId||!e.users.getIn([e.userId,"communitiesBio",e.communityId],!1)),hasBio:!!e.users.getIn([e.userId,"bio"],!1),byline:e.byline?e.byline:e.communityId?e.users.getIn([e.userId,"communitiesBio",e.communityId],e.users.getIn([e.userId,"bio"],"")):e.users.getIn([e.userId,"bio"],"")})}},{key:"render",value:function(){var e=this,t=this.props.users.get(this.props.userId);if(!t)return l.a.createElement("div",{className:"user-box"},l.a.createElement("div",{onClick:this.onContentClick},l.a.createElement(u.a,{className:"avatar-image",size:"30",src:y.a,name:"C L"})),l.a.createElement("div",{className:"shifted-right"},l.a.createElement("div",{className:"byline"},"Ask a question or start a pollâ€¦")));var a=this.state.byline,o="avatar-image";o+=this.props.flair?" flair "+this.props.flair:"",o+=this.props.shouldLinkToUser?" clickable":"";var i="user-box box";return i+=this.props.isCompact?" compact":"",i+=this.props.isSelected?" selected":"",l.a.createElement("div",{className:i,onClick:this.props.onClick?function(){return e.props.onClick(e.props.userId)}:null},this.props.rank?l.a.createElement("div",{className:"sidebar-label rank"},this.props.rank,"."):null,l.a.createElement("div",{onClick:this.onContentClick},l.a.createElement(u.a,{className:o,size:"30",name:t.get("displayName"),src:t.get("avatarUrl")})),l.a.createElement("div",{className:this.props.shouldLinkToUser?"shifted-right clickable":"shifted-right"},this.props.hideName?null:l.a.createElement("span",{className:"name",onClick:this.onContentClick},t.get("displayName")),this.props.timeAgoByline?l.a.createElement("span",{className:"byline",onClick:this.onContentClick},l.a.createElement(p.a,{date:this.props.timeAgoByline})):null,!a&&!this.props.isBioEditable||this.props.hideByline||this.props.timeAgoByline?null:this.state.isEditingBio?l.a.createElement("div",{style:{lineHeight:0}},l.a.createElement("input",{type:"text",maxLength:"60",className:"bio-input",autoFocus:"autofocus",placeholder:"Help others understand your experience with this topic",value:this.state.byline,onChange:this.handleBioChange,onKeyPress:this.onKeyPressForBio}),l.a.createElement("span",{className:"thin-button",onClick:this.onDoneEditingBio},"Done")):l.a.createElement("span",{className:"byline",onClick:this.onContentClick},a,this.props.isBioEditable?this.props.communityId?this.state.hasCommunityBio?l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," (Edit) "):l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," Set Community Bio "):this.state.hasBio?l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," (Edit) "):l.a.createElement("span",{className:"thin-button",onClick:function(){return e.setState({isEditingBio:!0})}}," Set Bio "):null),this.props.acceptIgnoreButtons?l.a.createElement("div",{className:"accept-ignore-buttons"},l.a.createElement("button",{className:"action-button accept",onClick:function(){return e.props.acceptUser(e.props.userId)}},"Accept"),l.a.createElement("button",{className:"action-button ignore",onClick:function(){return e.props.ignoreUser(e.props.userId)}},"Ignore")):null,this.props.undoAcceptButton?l.a.createElement("div",{className:"accept-ignore-buttons"},l.a.createElement("button",{className:"action-button accept",onClick:function(){return e.props.undoAcceptUser(e.props.userId)}},"Accepted")):null,this.props.undoIgnoreButton?l.a.createElement("div",{className:"accept-ignore-buttons"},l.a.createElement("button",{className:"action-button ignore",onClick:function(){return e.props.undoIgnoreUser(e.props.userId)}},"Ignored")):null),void 0!=this.props.score?l.a.createElement("div",{className:"label score"},this.props.score):null,void 0!=this.props.timestamp?l.a.createElement("div",{className:"label timestamp"},n.i(g.c)(this.props.timestamp)):null,this.props.isUnread?l.a.createElement("div",{className:"unread-dot"}):l.a.createElement("div",{className:"unread-dot read"}),this.props.addButton?l.a.createElement("div",{className:"action-container"},l.a.createElement("button",{className:"action-button add",onClick:function(){return e.props.addUser(e.props.userId)}},"Add")):this.props.removeButton&&this.props.userId!=this.props.currentLoggedInUser?l.a.createElement("div",{className:"action-container"},l.a.createElement("button",{className:"action-button remove",onClick:function(){return e.props.removeUser(e.props.userId)}},"Remove")):this.props.userId==this.props.currentLoggedInUser||this.props.hideFollowButton?null:l.a.createElement(E,{onClick:this.toggleUserFollow,allowLurker:!0,displayName:t.get("displayName"),isFollowing:t.get("isFollowing")}))}}]),t}(l.a.PureComponent),k=n.i(c.connect)(r,{toggleUserFollow:d.m,editCommunityBio:d.y,editProfile:d.h})(n.i(m.withRouter)(w))},890:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(1),s=n.n(r),l=n(891),c=n.n(l),u=n(888),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){var e=this.props.date,t=n.i(u.d)(e);return Date.now()-new Date(e)<6048e5?s.a.createElement(c.a,{date:e}):s.a.createElement("span",null,t)}}]),t}(s.a.PureComponent);t.a=d},891:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR=t.MONTH=t.WEEK=t.DAY=t.HOUR=t.MINUTE=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=n(1),d=a(p),m=n(903),f=a(m),h=n(902),y=a(h),g=t.MINUTE=60,b=t.HOUR=60*g,v=t.DAY=24*b,E=t.WEEK=7*v,w=t.MONTH=30*v,k=t.YEAR=365*v,N=function(e){function t(){var e,n,a,o;i(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.isStillMounted=!1,a.tick=function(e){if(a.isStillMounted&&a.props.live){var t=(0,y.default)(a.props.date).valueOf();if(!t)return void console.warn("[react-timeago] Invalid Date provided");var n=a.props.now(),o=Math.round(Math.abs(n-t)/1e3),i=o<g?1e3:o<b?1e3*g:o<v?1e3*b:0,r=Math.min(Math.max(i,1e3*a.props.minPeriod),1e3*a.props.maxPeriod);r&&(a.timeoutId=setTimeout(a.tick,r)),e||a.forceUpdate()}},o=n,r(a,o)}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.isStillMounted=!0,this.props.live&&this.tick(!0)}},{key:"componentDidUpdate",value:function(e){this.props.live===e.live&&this.props.date===e.date||(!this.props.live&&this.timeoutId&&clearTimeout(this.timeoutId),this.tick())}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1,this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}},{key:"render",value:function(){var e=this.props,t=e.date,n=(e.formatter,e.component),a=(e.live,e.minPeriod,e.maxPeriod,e.title),i=e.now,r=o(e,["date","formatter","component","live","minPeriod","maxPeriod","title","now"]),s=(0,y.default)(t).valueOf();if(!s)return null;var u=i(),p=Math.round(Math.abs(u-s)/1e3),m=s<u?"ago":"from now",h=p<g?[Math.round(p),"second"]:p<b?[Math.round(p/g),"minute"]:p<v?[Math.round(p/b),"hour"]:p<E?[Math.round(p/v),"day"]:p<w?[Math.round(p/E),"week"]:p<k?[Math.round(p/w),"month"]:[Math.round(p/k),"year"],N=c(h,2),C=N[0],P=N[1],I=void 0===a?"string"==typeof t?t:(0,y.default)(t).toISOString().substr(0,16).replace("T"," "):a;"time"===n&&(r.dateTime=(0,y.default)(t).toISOString());var S=f.default.bind(null,C,P,m);return d.default.createElement(n,l({},r,{title:I}),this.props.formatter(C,P,m,s,S))}}]),t}(p.Component);N.displayName="TimeAgo",N.defaultProps={live:!0,component:"time",minPeriod:0,maxPeriod:1/0,formatter:f.default,now:function(){return Date.now()}},t.default=N},894:function(e,t,n){e.exports=n.p+"b38594fdb244e14f9de09f673844f2f7.png"},897:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(1),s=n.n(r),l=n(59),c=n.n(l),u=n(136),p=n(17),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){void 0!=e.isModalOpen&&p.a&&(e.isModalOpen?document.getElementById("app").style.display="none":document.getElementById("app").style.display="")}},{key:"componentWillUnmount",value:function(){p.a&&(document.getElementById("app").style.display="")}},{key:"render",value:function(){return s.a.createElement(c.a,{isOpen:this.props.isModalOpen,onRequestClose:this.props.onRequestClose,className:"modal-content signup-modal-hack",overlayClassName:"modal-overlay"},s.a.createElement("div",{className:"close-button",onClick:this.props.onRequestClose}),this.props.actionBlockedMessage?s.a.createElement("div",{className:"sign-in-message"},"You need to be signed in to complete this action"):null,s.a.createElement(u.a,{to:this.props.postSignInSignUpTo,onComplete:this.props.onRequestClose,isModal:!0}))}}]),t}(s.a.PureComponent);t.a=m},899:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(944),c=n(31),u=a(c),p=n(1),d=a(p),m=n(948),f=a(m),h=n(904),y=a(h),g=n(949),b=(a(g),n(950)),v=a(b),E=n(951),w=a(E),k=n(953),N=a(k),C=n(956),P=a(C),I={topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},S=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refElement=function(e){return n._ref=e},n}return r(t,e),s(t,[{key:"componentWillMount",value:function(){if((0,v.default)(this.props.children),this.props.scrollableParent)throw new Error("The `scrollableParent` prop has changed name to `scrollableAncestor`.")}},{key:"componentDidMount",value:function(){var e=this;t.getWindow()&&(this.cancelInitialTimeout=(0,N.default)(function(){e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=(0,l.addEventListener)(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=(0,l.addEventListener)(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)}))}},{key:"componentWillReceiveProps",value:function(e){(0,v.default)(e.children)}},{key:"componentDidUpdate",value:function(){t.getWindow()&&this.scrollableAncestor&&this._handleScroll(null)}},{key:"componentWillUnmount",value:function(){t.getWindow()&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelInitialTimeout&&this.cancelInitialTimeout())}},{key:"_findScrollableAncestor",value:function(){var e=this.props,t=e.horizontal,n=e.scrollableAncestor;if(n)return(0,P.default)(n);for(var a=this._ref;a.parentNode;){if((a=a.parentNode)===document.body)return window;var o=window.getComputedStyle(a),i=t?o.getPropertyValue("overflow-x"):o.getPropertyValue("overflow-y"),r=i||o.getPropertyValue("overflow");if("auto"===r||"scroll"===r)return a}return window}},{key:"_handleScroll",value:function(e){if(this._ref){var t=this._getBounds(),n=(0,w.default)(t),a=this._previousPosition;if(this._previousPosition=n,a!==n){var o={currentPosition:n,previousPosition:a,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};this.props.onPositionChange.call(this,o),n===y.default.inside?this.props.onEnter.call(this,o):a===y.default.inside&&this.props.onLeave.call(this,o);var i=a===y.default.below&&n===y.default.above,r=a===y.default.above&&n===y.default.below;this.props.fireOnRapidScroll&&(i||r)&&(this.props.onEnter.call(this,{currentPosition:y.default.inside,previousPosition:a,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),this.props.onLeave.call(this,{currentPosition:n,previousPosition:y.default.inside,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}}},{key:"_getBounds",value:function(){var e=this.props.horizontal,t=this._ref.getBoundingClientRect(),n=t.left,a=t.top,o=t.right,i=t.bottom,r=e?n:a,s=e?o:i,l=void 0,c=void 0;this.scrollableAncestor===window?(l=e?window.innerWidth:window.innerHeight,c=0):(l=e?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,c=e?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var u=this.props,p=u.bottomOffset,d=u.topOffset;return{waypointTop:r,waypointBottom:s,viewportTop:c+(0,f.default)(d,l),viewportBottom:c+l-(0,f.default)(p,l)}}},{key:"render",value:function(){var e=this,t=this.props.children;if(!t)return d.default.createElement("span",{ref:this.refElement,style:{fontSize:0}});var n=function(n){e.refElement(n),t.ref&&t.ref(n)};return d.default.cloneElement(t,{ref:n})}}]),t}(d.default.Component);t.default=S,S.propTypes={children:u.default.element,debug:u.default.bool,onEnter:u.default.func,onLeave:u.default.func,onPositionChange:u.default.func,fireOnRapidScroll:u.default.bool,scrollableAncestor:u.default.any,horizontal:u.default.bool,topOffset:u.default.oneOfType([u.default.string,u.default.number]),bottomOffset:u.default.oneOfType([u.default.string,u.default.number])},S.above=y.default.above,S.below=y.default.below,S.inside=y.default.inside,S.invisible=y.default.invisible,S.getWindow=function(){if("undefined"!=typeof window)return window},S.defaultProps=I,S.displayName="Waypoint",e.exports=t.default},901:function(e,t,n){e.exports=n.p+"d106b1f59ca10ab9ae13c149249d2e6d.png"},902:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return Array.isArray(e)?e:Array.from(e)}function i(e){var t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;var n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;var i=n.map(function(e){return parseInt(e)}),r=o(i),s=r[0],l=r[1],c=r.slice(2),u=[s,l-1].concat(a(c));return new Date(Date.UTC.apply(Date,a(u)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},903:function(e,t,n){"use strict";function a(e,t,n){return 1!==e&&(t+="s"),e+" "+t+" "+n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={above:"above",inside:"inside",below:"below",invisible:"invisible"},e.exports=t.default},906:function(e,t,n){"use strict";function a(e,t){var n=document.createElement("script");if(n.type="text/javascript",n.src=e.url,e.defer?(n.defer=1,n.async=0):n.async=1,t&&(n.onreadystatechange=t,n.onload=t),e.attrs){var a=!0,o=!1,i=void 0;try{for(var r,s=e.attrs[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var l=r.value;n.setAttribute(l.name,l.value||"")}}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}}document.body.appendChild(n)}function o(e,t){var n=0,o=function(){++n>=e.length&&s(t)()},i=!0,r=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){a(c.value,o)}}catch(e){r=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(r)throw l}}}function i(){return window.paypal&&window.braintree&&window.braintree.paypalCheckout}function r(e,t){if(t){var n=!1,a=!0,o=!1,i=void 0;try{for(var r,s=b[e].cbs[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){if(r.value==t){n=!0;break}}}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}n||b[e].cbs.push(t)}}function s(e){return function(){!b[e].firstLoadSetupCompleted&&b[e].firstLoadSetup&&(b[e].firstLoadSetup(),b[e].firstLoadSetupCompleted=!0);var t=!0,a=!1,o=void 0;try{for(var i,r=b[e].cbs[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){(0,i.value)()}}catch(e){a=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(a)throw o}}b[e].cbs=[],b[e].isLoading=!1,b[e].hasLoaded=!0,h.a.dispatch(n.i(y.p)(["loadedScripts"],n.i(g.fromJS)(b)))}}function l(e){if(i())e&&e();else{var t=[{url:"https://www.paypalobjects.com/api/checkout.min.js",attrs:[{name:"data-version-4"}]},{url:"https://js.braintreegateway.com/web/3.32.0/js/client.min.js"},{url:"https://js.braintreegateway.com/web/3.32.0/js/paypal-checkout.min.js"}];if(e&&r("paypal",e),b.paypal.isLoading)return;b.paypal.isLoading=!0,o(t,"paypal")}}function c(e,t){if(t&&(b.stripe.tokenHandler=t),window.StripeCheckout)e&&e();else{if(e&&r("stripe",e),b.stripe.isLoading)return;b.stripe.isLoading=!0,b.stripe.firstLoadSetup=function(){window.stripeHandler=window.StripeCheckout.configure({key:f.d?"pk_live_HsiK0UoGAZj5FH3KYfE9X6cI":"pk_test_NQo2ZlWpgINif2edJlIZlmvG",image:"https://static.commonlounge.com/icon_small.png",name:"Compose Labs, Inc.",locale:"auto",zipCode:!0,token:function(e){b.stripe.tokenHandler&&b.stripe.tokenHandler(e)}})},a({url:"https://checkout.stripe.com/checkout.js"},s("stripe"))}}function u(e,t){p(e,{namespace:"ace",urls:[{url:"https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js",defer:!0}]})}function p(e,t){var n=t.namespace;if(b[n]&&b[n].hasLoaded)e&&e();else{if(b[n]||(b[n]={isLoading:!1,cbs:[]}),e&&r(n,e),b[n]&&b[n].isLoading)return;b[n].isLoading=!0,o(t.urls,n)}}function d(){c(),l()}function m(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.insertBefore(t,document.head.childNodes[document.head.childNodes.length-1].nextSibling)}t.e=i,t.f=l,t.g=c,t.b=u,t.a=p,t.d=d,t.c=m;var f=n(17),h=n(137),y=n(38),g=n(39),b=(n.n(g),{stripe:{isLoading:!1,cbs:[],firstLoadSetup:null,firstLoadSetupCompleted:!1,tokenHandler:null},paypal:{isLoading:!1,cbs:[]},sphereEngine:{isLoading:!1,cbs:[]}})},907:function(e,t,n){"use strict";function a(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:(e-=1,-n/2*(e*(e-2)-1)+t)}function o(){document.body.scrollTop=document.documentElement.scrollTop=0}n.d(t,"b",function(){return s}),t.a=o;var i=n(32),r=function(e,t,n){var o=e.scrollTop,i=t-o;!function t(r){r+=20;var s=a(r,o,i,n);e.scrollTop=s,r<n&&setTimeout(function(){t(r)},20)}(0)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;"scrollBehavior"in document.documentElement.style&&!n.i(i.g)()?window.scroll({top:e,left:0,behavior:"smooth"}):r(document.scrollingElement,e,t)}},914:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{users:e.get("users")}}n.d(t,"a",function(){return b});var s=n(1),l=n.n(s),c=n(15),u=(n.n(c),n(37)),p=(n.n(u),n(39)),d=(n.n(p),n(136)),m=n(133),f=n(907),h=n(32),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(e){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),y(t,[{key:"componentDidMount",value:function(){this.documentHasVerticalScrollBar=n.i(h.l)()}},{key:"render",value:function(){var e=this;n.i(p.fromJS)(this.props.users.keySeq().toArray()).filter(function(t){return e.props.users.getIn([t,"avatarUrl"])}).slice(0,6).map(function(t,n){return l.a.createElement(m.a,{className:"avatar-image",size:"30",name:e.props.users.get(t).get("displayName"),src:e.props.users.get(t).get("avatarUrl"),key:n})});return l.a.createElement("div",{className:this.props.isVeryWide?"footer-wrapper very-wide":this.props.isWide?"footer-wrapper wide":"footer-wrapper",style:{backgroundColor:this.props.whiteBg?"white":"transparent"}},this.props.currentLoggedInUser||this.props.hideSignupForm?null:l.a.createElement("div",{className:"footer-sign-up-form"},l.a.createElement(d.a,{isSignUp:!0,to:this.props.to,entityId:this.props.entityId,action:this.props.action,preventAutoFocus:!0})),this.documentHasVerticalScrollBar?l.a.createElement("div",{className:"scroll-to-top-wrapper"},l.a.createElement("div",{className:"scroll-to-top zoom-on-hover zoom-to-normal",onClick:function(){return n.i(f.b)(0,200)}},l.a.createElement("span",{className:"back-text"},"Back to top"))):null,l.a.createElement("div",{className:"footer"},l.a.createElement("div",{className:"sections"},l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"title"},"Popular Paths & Courses"),l.a.createElement("div",{className:"column"},l.a.createElement(c.Link,{to:"/discussion/35ccdb70826e434a876d612504297232"},"Machine Learning"),l.a.createElement(c.Link,{to:"/path/518e031b16c2483c995bb66587298dd4"},"Deep Learning"),l.a.createElement(c.Link,{to:"/path/8b524fb782f741a3a1c1a8493b873791"},"Natural Language Processing"),l.a.createElement(c.Link,{to:"/discussion/262fae2394504efa88215ca7c388eb4e"},"Big Data"),l.a.createElement(c.Link,{to:"/path/be59f08e4adc4640aa1a84b08cc7e8a1"},"Data Science"),l.a.createElement(c.Link,{to:"/discussion/8ecde661012f477dbbaf74084d959974"},"Bioinformatics"),l.a.createElement(c.Link,{to:"/discussion/d4a14f601eb44281b6c579e73d126cca"},"Algorithms"),l.a.createElement(c.Link,{to:"/discussion/4d18c0617215411d85db0cba0b96dc09"},"Cryptography"))),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"title blank"},"New Paths & Courses"),l.a.createElement("div",{className:"column"},l.a.createElement(c.Link,{to:"/path/1f88878c337a43d799322d0cc1444bda"},"Web Development"),l.a.createElement(c.Link,{to:"/path/bdc9fa8ceb064c89b1914c98ac81250f"},"UX & UI Design"),l.a.createElement(c.Link,{to:"/discussion/88c4daa8d7174371b1745a4e55382d61"},"Startups"),l.a.createElement(c.Link,{to:"/discussion/1013c511951f4c47a803c32c4e1ae0f2"},"Product Management"),l.a.createElement(c.Link,{to:"/path/be6e1e2809524098aaf4dc639b1b8bd9"},"Cryptocurrencies"),l.a.createElement(c.Link,{to:"/discussion/56e4a1dca24a4d459856ea9739cbd48a"},"Finance"),l.a.createElement(c.Link,{to:"/discussion/ef5b74cab54a4247a9b56d92438d8cc9"},"College Admissions"))),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"title"},"About Us"),l.a.createElement("div",{className:"column"},l.a.createElement(c.Link,{to:"/about"},"Our Mission"),l.a.createElement(c.Link,{to:"/contribute"},"How to Contribute"),l.a.createElement(c.Link,{to:"/upgrade"},"Upgrade to Pro"),l.a.createElement(c.Link,{to:"/referral"},"Get a Free Month"),l.a.createElement(c.Link,{to:"/community/ab1745cabb1440b79d1cc710a33a3bda/8a977abe99e84cd59e68f80f477a811e"},"Help and FAQ"),l.a.createElement(c.Link,{to:"/community/ab1745cabb1440b79d1cc710a33a3bda"},"CommonLounge Meta"),l.a.createElement("a",{target:"_blank",href:"http://composelabs.com/"},"Team"),l.a.createElement(c.Link,{to:"/privacy"},"Privacy, Terms & Refunds"))),l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"title"},"Get in touch"),l.a.createElement("div",{className:"column"},l.a.createElement("a",{href:"mailto:hello@commonlounge.com"},"hello@commonlounge.com"),l.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/commonlounge"},"Facebook"),l.a.createElement("a",{target:"_blank",href:"https://twitter.com/commonlounge"},"Twitter"),l.a.createElement("span",{className:"contact-info"},"San Francisco, CA, USA"),l.a.createElement("span",{className:"contact-info"},"+1 844 318 7406")))),l.a.createElement("div",{className:"copyright label"},"Copyright 2016-",(new Date).getFullYear(),", Compose Labs Inc. All rights reserved.")))}}]),t}(l.a.PureComponent),b=n.i(u.connect)(r)(g)},940:function(e,t,n){function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(943),r=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(t){a(this,e),this.target=t,this.events={}}return o(e,[{key:"getEventHandlers",value:function(){function e(e,t){var n=String(e)+" "+String((0,r.default)(t));return this.events[n]||(this.events[n]={handlers:[],handleEvent:void 0}),this.events[n]}return e}()},{key:"handleEvent",value:function(){function e(e,t,n){this.getEventHandlers(e,t).handlers.forEach(function(e){e&&e(n)})}return e}()},{key:"add",value:function(){function e(e,t,n){var a=this,o=this.getEventHandlers(e,n);0===o.handlers.length&&(o.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,o.handleEvent,n)),o.handlers.push(t);var i=!0;return function(){function r(){if(i){i=!1;var r=o.handlers.indexOf(t);o.handlers.splice(r,1),0===o.handlers.length&&(a.target&&a.target.removeEventListener(e,o.handleEvent,n),o.handleEvent=void 0)}}return r}()}return e}()}]),e}();t.default=s},941:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n},942:function(e,t,n){function a(){if(!r.default)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){function t(){e=!0}return t}()});window.addEventListener("test",null,t)}catch(e){}return e}function o(){return void 0===s&&(s=a()),s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(941),r=function(e){return e&&e.__esModule?e:{default:e}}(i),s=void 0},943:function(e,t){function n(e){return e?!0===e?100:(e.capture<<0)+(e.passive<<1)+(e.once<<2):0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},944:function(e,t,n){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,a){e[u]||(e[u]=new c.default(e));var o=(0,s.default)(a);return e[u].add(t,n,o)}function i(e){e()}Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_HANDLERS_KEY=void 0,t.addEventListener=o,t.removeEventListener=i;var r=n(945),s=a(r),l=n(940),c=a(l),u=t.EVENT_HANDLERS_KEY="__consolidated_events_handlers__"},945:function(e,t,n){function a(e){if(e)return(0,i.default)()?e:!!e.capture}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(942),i=function(e){return e&&e.__esModule?e:{default:e}}(o)},948:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=(0,l.default)(e);if("number"==typeof n)return n;var a=(0,r.default)(e);return"number"==typeof a?a*t:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(954),r=a(i),s=n(955),l=a(s);e.exports=t.default},949:function(e,t,n){"use strict";function a(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},950:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&(r.default.Children.only(e),!(0,l.default)(e)))throw new Error("You must wrap any Component Elements passed to Waypoint in a DOM Element (eg; a <div>).")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(1),r=a(i),s=n(952),l=a(s);e.exports=t.default},951:function(e,t,n){"use strict";function a(e){return e.viewportBottom-e.viewportTop==0?i.default.invisible:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom?i.default.inside:e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom?i.default.inside:e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?i.default.inside:e.viewportBottom<e.waypointTop?i.default.below:e.waypointTop<e.viewportTop?i.default.above:i.default.invisible}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(904),i=function(e){return e&&e.__esModule?e:{default:e}}(o);e.exports=t.default},952:function(e,t,n){"use strict";function a(e){return"string"==typeof e.type}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},953:function(e,t,n){"use strict";function a(e){i.push(e),o||(o=setTimeout(function(){o=null;for(var e=void 0;e=i.shift();)e()},0));var t=!0;return function(){if(t){t=!1;var n=i.indexOf(e);-1!==n&&(i.splice(n,1),!i.length&&o&&(clearTimeout(o),o=null))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=void 0,i=[];e.exports=t.default},954:function(e,t,n){"use strict";function a(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},955:function(e,t,n){"use strict";function a(e){return!isNaN(parseFloat(e))&&isFinite(e)?parseFloat(e):"px"===e.slice(-2)?parseFloat(e.slice(0,-2)):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},956:function(e,t,n){"use strict";(function(n){function a(e){return"window"===e?n.window:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default}).call(t,n(27))},973:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{communities:e.get("communities"),currentLoggedInUser:e.get("currentLoggedInUser"),visitedPaths:e.get("visitedPaths")}}n.d(t,"a",function(){return E});var s=n(1),l=n.n(s),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(39)),d=(n.n(p),n(59)),m=n.n(d),f=n(901),h=(n.n(f),n(990)),y=(n(325),n(58)),g=n(17),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isCommunityDropdownPickerModalOpen:!1},n.toggleDropdownState=n.toggleDropdownState.bind(n),n.onActiveCommunityClick=n.onActiveCommunityClick.bind(n),n}return i(t,e),b(t,[{key:"toggleDropdownState",value:function(){this.setState({isCommunityDropdownPickerModalOpen:!this.state.isCommunityDropdownPickerModalOpen})}},{key:"onActiveCommunityClick",value:function(e){var t=this.props.visitedPaths&&this.props.visitedPaths.get(-2)&&this.props.visitedPaths.get(-2).get("path"),a=this.props.visitedPaths&&this.props.visitedPaths.get(-1)&&this.props.visitedPaths.get(-1).get("path");t&&a&&n.i(y.l)(t)==this.props.activeCommunityId&&n.i(y.l)(a)!=this.props.activeCommunityId&&(e.preventDefault(),e.stopPropagation(),this.props.router.goBack())}},{key:"render",value:function(){var e=l.a.createElement("div",{className:"thin-button never-hide categories-button",onClick:this.toggleDropdownState},"Categories");return l.a.createElement("div",{className:"community-dropdown-picker"},e,l.a.createElement(m.a,{isOpen:this.state.isCommunityDropdownPickerModalOpen,onRequestClose:this.toggleDropdownState,overlayClassName:"modal-overlay community-dropdown-picker-modal-overlay",className:"modal-content community-dropdown-picker-modal-content"},g.a&&l.a.createElement("div",{className:"section-heading"},"Categories"),l.a.createElement(h.a,{location:this.props.location,onClick:this.toggleDropdownState})))}}]),t}(l.a.PureComponent),E=n.i(c.connect)(r)(n.i(u.withRouter)(v))},990:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){return{myCommunities:e.get("myCommunities"),communities:e.get("communities"),currentLoggedInUser:e.get("currentLoggedInUser"),searchResults:e.get("search"),isFetchingGlobalSearch:e.get("isFetchingGlobalSearch")}}n.d(t,"a",function(){return v});var s=n(1),l=n.n(s),c=n(37),u=(n.n(c),n(15)),p=(n.n(u),n(39)),d=(n.n(p),n(38)),m=n(901),f=n.n(m),h=n(325),y=(n(324),n(58),n(131),n(97)),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.search("","popularCommunities"),n.onClick=n.onClick.bind(n),n}return i(t,e),g(t,[{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props.searchResults.getIn(["","popularCommunities"])||n.i(p.List)(),a=t,o=a.map(function(t,a){return l.a.createElement(u.Link,{className:"no-decoration",to:"/community/"+t,title:e.props.communities.get(t).get("name"),onClick:e.onClick},l.a.createElement("div",{className:"sidebar-row sidebar-community-row"},l.a.createElement("div",{className:"avatar-image",style:{backgroundImage:"url("+(n.i(h.c)(e.props.communities.get(t).get("coverImg"),60)||f.a)+")"}}),l.a.createElement("div",{className:e.props.activeCommunityId==t?"sidebar-label active":"sidebar-label"},e.props.communities.get(t).get("name"))))});return l.a.createElement("div",{className:"communities-section"},l.a.createElement("div",null,o.size>0?[l.a.createElement("div",{className:"spacer"}),o,l.a.createElement("div",{className:"spacer"})]:this.props.isFetchingGlobalSearch?l.a.createElement("div",{className:"loader-div"},l.a.createElement(y.a,null),l.a.createElement("div",{className:"loading-text"},"Loading...")):null))}}]),t}(l.a.PureComponent),v=n.i(c.connect)(r,{fetchUserCommunities:d.F,search:d.G})(n.i(u.withRouter)(b))}});